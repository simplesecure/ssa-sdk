((f,g)=>{let h=function(){return this}(),d={},e=(b,c)=>{if(!c){let a=d[b];return a||(a=d[b]={exports:{}},f[b].call(h,e,a.exports,a),a.exports instanceof Function&&(a.exports.default=a.exports)),a.exports}for(let a in c)Object.defineProperty(b,a,{get:c[a],enumerable:!0})};return e(g)})({7(J,s,x){(function(i,f){typeof s==="object"&&typeof x!=="undefined"?f(s):typeof define==="function"&&define.amd?define(["exports"],f):f(i.WHATWGFetch={})})(this,function(i){"use strict";var f={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob(),!0}catch(a){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function y(a){return a&&DataView.prototype.isPrototypeOf(a)}if(f.arrayBuffer)var H=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],I=ArrayBuffer.isView||function(a){return a&&H.indexOf(Object.prototype.toString.call(a))>-1};function l(a){typeof a!=="string"&&(a=String(a));if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function t(a){return typeof a!=="string"&&(a=String(a)),a}function o(a){var b={next:function(){var c=a.shift();return{done:c===void 0,value:c}}};return f.iterable&&(b[Symbol.iterator]=function(){return b}),b}function e(a){this.map={},a instanceof e?a.forEach(function(b,c){this.append(c,b)},this):Array.isArray(a)?a.forEach(function(b){this.append(b[0],b[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}e.prototype.append=function(a,b){a=l(a),b=t(b);var c=this.map[a];this.map[a]=c?c+", "+b:b},e.prototype.delete=function(a){delete this.map[l(a)]},e.prototype.get=function(a){return a=l(a),this.has(a)?this.map[a]:null},e.prototype.has=function(a){return this.map.hasOwnProperty(l(a))},e.prototype.set=function(a,b){this.map[l(a)]=t(b)},e.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},e.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),o(a)},e.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),o(a)},e.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),o(a)},f.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);function p(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function u(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function z(a){var b=new FileReader(),c=u(b);return b.readAsArrayBuffer(a),c}function A(a){var b=new FileReader(),c=u(b);return b.readAsText(a),c}function B(a){for(var b=new Uint8Array(a),c=new Array(b.length),h=0;h<b.length;h++)c[h]=String.fromCharCode(b[h]);return c.join("")}function v(a){if(a.slice)return a.slice(0);{var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}}function w(){return this.bodyUsed=!1,this._initBody=function(a){this._bodyInit=a,a?typeof a==="string"?this._bodyText=a:f.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:f.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():f.arrayBuffer&&f.blob&&y(a)?(this._bodyArrayBuffer=v(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||I(a))?this._bodyArrayBuffer=v(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="",this.headers.get("content-type")||(typeof a==="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var a=p(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);{if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));{if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}}},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(z)}),this.text=function(){var a=p(this);if(a)return a;if(this._bodyBlob)return A(this._bodyBlob);{if(this._bodyArrayBuffer)return Promise.resolve(B(this._bodyArrayBuffer));{if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}}},f.formData&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(a){var b=a.toUpperCase();return C.indexOf(b)>-1?b:a}function k(a,b){b=b||{};var c=b.body;if(a instanceof k){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!c&&a._bodyInit!=null&&(c=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);this.credentials=b.credentials||this.credentials||"same-origin",(b.headers||!this.headers)&&(this.headers=new e(b.headers)),this.method=D(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal,this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&c)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(c)}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function E(a){var b=new FormData();return a.trim().split("&").forEach(function(c){if(c){var h=c.split("="),g=h.shift().replace(/\+/g," "),d=h.join("=").replace(/\+/g," ");b.append(decodeURIComponent(g),decodeURIComponent(d))}}),b}function F(a){var b=new e(),c=a.replace(/\r?\n[\t ]+/g," ");return c.split(/\r?\n/).forEach(function(h){var g=h.split(":"),d=g.shift().trim();if(d){var n=g.join(":").trim();b.append(d,n)}}),b}w.call(k.prototype);function j(a,b){b||(b={}),this.type="default",this.status=b.status===void 0?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new e(b.headers),this.url=b.url||"",this._initBody(a)}w.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},j.error=function(){var a=new j(null,{status:0,statusText:""});return a.type="error",a};var G=[301,302,303,307,308];j.redirect=function(a,b){if(G.indexOf(b)===-1)throw new RangeError("Invalid status code");return new j(null,{status:b,headers:{location:a}})},i.DOMException=self.DOMException;try{new i.DOMException()}catch(a){i.DOMException=function(b,c){this.message=b,this.name=c;var h=Error(b);this.stack=h.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function q(a,b){return new Promise(function(c,h){var g=new k(a,b);if(g.signal&&g.signal.aborted)return h(new i.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest();function n(){d.abort()}d.onload=function(){var m={status:d.status,statusText:d.statusText,headers:F(d.getAllResponseHeaders()||"")};m.url="responseURL"in d?d.responseURL:m.headers.get("X-Request-URL");var r="response"in d?d.response:d.responseText;c(new j(r,m))},d.onerror=function(){h(new TypeError("Network request failed"))},d.ontimeout=function(){h(new TypeError("Network request failed"))},d.onabort=function(){h(new i.DOMException("Aborted","AbortError"))},d.open(g.method,g.url,!0),g.credentials==="include"?d.withCredentials=!0:g.credentials==="omit"&&(d.withCredentials=!1),"responseType"in d&&f.blob&&(d.responseType="blob"),g.headers.forEach(function(m,r){d.setRequestHeader(r,m)}),g.signal&&(g.signal.addEventListener("abort",n),d.onreadystatechange=function(){d.readyState===4&&g.signal.removeEventListener("abort",n)}),d.send(typeof g._bodyInit==="undefined"?null:g._bodyInit)})}q.polyfill=!0,self.fetch||(self.fetch=q,self.Headers=e,self.Request=k,self.Response=j),i.Headers=e,i.Request=k,i.Response=j,i.fetch=q,Object.defineProperty(i,"__esModule",{value:!0})});
},
3(D,C,l){(function(j,f){"use strict";typeof define==="function"&&define.amd?define(f):typeof l==="object"&&l.exports?l.exports=f():j.log=f()})(this,function(){"use strict";var j=function(){},f="undefined",u=typeof window!==f&&/Trident\/|MSIE /.test(window.navigator.userAgent),m=["trace","debug","info","warn","error"];function p(b,e){var d=b[e];if(typeof d.bind==="function")return d.bind(b);try{return Function.prototype.bind.call(d,b)}catch(c){return function(){return Function.prototype.apply.apply(d,[b,arguments])}}}function v(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function w(b){return b==="debug"&&(b="log"),typeof console===f?!1:b==="trace"&&u?v:console[b]!==void 0?p(console,b):console.log!==void 0?p(console,"log"):j}function q(b,e){for(var d=0;d<m.length;d++){var c=m[d];this[c]=d<b?j:this.methodFactory(c,b,e)}this.log=this.debug}function x(b,e,d){return function(){typeof console!==f&&(q.call(this,e,d),this[b].apply(this,arguments))}}function y(b,e,d){return w(b)||x.apply(this,arguments)}function r(b,e,d){var c=this,s,i="loglevel";b&&(i+=":"+b);function A(a){var h=(m[a]||"silent").toUpperCase();if(typeof window===f)return;try{window.localStorage[i]=h;return}catch(k){}try{window.document.cookie=encodeURIComponent(i)+"="+h+";"}catch(k){}}function t(){var a;if(typeof window===f)return;try{a=window.localStorage[i]}catch(B){}if(typeof a===f)try{var h=window.document.cookie,k=h.indexOf(encodeURIComponent(i)+"=");k!==-1&&(a=/^([^;]+)/.exec(h.slice(k))[1])}catch(B){}return c.levels[a]===void 0&&(a=void 0),a}c.name=b,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=d||y,c.getLevel=function(){return s},c.setLevel=function(a,h){typeof a==="string"&&c.levels[a.toUpperCase()]!==void 0&&(a=c.levels[a.toUpperCase()]);if(typeof a==="number"&&a>=0&&a<=c.levels.SILENT){s=a,h!==!1&&A(a),q.call(c,a,b);if(typeof console===f&&a<c.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+a},c.setDefaultLevel=function(a){t()||c.setLevel(a,!1)},c.enableAll=function(a){c.setLevel(c.levels.TRACE,a)},c.disableAll=function(a){c.setLevel(c.levels.SILENT,a)};var o=t();o==null&&(o=e==null?"WARN":e),c.setLevel(o,!1)}var g=new r(),n={};g.getLogger=function b(e){if(typeof e!=="string"||e==="")throw new TypeError("You must supply a name when creating a logger.");var d=n[e];return d||(d=n[e]=new r(e,g.getLevel(),g.methodFactory)),d};var z=typeof window!==f?window.log:void 0;return g.noConflict=function(){return typeof window!==f&&window.log===g&&(window.log=z),g},g.getLoggers=function b(){return n},g});
},
2(G,F,m){(function(f,i){typeof define==="function"&&define.amd?define(i):typeof m==="object"&&m.exports?m.exports=i():f.prefix=i(f)})(this,function(f){"use strict";var i=function(a){for(var b=1,n=arguments.length,d;b<n;b++)for(d in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],d)&&(a[d]=arguments[b][d]);return a},v={template:"[%t] %l:",levelFormatter:function(a){return a.toUpperCase()},nameFormatter:function(a){return a||"root"},timestampFormatter:function(a){return a.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},format:void 0},o,g={},w=function(a){if(!a||!a.getLogger)throw new TypeError("Argument is not a root logger");o=a},x=function(a,b){if(!a||!a.setLevel)throw new TypeError("Argument is not a logger");var n=a.methodFactory,d=a.name||"",y=g[d]||g[""]||v;function z(q,A,k){var B=n(q,A,k),e=g[k]||g[""],C=e.template.indexOf("%t")!==-1,D=e.template.indexOf("%l")!==-1,E=e.template.indexOf("%n")!==-1;return function(){for(var c="",r=arguments.length,h=Array(r),l=0;l<r;l++)h[l]=arguments[l];if(d||!g[k]){var s=e.timestampFormatter(new Date()),t=e.levelFormatter(q),u=e.nameFormatter(k);e.format?c+=e.format(t,u,s):(c+=e.template,C&&(c=c.replace(/%t/,s)),D&&(c=c.replace(/%l/,t)),E&&(c=c.replace(/%n/,u))),h.length&&typeof h[0]==="string"?h[0]=c+" "+h[0]:h.unshift(c)}B.apply(void 0,h)}}return g[d]||(a.methodFactory=z),b=b||{},b.template&&(b.format=void 0),g[d]=i({},y,b),a.setLevel(a.getLevel()),o||a.warn("It is necessary to call the function reg() of loglevel-plugin-prefix before calling apply. From the next release, it will throw an error. See more: https://github.com/kutuluk/loglevel-plugin-prefix/blob/master/README.md"),a},j={reg:w,apply:x},p;return f&&(p=f.prefix,j.noConflict=function(){return f.prefix===j&&(f.prefix=p),j}),j});
},
8(s,N){const n=s(3),K=s(2),t="loglevel",B=[t,`${t}:helpers`],y=["TRACE","DEBUG","INFO","WARN","ERROR"],C="DEBUG";function L(a){K.apply(a,{format(b,d,e){const g=d!=="root"?` (${d})`:"";return`${b} SID-SDK${g}:`}})}K.reg(n),L(n);function I(a=void 0){let b=n;return a&&(b=n.getLogger(a),L(b)),b}function ca(a={}){for(const b of B){const d=b.replace(`${t}:`,"");let e=C;try{const g=a[b];y.includes(g)&&(e=g)}catch(g){n.debug(`Suppressed error getting override iFrame log level for ${d}.
${g}`)}try{d===t?n.setLevel(e):n.getLogger(d).setLevel(e)}catch(g){n.debug(`Suppressed error setting the iframe log level for ${d} to ${e}.
${g}`)}}}function Q(){const a={};for(const b of B)a[b]=C;for(const b in a)try{const d=localStorage.getItem(b);y.includes(d)&&(a[b]=d)}catch(d){n.debug(`Suppressed error fetching ${b} from local storage. Setting ${b} to default value, ${C}.
${d}`)}return a}function O(a,b){a&&!a.startsWith(t)&&(a=`${t}:${a}`),b||(b="DEBUG"),B.includes(a)&&y.includes(b)&&localStorage.setItem(a,b)}function J(a="DEBUG"){if(!y.includes(a)){console.log(`Scope level ${a} is not supported.  Supported levels are ${JSON.stringify(y,0,2)}.`);return}const b=Q();for(const d in b)localStorage.setItem(d,a);return}
const ga=s(7);const u=I("helpers"),R=s(1),S=s(0);const x="SimpleID-User-Session";const v="active-sid-message",w="messages-seen",T="sid-notifications",ia="00000000000000000000000000000000";let D=!0,ja=!1,h,i;async function z(a){const b={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};let d={error:void 0,data:void 0};try{d=await R(async e=>{const g=await fetch(S.SID_API_HOST,b);if(g.status>=400&&g.status<=499){e(`__issueWebApiCmd failed with client error ${g.status} (${g.statusText})`);return}return await g.json()},{retries:3,minTimeout:500,maxTimeout:5000,onRetry:e=>{u.warn(`Fetch attempt failed with error below. Retrying.
${e}`)}})}catch(e){u.debug(`in __issueWebApiCmd try/catch, error =
${e}`),d.error=e}return d}async function G(a,b,d){u.debug(`__fetchNotifications called.`);if(D){const e=A();let g="";try{g=e.wallet.ethAddr}catch(f){}if(g){const f={address:g,appId:a};D=!1;let c=[];const j={command:"handleNotificationData",data:f},q=await z(j);if(q.error)throw new Error(q.error);let r=q&&q.data?q.data:void 0;if(r&&r!=="Error fetching app data"&&r&&r.length>0){u.debug(`notificationData value = `,r),u.debug(`notificationData type = ${typeof r}`);let o=r.filter(p=>p.active===!0);if(o.length>1){const p=localStorage.getItem(w)!=="undefined"?JSON.parse(localStorage.getItem(w)):void 0;if(p&&p.length>0)for(const k of o){const l=p.filter(F=>F===k.id);(!l||!(l.length>0))&&c.push(k)}else c=o;if(c&&c.length>0)if(b===!0){const k=c[0],l={notification:k,appId:a};localStorage.setItem(v,JSON.stringify(l)),M(a,b,d)}else{if(c.length>0){const k=E(c);k.length>0&&(c=k)}return c}else return[]}else if(o.length===1){const p=localStorage.getItem(w)!=="undefined"?JSON.parse(localStorage.getItem(w)):void 0;if(p&&p.length>0)for(const k of o){const l=p.filter(F=>F===k.id);l&&l.length>0||c.push(k)}else c=o;if(b&&c.length>0){const k=c[0],l={notification:k,appId:a};localStorage.setItem(v,JSON.stringify(l)),M(a,b,d)}else{if(c.length>0){const k=c[0];localStorage.setItem(v,JSON.stringify(k));const l=E(c);l.length>0&&(c=l)}return localStorage.setItem(T,JSON.stringify(c)),c}}}else{if(c.length>0){const o=E(c);o.length>0&&(c=o)}return c}}}}function A(){try{return JSON.parse(localStorage.getItem(x))}catch(a){}return}function M(a,b,d){const e=document.head||document.getElementsByTagName("head")[0],g=document.createElement("link");g.rel="stylesheet",g.href="https://use.fontawesome.com/releases/v5.0.6/css/all.css";const f=document.createElement("i");f.setAttribute("class","far fa-bell"),f.style.color="#fff",f.style.fontSize="20px",h=document.createElement("button"),h.setAttribute("id","notification-button"),h.appendChild(f),h.style.width="60px",h.style.height="60px",h.style.background="#2568EF",h.style.border="none",h.style.borderRadius="50%",h.style.cursor="pointer",h.style.boxShadow="0 3px 7px rgba(0,0,0,0.12)",h.style.position="fixed",h.style.zIndex="1024",h.style.bottom="15px",h.style.right="15px",h.setAttribute("id","appMessageButton"),h.onclick=()=>{U()};const c=document.createElement("div");c.style.background="red",c.style.width="8px",c.style.height="8px",c.style.borderRadius="50%",c.style.position="absolute",c.style.bottom="32px",c.style.right="22px",h.appendChild(c),i=document.createElement("div"),i.setAttribute("id","message-element"),i.style.width="300px",i.style.height="85vh",i.style.position="fixed",i.style.zIndex="1024",i.style.right="15px",i.style.bottom="15px",i.style.background="#fff",i.style.borderRadius="5px",i.style.boxShadow="0 3px 7px rgba(0,0,0,0.12)",i.style.paddingTop="15px";const j=document.createElement("button");j.setAttribute("id","messagesClose"),j.style.border="none",j.style.position="absolute",j.style.right="10px",j.style.top="10px",j.style.background="#fff",j.style.cursor="pointer",j.innerText="Dismiss",j.onclick=()=>{V(a,b,d)},i.appendChild(j),e.appendChild(g),document.body.appendChild(h)}function U(){const a=JSON.parse(localStorage.getItem(v));h.style.display="none";let b=document.createElement("div");b.style.width="100%",b.style.height="100%",b.style.zIndex="1024",b.style.border="none";let d=document.createElement("div");b.appendChild(d),d.setAttribute("class","message-body");let e=document.createElement("div");e.innerHTML=a.notification?a.notification.content:a.content,d.appendChild(e),b.style.width="100%",d.style.padding="15px",e.style.fontSize="16px",e.style.marginBottom="10px",i.appendChild(b),document.body.appendChild(i)}async function V(a,b,d){const e=JSON.parse(localStorage.getItem(v)),g=e.notification?e.notification.id:e.id;let f=JSON.parse(localStorage.getItem(w));f&&f.length>0?f.push(g):(f=[],f.push(g)),localStorage.setItem(w,JSON.stringify(f)),i&&(i.style.display="none");const c={appData:d,address:A().wallet.ethAddr,dateSeen:Date.now(),messageID:g};try{const j={command:"handleNotificationSeen",data:c},q=await z(j);if(q.error)throw new Error(q.error)}catch(j){u.error(`Failed marking notifications as seen while dismissing messages.
${j}`)}localStorage.removeItem(v),D=!0,G(a,b,d)}function E(a){let b=[];for(const d of a){const e=d.content.replace(/(<([^>]+)>)/ig,"");d.plain_text=e,b.push(d)}return b}function H(a){try{if(a.wallet.ethAddr)return!0}catch(b){}return!1}
s(N,{default:()=>P});const m=I();class _{constructor(a){this.config=a,this.appId=a.appId,this.appOrigin=a.appOrigin,this.renderNotifications=a.renderNotifications,this.activeNotifications=[],this.passUserInfoStatus=void 0}async passUserInfo(a){const b="SimpleID::passUserInfo";if(this.passUserInfoStatus){const f=`${b}: This method is only intended to be called once per session. Ignoring this call. This warning occurs when this method is called in the wrong place (i.e. the render method).`;return m.warn(f),f}let d;try{d=localStorage.getItem(x),m.debug("Checking session data:"),m.debug(d);if(H(d)){const f=`${b}: This method is only intended to be called once per session. Ignoring this call. This warning occurs when this method is called in the wrong place (i.e. the render method).`;return m.warn(f),f}}catch(f){}if(!a.address){const f=`${b}: This method requires a valid address property passed in through userInfo.  userInfo.address=${a.address}`;return m.error(f),f}this.passUserInfoStatus="processing";let e,g;try{const f={command:"registerUser",data:{appId:this.appId,email:a.email,address:a.address}},c=await z(f);m.debug(`passUserInfo: webApiResult is ${JSON.stringify(c,0,2)}`);if(c.error)throw new Error(c.error);g=c.data}catch(f){this.passUserInfoStatus=void 0;const c=`${b}: Failed registering user data.
${f}`;m.error(c),e=c}try{if(H(g))m.debug(`Writing local storage:
key:${x}
value:${JSON.stringify(g)}
`),localStorage.setItem(x,JSON.stringify(g)),this.passUserInfoStatus="complete",e="success",m.info(`${b}: Succeeded.`);else throw new Error(`User data returned from passUserInfo is not valid.`)}catch(f){this.passUserInfoStatus=void 0;const c=`${b}: Failed writing session to local storage.
${f}`;m.error(c),e=c}if(e==="success"){const f=2000;setTimeout(()=>{this.notifications()},f)}return e}async notifications(){try{return await G(this.appId,this.renderNotifications,this.config)}catch(a){return m.warn(`Failed to fetch notifications.
${a}`),[]}}signOut(){try{localStorage.removeItem(x)}catch(a){}window.location.reload()}getUserData(){return A()}}window&&(window.sid={debugScope:function(a,b=void 0){O(a,b)},debugAll:function(){"use strict";J()},debugOff:function(){"use strict";J("INFO")}});
},
6(k,j,i){function d(b,a){typeof a==="boolean"&&(a={forever:a}),this._originalTimeouts=JSON.parse(JSON.stringify(b)),this._timeouts=b,this._options=a||{},this._maxRetryTime=a&&a.maxRetryTime||Infinity,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}i.exports=d,d.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},d.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},d.prototype.retry=function(b){this._timeout&&clearTimeout(this._timeout);if(!b)return!1;var a=new Date().getTime();if(b&&a-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(b);var e=this._timeouts.shift();if(e===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),e=this._timeouts.shift();else return!1;var c=this,f=setTimeout(function(){c._attempts++,c._operationTimeoutCb&&(c._timeout=setTimeout(function(){c._operationTimeoutCb(c._attempts)},c._operationTimeout),c._options.unref&&c._timeout.unref()),c._fn(c._attempts)},e);return this._options.unref&&f.unref(),!0},d.prototype.attempt=function(b,a){this._fn=b,a&&(a.timeout&&(this._operationTimeout=a.timeout),a.cb&&(this._operationTimeoutCb=a.cb));var e=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){e._operationTimeoutCb()},e._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},d.prototype.try=function(b){console.log("Using RetryOperation.try() is deprecated"),this.attempt(b)},d.prototype.start=function(b){console.log("Using RetryOperation.start() is deprecated"),this.attempt(b)},d.prototype.start=d.prototype.try,d.prototype.errors=function(){return this._errors},d.prototype.attempts=function(){return this._attempts},d.prototype.mainError=function(){if(this._errors.length===0)return null;for(var b={},a=null,e=0,c=0;c<this._errors.length;c++){var f=this._errors[c],h=f.message,g=(b[h]||0)+1;b[h]=g,g>=e&&(a=f,e=g)}return a};
},
5(l,f){var m=l(6);f.operation=function(a){var b=f.timeouts(a);return new m(b,{forever:a&&a.forever,unref:a&&a.unref,maxRetryTime:a&&a.maxRetryTime})},f.timeouts=function(a){if(a instanceof Array)return[].concat(a);var b={retries:10,factor:2,minTimeout:1*1000,maxTimeout:Infinity,randomize:!1};for(var d in a)b[d]=a[d];if(b.minTimeout>b.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var c=[],e=0;e<b.retries;e++)c.push(this.createTimeout(e,b));return a&&a.forever&&!c.length&&c.push(this.createTimeout(e,b)),c.sort(function(g,h){return g-h}),c},f.createTimeout=function(a,b){var c=b.randomize?Math.random()+1:1,d=Math.round(c*b.minTimeout*Math.pow(b.factor,a));return d=Math.min(d,b.maxTimeout),d},f.wrap=function(a,b,c){b instanceof Array&&(c=b,b=null);if(!c){c=[];for(var d in a)typeof a[d]==="function"&&c.push(d)}for(var e=0;e<c.length;e++){var g=c[e],h=a[g];a[g]=function r(n){var i=f.operation(b),j=Array.prototype.slice.call(arguments,1),o=j.pop();j.push(function(k){if(i.retry(k))return;k&&(arguments[0]=i.mainError()),o.apply(this,arguments)}),i.attempt(function(){n.apply(a,j)})}.bind(a,h),a[g].options=b}};
},
4(a,c,b){b.exports=a(5);
},
1(i,s,j){var k=i(4);function l(m,n){function o(p,e){var b=n||{};"randomize"in b||(b.randomize=!0);var d=k.operation(b);function f(a){e(a||new Error("Aborted"))}function g(a,c){if(a.bail){f(a);return}d.retry(a)?b.onRetry&&b.onRetry(a,c):e(d.mainError())}function q(a){var c;try{c=m(f,a)}catch(h){g(h,a);return}Promise.resolve(c).then(p).catch(function h(r){g(r,a)})}d.attempt(q)}return new Promise(o)}j.exports=l;
},
0(require,exports,module){module.exports={SID_API_HOST:"http://localhost:3005",SID_API_HOST_LOCAL:"http://localhost:3005",SID_API_HOST_REMOTE:"http://ec2-34-217-118-216.us-west-2.compute.amazonaws.com:3005"};
}},8);
//# sourceMappingURL=/Users/polluterofminds/Development/simpleid/ssa-sdk/dist/simple.min.js.map
