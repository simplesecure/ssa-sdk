{"id":"Nn9z","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/package.json","includedInParent":true,"mtime":1582579778668},{"name":"callbackify","loc":{"line":3,"column":28},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/stop.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/callbackify/index.js"}],"generated":{"js":"\"use strict\";const t=require(\"callbackify\");module.exports=(e=>t(async()=>{if(e.log(\"stop\"),\"stopped\"===e.state.state())throw new Error(\"Already stopped\");if(\"running\"!==e.state.state())throw new Error(\"Not able to stop from state: \"+e.state.state());e.state.stop(),e._blockService.unsetExchange(),e._bitswap.stop(),e._preload.stop();const t=e.libp2p;e.libp2p=null;try{await Promise.all([e._ipns.republisher.stop(),e._mfsPreload.stop(),t.stop(),e._repo.close()]),e.state.stopped(),e.emit(\"stop\")}catch(s){throw e.emit(\"error\",s),s}}));"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"callbackify","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"require","original":{"line":3,"column":20},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":3,"column":28},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"module","original":{"line":5,"column":0},"generated":{"line":1,"column":44}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"exports","original":{"line":5,"column":7},"generated":{"line":1,"column":51}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":5,"column":18},"generated":{"line":1,"column":59}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":5,"column":18},"generated":{"line":1,"column":60}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"callbackify","original":{"line":6,"column":9},"generated":{"line":1,"column":63}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":6,"column":21},"generated":{"line":1,"column":65}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":9,"column":8},"generated":{"line":1,"column":75}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":7,"column":4},"generated":{"line":1,"column":78}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"log","original":{"line":7,"column":9},"generated":{"line":1,"column":80}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":7,"column":13},"generated":{"line":1,"column":84}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":9,"column":31},"generated":{"line":1,"column":92}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":9,"column":8},"generated":{"line":1,"column":104}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"state","original":{"line":9,"column":13},"generated":{"line":1,"column":106}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"state","original":{"line":9,"column":19},"generated":{"line":1,"column":112}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":10,"column":12},"generated":{"line":1,"column":120}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":10,"column":12},"generated":{"line":1,"column":126}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"Error","original":{"line":10,"column":16},"generated":{"line":1,"column":130}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":10,"column":22},"generated":{"line":1,"column":136}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":13,"column":8},"generated":{"line":1,"column":155}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":13,"column":31},"generated":{"line":1,"column":158}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":13,"column":8},"generated":{"line":1,"column":170}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"state","original":{"line":13,"column":13},"generated":{"line":1,"column":172}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"state","original":{"line":13,"column":19},"generated":{"line":1,"column":178}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":14,"column":12},"generated":{"line":1,"column":186}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":14,"column":12},"generated":{"line":1,"column":192}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"Error","original":{"line":14,"column":16},"generated":{"line":1,"column":196}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":14,"column":22},"generated":{"line":1,"column":202}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":14,"column":56},"generated":{"line":1,"column":234}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"state","original":{"line":14,"column":61},"generated":{"line":1,"column":236}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"state","original":{"line":14,"column":67},"generated":{"line":1,"column":242}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":17,"column":4},"generated":{"line":1,"column":251}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"state","original":{"line":17,"column":9},"generated":{"line":1,"column":253}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"stop","original":{"line":17,"column":15},"generated":{"line":1,"column":259}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":18,"column":4},"generated":{"line":1,"column":266}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"_blockService","original":{"line":18,"column":9},"generated":{"line":1,"column":268}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"unsetExchange","original":{"line":18,"column":23},"generated":{"line":1,"column":282}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":19,"column":4},"generated":{"line":1,"column":298}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"_bitswap","original":{"line":19,"column":9},"generated":{"line":1,"column":300}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"stop","original":{"line":19,"column":18},"generated":{"line":1,"column":309}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":20,"column":4},"generated":{"line":1,"column":316}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"_preload","original":{"line":20,"column":9},"generated":{"line":1,"column":318}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"stop","original":{"line":20,"column":18},"generated":{"line":1,"column":327}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"libp2p","original":{"line":22,"column":10},"generated":{"line":1,"column":334}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"libp2p","original":{"line":22,"column":10},"generated":{"line":1,"column":340}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":22,"column":19},"generated":{"line":1,"column":342}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"libp2p","original":{"line":22,"column":24},"generated":{"line":1,"column":344}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":23,"column":4},"generated":{"line":1,"column":351}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"libp2p","original":{"line":23,"column":9},"generated":{"line":1,"column":353}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":23,"column":18},"generated":{"line":1,"column":360}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":25,"column":8},"generated":{"line":1,"column":365}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"Promise","original":{"line":26,"column":12},"generated":{"line":1,"column":375}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"all","original":{"line":26,"column":20},"generated":{"line":1,"column":383}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":26,"column":24},"generated":{"line":1,"column":387}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":27,"column":8},"generated":{"line":1,"column":388}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"_ipns","original":{"line":27,"column":13},"generated":{"line":1,"column":390}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"republisher","original":{"line":27,"column":19},"generated":{"line":1,"column":396}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"stop","original":{"line":27,"column":31},"generated":{"line":1,"column":408}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":28,"column":8},"generated":{"line":1,"column":415}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"_mfsPreload","original":{"line":28,"column":13},"generated":{"line":1,"column":417}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"stop","original":{"line":28,"column":25},"generated":{"line":1,"column":429}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"libp2p","original":{"line":29,"column":8},"generated":{"line":1,"column":436}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"stop","original":{"line":29,"column":15},"generated":{"line":1,"column":438}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":30,"column":8},"generated":{"line":1,"column":445}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"_repo","original":{"line":30,"column":13},"generated":{"line":1,"column":447}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"close","original":{"line":30,"column":19},"generated":{"line":1,"column":453}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":33,"column":6},"generated":{"line":1,"column":463}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"state","original":{"line":33,"column":11},"generated":{"line":1,"column":465}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"stopped","original":{"line":33,"column":17},"generated":{"line":1,"column":471}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":34,"column":6},"generated":{"line":1,"column":481}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"emit","original":{"line":34,"column":11},"generated":{"line":1,"column":483}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":34,"column":16},"generated":{"line":1,"column":488}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":35,"column":6},"generated":{"line":1,"column":496}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"err","original":{"line":35,"column":13},"generated":{"line":1,"column":502}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"err","original":{"line":37,"column":12},"generated":{"line":1,"column":505}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"self","original":{"line":36,"column":6},"generated":{"line":1,"column":511}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"emit","original":{"line":36,"column":11},"generated":{"line":1,"column":513}},{"source":"node_modules/ipfs/src/core/components/stop.js","original":{"line":36,"column":16},"generated":{"line":1,"column":518}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"err","original":{"line":36,"column":25},"generated":{"line":1,"column":526}},{"source":"node_modules/ipfs/src/core/components/stop.js","name":"err","original":{"line":37,"column":12},"generated":{"line":1,"column":529}}],"sources":{"node_modules/ipfs/src/core/components/stop.js":"'use strict'\n\nconst callbackify = require('callbackify')\n\nmodule.exports = (self) => {\n  return callbackify(async () => {\n    self.log('stop')\n\n    if (self.state.state() === 'stopped') {\n      throw new Error('Already stopped')\n    }\n\n    if (self.state.state() !== 'running') {\n      throw new Error('Not able to stop from state: ' + self.state.state())\n    }\n\n    self.state.stop()\n    self._blockService.unsetExchange()\n    self._bitswap.stop()\n    self._preload.stop()\n\n    const libp2p = self.libp2p\n    self.libp2p = null\n\n    try {\n      await Promise.all([\n        self._ipns.republisher.stop(),\n        self._mfsPreload.stop(),\n        libp2p.stop(),\n        self._repo.close()\n      ])\n\n      self.state.stopped()\n      self.emit('stop')\n    } catch (err) {\n      self.emit('error', err)\n      throw err\n    }\n  })\n}\n"},"lineCount":null}},"error":null,"hash":"789026d3280346e69b45f01446e8e40d","cacheData":{"env":{}}}