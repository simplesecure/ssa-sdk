{"id":"oK32","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/peer-book/package.json","includedInParent":true,"mtime":1582579780372},{"name":"bs58","loc":{"line":3,"column":21},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/peer-book/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/bs58/index.js"},{"name":"peer-id","loc":{"line":4,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/peer-book/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/peer-id/src/index.js"},{"name":"peer-info","loc":{"line":5,"column":25},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/peer-book/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/peer-info/src/index.js"},{"name":"multiaddr","loc":{"line":6,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/peer-book/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/multiaddr/src/index.js"},{"name":"buffer","parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/peer-book/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;const r=require(\"bs58\"),t=require(\"peer-id\"),i=require(\"peer-info\"),s=require(\"multiaddr\");function o(o){let d;if(\"string\"==typeof o)d=o.startsWith(\"/\")?s(o).getPeerId():o;else if(e.isBuffer(o))d=r.encode(o).toString();else if(t.isPeerId(o))d=o.toB58String();else if(i.isPeerInfo(o))d=o.id.toB58String();else{if(!s.isMultiaddr(o))throw new Error(\"not valid PeerId or PeerInfo, or B58Str\");d=o.getPeerId()}return d}class d{constructor(){this._peers={}}has(e){const r=o(e);return Boolean(this._peers[r])}put(e,r){const t=this._peers[e.id.toB58String()];if(!t||r)return this._peers[e.id.toB58String()]=e,e;e.multiaddrs.forEach(e=>t.multiaddrs.add(e));const i=e.isConnected();return i&&t.connect(i),e.protocols.forEach(e=>t.protocols.add(e)),!t.id.privKey&&e.id.privKey&&(t.id.privKey=e.id.privKey),!t.id.pubKey&&e.id.pubKey&&(t.id.pubKey=e.id.pubKey),t}get(e){const r=o(e),t=this._peers[r];if(t)return t;throw new Error(\"PeerInfo not found\")}getAll(){return this._peers}getAllArray(){return Object.values(this._peers)}getMultiaddrs(e){return this.get(e).multiaddrs.toArray()}remove(e){const r=o(e);this._peers[r]&&delete this._peers[r]}}module.exports=d;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":123,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":123,"column":0},"generated":{"line":2,"column":4}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":123,"column":0},"generated":{"line":2,"column":6}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":123,"column":0},"generated":{"line":2,"column":14}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":123,"column":0},"generated":{"line":2,"column":24}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":3,"column":0},"generated":{"line":2,"column":31}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":3,"column":0},"generated":{"line":2,"column":37}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":3,"column":0},"generated":{"line":2,"column":39}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":3,"column":0},"generated":{"line":2,"column":47}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":4,"column":0},"generated":{"line":2,"column":55}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":4,"column":0},"generated":{"line":2,"column":57}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":4,"column":0},"generated":{"line":2,"column":65}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":5,"column":0},"generated":{"line":2,"column":76}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":5,"column":0},"generated":{"line":2,"column":78}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":5,"column":0},"generated":{"line":2,"column":86}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":6,"column":0},"generated":{"line":2,"column":99}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":6,"column":0},"generated":{"line":2,"column":101}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":6,"column":0},"generated":{"line":2,"column":109}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":8,"column":0},"generated":{"line":2,"column":122}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":8,"column":0},"generated":{"line":2,"column":131}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":8,"column":0},"generated":{"line":2,"column":133}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":9,"column":0},"generated":{"line":2,"column":136}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":9,"column":0},"generated":{"line":2,"column":140}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":11,"column":0},"generated":{"line":2,"column":142}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":11,"column":0},"generated":{"line":2,"column":145}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":11,"column":0},"generated":{"line":2,"column":162}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":13,"column":0},"generated":{"line":2,"column":164}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":12,"column":0},"generated":{"line":2,"column":166}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":12,"column":0},"generated":{"line":2,"column":168}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":12,"column":0},"generated":{"line":2,"column":179}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":13,"column":0},"generated":{"line":2,"column":184}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":13,"column":0},"generated":{"line":2,"column":186}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":13,"column":0},"generated":{"line":2,"column":189}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":15,"column":0},"generated":{"line":2,"column":201}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":17,"column":0},"generated":{"line":2,"column":208}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":17,"column":0},"generated":{"line":2,"column":211}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":17,"column":0},"generated":{"line":2,"column":213}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":17,"column":0},"generated":{"line":2,"column":222}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":18,"column":0},"generated":{"line":2,"column":225}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":18,"column":0},"generated":{"line":2,"column":227}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":18,"column":0},"generated":{"line":2,"column":229}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":18,"column":0},"generated":{"line":2,"column":236}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":18,"column":0},"generated":{"line":2,"column":239}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":19,"column":0},"generated":{"line":2,"column":255}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":19,"column":0},"generated":{"line":2,"column":258}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":19,"column":0},"generated":{"line":2,"column":260}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":19,"column":0},"generated":{"line":2,"column":269}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":20,"column":0},"generated":{"line":2,"column":272}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":20,"column":0},"generated":{"line":2,"column":274}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":20,"column":0},"generated":{"line":2,"column":276}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":21,"column":0},"generated":{"line":2,"column":295}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":21,"column":0},"generated":{"line":2,"column":298}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":21,"column":0},"generated":{"line":2,"column":300}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":21,"column":0},"generated":{"line":2,"column":311}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":22,"column":0},"generated":{"line":2,"column":314}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":22,"column":0},"generated":{"line":2,"column":316}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":22,"column":0},"generated":{"line":2,"column":318}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":22,"column":0},"generated":{"line":2,"column":321}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":23,"column":0},"generated":{"line":2,"column":339}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":23,"column":0},"generated":{"line":2,"column":340}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":23,"column":0},"generated":{"line":2,"column":344}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":23,"column":0},"generated":{"line":2,"column":346}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":23,"column":0},"generated":{"line":2,"column":358}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":26,"column":0},"generated":{"line":2,"column":361}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":26,"column":0},"generated":{"line":2,"column":367}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":26,"column":0},"generated":{"line":2,"column":371}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":26,"column":0},"generated":{"line":2,"column":377}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":24,"column":0},"generated":{"line":2,"column":420}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":24,"column":0},"generated":{"line":2,"column":422}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":24,"column":0},"generated":{"line":2,"column":424}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":29,"column":0},"generated":{"line":2,"column":436}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":29,"column":0},"generated":{"line":2,"column":443}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":32,"column":0},"generated":{"line":2,"column":445}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":32,"column":0},"generated":{"line":2,"column":451}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":33,"column":0},"generated":{"line":2,"column":453}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":34,"column":0},"generated":{"line":2,"column":467}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":34,"column":0},"generated":{"line":2,"column":472}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":34,"column":0},"generated":{"line":2,"column":479}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":39,"column":0},"generated":{"line":2,"column":482}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":39,"column":0},"generated":{"line":2,"column":486}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":40,"column":0},"generated":{"line":2,"column":489}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":40,"column":0},"generated":{"line":2,"column":495}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":40,"column":0},"generated":{"line":2,"column":497}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":40,"column":0},"generated":{"line":2,"column":499}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":41,"column":0},"generated":{"line":2,"column":502}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":41,"column":0},"generated":{"line":2,"column":509}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":41,"column":0},"generated":{"line":2,"column":517}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":41,"column":0},"generated":{"line":2,"column":522}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":41,"column":0},"generated":{"line":2,"column":529}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":51,"column":0},"generated":{"line":2,"column":533}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":51,"column":0},"generated":{"line":2,"column":537}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":51,"column":0},"generated":{"line":2,"column":539}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":52,"column":0},"generated":{"line":2,"column":542}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":52,"column":0},"generated":{"line":2,"column":548}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":52,"column":0},"generated":{"line":2,"column":550}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":52,"column":0},"generated":{"line":2,"column":555}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":52,"column":0},"generated":{"line":2,"column":562}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":52,"column":0},"generated":{"line":2,"column":564}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":52,"column":0},"generated":{"line":2,"column":567}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":55,"column":0},"generated":{"line":2,"column":582}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":55,"column":0},"generated":{"line":2,"column":586}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":55,"column":0},"generated":{"line":2,"column":589}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":57,"column":0},"generated":{"line":2,"column":591}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":56,"column":0},"generated":{"line":2,"column":598}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":56,"column":0},"generated":{"line":2,"column":603}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":56,"column":0},"generated":{"line":2,"column":610}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":56,"column":0},"generated":{"line":2,"column":612}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":56,"column":0},"generated":{"line":2,"column":615}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":56,"column":0},"generated":{"line":2,"column":630}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":57,"column":0},"generated":{"line":2,"column":632}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":61,"column":0},"generated":{"line":2,"column":634}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":61,"column":0},"generated":{"line":2,"column":636}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":61,"column":0},"generated":{"line":2,"column":647}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":61,"column":0},"generated":{"line":2,"column":655}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":61,"column":0},"generated":{"line":2,"column":658}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":61,"column":0},"generated":{"line":2,"column":660}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":61,"column":0},"generated":{"line":2,"column":671}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":61,"column":0},"generated":{"line":2,"column":675}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":64,"column":0},"generated":{"line":2,"column":679}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":64,"column":0},"generated":{"line":2,"column":685}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":64,"column":0},"generated":{"line":2,"column":687}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":64,"column":0},"generated":{"line":2,"column":689}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":80,"column":0},"generated":{"line":2,"column":703}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":65,"column":0},"generated":{"line":2,"column":710}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":66,"column":0},"generated":{"line":2,"column":713}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":66,"column":0},"generated":{"line":2,"column":715}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":66,"column":0},"generated":{"line":2,"column":723}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":70,"column":0},"generated":{"line":2,"column":726}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":70,"column":0},"generated":{"line":2,"column":728}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":70,"column":0},"generated":{"line":2,"column":738}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":70,"column":0},"generated":{"line":2,"column":746}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":70,"column":0},"generated":{"line":2,"column":749}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":70,"column":0},"generated":{"line":2,"column":751}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":70,"column":0},"generated":{"line":2,"column":761}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":70,"column":0},"generated":{"line":2,"column":765}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":72,"column":0},"generated":{"line":2,"column":770}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":72,"column":0},"generated":{"line":2,"column":772}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":72,"column":0},"generated":{"line":2,"column":775}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":72,"column":0},"generated":{"line":2,"column":784}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":72,"column":0},"generated":{"line":2,"column":786}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":72,"column":0},"generated":{"line":2,"column":789}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":73,"column":0},"generated":{"line":2,"column":799}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":73,"column":0},"generated":{"line":2,"column":801}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":73,"column":0},"generated":{"line":2,"column":804}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":73,"column":0},"generated":{"line":2,"column":812}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":73,"column":0},"generated":{"line":2,"column":814}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":73,"column":0},"generated":{"line":2,"column":817}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":76,"column":0},"generated":{"line":2,"column":827}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":76,"column":0},"generated":{"line":2,"column":829}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":76,"column":0},"generated":{"line":2,"column":832}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":76,"column":0},"generated":{"line":2,"column":840}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":76,"column":0},"generated":{"line":2,"column":842}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":76,"column":0},"generated":{"line":2,"column":845}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":77,"column":0},"generated":{"line":2,"column":854}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":77,"column":0},"generated":{"line":2,"column":856}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":77,"column":0},"generated":{"line":2,"column":859}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":77,"column":0},"generated":{"line":2,"column":866}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":77,"column":0},"generated":{"line":2,"column":868}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":77,"column":0},"generated":{"line":2,"column":871}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":80,"column":0},"generated":{"line":2,"column":879}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":89,"column":0},"generated":{"line":2,"column":881}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":89,"column":0},"generated":{"line":2,"column":885}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":90,"column":0},"generated":{"line":2,"column":888}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":90,"column":0},"generated":{"line":2,"column":894}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":90,"column":0},"generated":{"line":2,"column":896}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":90,"column":0},"generated":{"line":2,"column":898}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":92,"column":0},"generated":{"line":2,"column":901}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":92,"column":0},"generated":{"line":2,"column":903}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":92,"column":0},"generated":{"line":2,"column":908}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":92,"column":0},"generated":{"line":2,"column":915}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":94,"column":0},"generated":{"line":2,"column":918}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":94,"column":0},"generated":{"line":2,"column":921}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":95,"column":0},"generated":{"line":2,"column":923}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":95,"column":0},"generated":{"line":2,"column":930}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":97,"column":0},"generated":{"line":2,"column":932}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":97,"column":0},"generated":{"line":2,"column":938}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":97,"column":0},"generated":{"line":2,"column":942}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":97,"column":0},"generated":{"line":2,"column":948}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":100,"column":0},"generated":{"line":2,"column":970}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":101,"column":0},"generated":{"line":2,"column":979}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":101,"column":0},"generated":{"line":2,"column":986}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":101,"column":0},"generated":{"line":2,"column":991}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":104,"column":0},"generated":{"line":2,"column":998}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":105,"column":0},"generated":{"line":2,"column":1012}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":105,"column":0},"generated":{"line":2,"column":1019}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":105,"column":0},"generated":{"line":2,"column":1026}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":105,"column":0},"generated":{"line":2,"column":1033}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":105,"column":0},"generated":{"line":2,"column":1038}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":108,"column":0},"generated":{"line":2,"column":1046}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":108,"column":0},"generated":{"line":2,"column":1060}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":110,"column":0},"generated":{"line":2,"column":1063}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":109,"column":0},"generated":{"line":2,"column":1070}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":109,"column":0},"generated":{"line":2,"column":1075}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":109,"column":0},"generated":{"line":2,"column":1079}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":110,"column":0},"generated":{"line":2,"column":1082}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":110,"column":0},"generated":{"line":2,"column":1093}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":113,"column":0},"generated":{"line":2,"column":1103}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":113,"column":0},"generated":{"line":2,"column":1110}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":114,"column":0},"generated":{"line":2,"column":1113}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":114,"column":0},"generated":{"line":2,"column":1119}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":114,"column":0},"generated":{"line":2,"column":1121}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":114,"column":0},"generated":{"line":2,"column":1123}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":116,"column":0},"generated":{"line":2,"column":1126}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":116,"column":0},"generated":{"line":2,"column":1131}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":116,"column":0},"generated":{"line":2,"column":1138}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":117,"column":0},"generated":{"line":2,"column":1149}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":117,"column":0},"generated":{"line":2,"column":1154}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":117,"column":0},"generated":{"line":2,"column":1161}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":122,"column":0},"generated":{"line":2,"column":1165}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":122,"column":0},"generated":{"line":2,"column":1172}},{"source":"node_modules/ipfs/node_modules/peer-book/src/index.js","original":{"line":122,"column":0},"generated":{"line":2,"column":1180}}],"sources":{"node_modules/ipfs/node_modules/peer-book/src/index.js":"'use strict'\n\nconst bs58 = require('bs58')\nconst PeerId = require('peer-id')\nconst PeerInfo = require('peer-info')\nconst Multiaddr = require('multiaddr')\n\nfunction getB58Str (peer) {\n  let b58Str\n\n  if (typeof peer === 'string') {\n    if (peer.startsWith('/')) {\n      b58Str = Multiaddr(peer).getPeerId()\n    } else {\n      b58Str = peer\n    }\n  } else if (Buffer.isBuffer(peer)) {\n    b58Str = bs58.encode(peer).toString()\n  } else if (PeerId.isPeerId(peer)) {\n    b58Str = peer.toB58String()\n  } else if (PeerInfo.isPeerInfo(peer)) {\n    b58Str = peer.id.toB58String()\n  } else if (Multiaddr.isMultiaddr(peer)) {\n    b58Str = peer.getPeerId()\n  } else {\n    throw new Error('not valid PeerId or PeerInfo, or B58Str')\n  }\n\n  return b58Str\n}\n\nclass PeerBook {\n  constructor () {\n    this._peers = {}\n  }\n\n  // checks if peer exists\n  // peer can be PeerId, b58String or PeerInfo\n  has (peer) {\n    const b58Str = getB58Str(peer)\n    return Boolean(this._peers[b58Str])\n  }\n\n  /**\n   * Stores a peerInfo, if already exist, merges the new into the old.\n   *\n   * @param {PeerInfo} peerInfo\n   * @param {Boolean} replace\n   * @returns {PeerInfo}\n   */\n  put (peerInfo, replace) {\n    const localPeerInfo = this._peers[peerInfo.id.toB58String()]\n\n    // insert if doesn't exist or replace if replace flag is true\n    if (!localPeerInfo || replace) {\n      this._peers[peerInfo.id.toB58String()] = peerInfo\n      return peerInfo\n    }\n\n    // peerInfo.replace merges by default if none to replace are passed\n    peerInfo.multiaddrs.forEach((ma) => localPeerInfo.multiaddrs.add(ma))\n\n    // pass active connection state\n    const ma = peerInfo.isConnected()\n    if (ma) {\n      localPeerInfo.connect(ma)\n    }\n\n    // pass known protocols\n    peerInfo.protocols.forEach((p) => localPeerInfo.protocols.add(p))\n\n    if (!localPeerInfo.id.privKey && peerInfo.id.privKey) {\n      localPeerInfo.id.privKey = peerInfo.id.privKey\n    }\n\n    if (!localPeerInfo.id.pubKey && peerInfo.id.pubKey) {\n      localPeerInfo.id.pubKey = peerInfo.id.pubKey\n    }\n\n    return localPeerInfo\n  }\n\n  /**\n   * Get the info to the given PeerId, PeerInfo or b58Str id\n   *\n   * @param {PeerId} peer\n   * @returns {PeerInfo}\n   */\n  get (peer) {\n    const b58Str = getB58Str(peer)\n\n    const peerInfo = this._peers[b58Str]\n\n    if (peerInfo) {\n      return peerInfo\n    }\n    throw new Error('PeerInfo not found')\n  }\n\n  getAll () {\n    return this._peers\n  }\n\n  getAllArray () {\n    return Object.values(this._peers)\n  }\n\n  getMultiaddrs (peer) {\n    const info = this.get(peer)\n    return info.multiaddrs.toArray()\n  }\n\n  remove (peer) {\n    const b58Str = getB58Str(peer)\n\n    if (this._peers[b58Str]) {\n      delete this._peers[b58Str]\n    }\n  }\n}\n\nmodule.exports = PeerBook\n"},"lineCount":null}},"error":null,"hash":"e6f548e46100da706d3ee63e2e1ca88a","cacheData":{"env":{}}}