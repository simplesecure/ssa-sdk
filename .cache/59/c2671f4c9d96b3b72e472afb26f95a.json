{"id":"grQs","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-keychain/package.json","includedInParent":true,"mtime":1582579780441},{"name":"node-forge/lib/x509","loc":{"line":3,"column":8},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-keychain/node_modules/node-forge/lib/x509.js"},{"name":"node-forge/lib/forge","loc":{"line":4,"column":22},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-keychain/node_modules/node-forge/lib/forge.js"}],"generated":{"js":"\"use strict\";require(\"node-forge/lib/x509\");const e=require(\"node-forge/lib/forge\"),t=e.pki;async function i(e,t){const i=e.map(t);return e[(await Promise.all(i)).findIndex(e=>e)]}exports=module.exports,exports.certificateForKey=((e,i)=>{const n=t.setRsaPublicKey(i.n,i.e),a=t.createCertificate();a.publicKey=n,a.serialNumber=\"01\",a.validity.notBefore=new Date,a.validity.notAfter=new Date,a.validity.notAfter.setFullYear(a.validity.notBefore.getFullYear()+10);const r=[{name:\"organizationName\",value:\"ipfs\"},{shortName:\"OU\",value:\"keystore\"},{name:\"commonName\",value:e.id}];return a.setSubject(r),a.setIssuer(r),a.setExtensions([{name:\"basicConstraints\",cA:!0},{name:\"keyUsage\",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:\"extKeyUsage\",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:\"nsCertType\",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),a.sign(i),a}),module.exports.findAsync=i;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"require","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":3,"column":8},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":4,"column":0},"generated":{"line":1,"column":44}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"forge","original":{"line":4,"column":6},"generated":{"line":1,"column":50}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"require","original":{"line":4,"column":14},"generated":{"line":1,"column":52}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":4,"column":22},"generated":{"line":1,"column":60}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"pki","original":{"line":5,"column":6},"generated":{"line":1,"column":84}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"forge","original":{"line":5,"column":12},"generated":{"line":1,"column":86}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"pki","original":{"line":5,"column":18},"generated":{"line":1,"column":88}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":82,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"findAsync","original":{"line":82,"column":15},"generated":{"line":1,"column":107}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"array","original":{"line":82,"column":26},"generated":{"line":1,"column":109}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"asyncCompare","original":{"line":82,"column":33},"generated":{"line":1,"column":111}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"promises","original":{"line":83,"column":8},"generated":{"line":1,"column":114}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"promises","original":{"line":83,"column":8},"generated":{"line":1,"column":120}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"array","original":{"line":83,"column":19},"generated":{"line":1,"column":122}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"map","original":{"line":83,"column":25},"generated":{"line":1,"column":124}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"asyncCompare","original":{"line":83,"column":29},"generated":{"line":1,"column":128}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"array","original":{"line":86,"column":9},"generated":{"line":1,"column":131}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"array","original":{"line":86,"column":9},"generated":{"line":1,"column":138}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"Promise","original":{"line":84,"column":24},"generated":{"line":1,"column":147}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"all","original":{"line":84,"column":32},"generated":{"line":1,"column":155}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"promises","original":{"line":84,"column":36},"generated":{"line":1,"column":159}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"findIndex","original":{"line":85,"column":24},"generated":{"line":1,"column":163}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"result","original":{"line":85,"column":34},"generated":{"line":1,"column":173}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"result","original":{"line":85,"column":44},"generated":{"line":1,"column":176}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"exports","original":{"line":6,"column":0},"generated":{"line":1,"column":180}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"module","original":{"line":6,"column":10},"generated":{"line":1,"column":188}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"exports","original":{"line":6,"column":17},"generated":{"line":1,"column":195}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"exports","original":{"line":19,"column":0},"generated":{"line":1,"column":203}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"certificateForKey","original":{"line":19,"column":8},"generated":{"line":1,"column":211}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":19,"column":28},"generated":{"line":1,"column":229}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"key","original":{"line":19,"column":29},"generated":{"line":1,"column":231}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"privateKey","original":{"line":19,"column":34},"generated":{"line":1,"column":233}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"publicKey","original":{"line":20,"column":8},"generated":{"line":1,"column":238}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"publicKey","original":{"line":20,"column":8},"generated":{"line":1,"column":244}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"pki","original":{"line":20,"column":20},"generated":{"line":1,"column":246}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"setRsaPublicKey","original":{"line":20,"column":24},"generated":{"line":1,"column":248}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"privateKey","original":{"line":20,"column":40},"generated":{"line":1,"column":264}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"n","original":{"line":20,"column":51},"generated":{"line":1,"column":266}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"privateKey","original":{"line":20,"column":54},"generated":{"line":1,"column":268}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"e","original":{"line":20,"column":65},"generated":{"line":1,"column":270}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":21,"column":8},"generated":{"line":1,"column":273}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"pki","original":{"line":21,"column":15},"generated":{"line":1,"column":275}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"createCertificate","original":{"line":21,"column":19},"generated":{"line":1,"column":277}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":22,"column":2},"generated":{"line":1,"column":297}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"publicKey","original":{"line":22,"column":7},"generated":{"line":1,"column":299}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"publicKey","original":{"line":22,"column":19},"generated":{"line":1,"column":309}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":23,"column":2},"generated":{"line":1,"column":311}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"serialNumber","original":{"line":23,"column":7},"generated":{"line":1,"column":313}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":23,"column":22},"generated":{"line":1,"column":326}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":24,"column":2},"generated":{"line":1,"column":331}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"validity","original":{"line":24,"column":7},"generated":{"line":1,"column":333}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"notBefore","original":{"line":24,"column":16},"generated":{"line":1,"column":342}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":24,"column":28},"generated":{"line":1,"column":352}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"Date","original":{"line":24,"column":32},"generated":{"line":1,"column":356}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":25,"column":2},"generated":{"line":1,"column":361}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"validity","original":{"line":25,"column":7},"generated":{"line":1,"column":363}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"notAfter","original":{"line":25,"column":16},"generated":{"line":1,"column":372}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":25,"column":27},"generated":{"line":1,"column":381}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"Date","original":{"line":25,"column":31},"generated":{"line":1,"column":385}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":26,"column":2},"generated":{"line":1,"column":390}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"validity","original":{"line":26,"column":7},"generated":{"line":1,"column":392}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"notAfter","original":{"line":26,"column":16},"generated":{"line":1,"column":401}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"setFullYear","original":{"line":26,"column":25},"generated":{"line":1,"column":410}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":26,"column":37},"generated":{"line":1,"column":422}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"validity","original":{"line":26,"column":42},"generated":{"line":1,"column":424}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"notBefore","original":{"line":26,"column":51},"generated":{"line":1,"column":433}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"getFullYear","original":{"line":26,"column":61},"generated":{"line":1,"column":443}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":26,"column":77},"generated":{"line":1,"column":457}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"attrs","original":{"line":27,"column":8},"generated":{"line":1,"column":461}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"attrs","original":{"line":27,"column":8},"generated":{"line":1,"column":467}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":27,"column":16},"generated":{"line":1,"column":469}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":27,"column":17},"generated":{"line":1,"column":470}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"name","original":{"line":28,"column":4},"generated":{"line":1,"column":471}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":28,"column":10},"generated":{"line":1,"column":476}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"value","original":{"line":29,"column":4},"generated":{"line":1,"column":495}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":29,"column":11},"generated":{"line":1,"column":501}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":30,"column":5},"generated":{"line":1,"column":509}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"shortName","original":{"line":31,"column":4},"generated":{"line":1,"column":510}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":31,"column":15},"generated":{"line":1,"column":520}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"value","original":{"line":32,"column":4},"generated":{"line":1,"column":525}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":32,"column":11},"generated":{"line":1,"column":531}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":33,"column":5},"generated":{"line":1,"column":543}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"name","original":{"line":34,"column":4},"generated":{"line":1,"column":544}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":34,"column":10},"generated":{"line":1,"column":549}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"value","original":{"line":35,"column":4},"generated":{"line":1,"column":562}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"key","original":{"line":35,"column":11},"generated":{"line":1,"column":568}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"id","original":{"line":35,"column":15},"generated":{"line":1,"column":570}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":69,"column":9},"generated":{"line":1,"column":575}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":37,"column":2},"generated":{"line":1,"column":582}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"setSubject","original":{"line":37,"column":7},"generated":{"line":1,"column":584}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"attrs","original":{"line":37,"column":18},"generated":{"line":1,"column":595}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":38,"column":2},"generated":{"line":1,"column":598}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"setIssuer","original":{"line":38,"column":7},"generated":{"line":1,"column":600}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"attrs","original":{"line":38,"column":17},"generated":{"line":1,"column":610}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":39,"column":2},"generated":{"line":1,"column":613}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"setExtensions","original":{"line":39,"column":7},"generated":{"line":1,"column":615}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":39,"column":21},"generated":{"line":1,"column":629}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":39,"column":22},"generated":{"line":1,"column":630}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"name","original":{"line":40,"column":4},"generated":{"line":1,"column":631}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":40,"column":10},"generated":{"line":1,"column":636}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cA","original":{"line":41,"column":4},"generated":{"line":1,"column":655}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":41,"column":8},"generated":{"line":1,"column":659}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":42,"column":5},"generated":{"line":1,"column":662}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"name","original":{"line":43,"column":4},"generated":{"line":1,"column":663}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":43,"column":10},"generated":{"line":1,"column":668}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"keyCertSign","original":{"line":44,"column":4},"generated":{"line":1,"column":679}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":44,"column":17},"generated":{"line":1,"column":692}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"digitalSignature","original":{"line":45,"column":4},"generated":{"line":1,"column":694}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":45,"column":22},"generated":{"line":1,"column":712}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"nonRepudiation","original":{"line":46,"column":4},"generated":{"line":1,"column":714}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":46,"column":20},"generated":{"line":1,"column":730}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"keyEncipherment","original":{"line":47,"column":4},"generated":{"line":1,"column":732}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":47,"column":21},"generated":{"line":1,"column":749}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"dataEncipherment","original":{"line":48,"column":4},"generated":{"line":1,"column":751}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":48,"column":22},"generated":{"line":1,"column":769}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":49,"column":5},"generated":{"line":1,"column":772}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"name","original":{"line":50,"column":4},"generated":{"line":1,"column":773}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":50,"column":10},"generated":{"line":1,"column":778}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"serverAuth","original":{"line":51,"column":4},"generated":{"line":1,"column":792}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":51,"column":16},"generated":{"line":1,"column":804}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"clientAuth","original":{"line":52,"column":4},"generated":{"line":1,"column":806}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":52,"column":16},"generated":{"line":1,"column":818}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"codeSigning","original":{"line":53,"column":4},"generated":{"line":1,"column":820}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":53,"column":17},"generated":{"line":1,"column":833}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"emailProtection","original":{"line":54,"column":4},"generated":{"line":1,"column":835}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":54,"column":21},"generated":{"line":1,"column":852}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"timeStamping","original":{"line":55,"column":4},"generated":{"line":1,"column":854}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":55,"column":18},"generated":{"line":1,"column":868}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":56,"column":5},"generated":{"line":1,"column":871}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"name","original":{"line":57,"column":4},"generated":{"line":1,"column":872}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":57,"column":10},"generated":{"line":1,"column":877}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"client","original":{"line":58,"column":4},"generated":{"line":1,"column":890}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":58,"column":12},"generated":{"line":1,"column":898}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"server","original":{"line":59,"column":4},"generated":{"line":1,"column":900}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":59,"column":12},"generated":{"line":1,"column":908}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"email","original":{"line":60,"column":4},"generated":{"line":1,"column":910}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":60,"column":11},"generated":{"line":1,"column":917}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"objsign","original":{"line":61,"column":4},"generated":{"line":1,"column":919}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":61,"column":13},"generated":{"line":1,"column":928}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"sslCA","original":{"line":62,"column":4},"generated":{"line":1,"column":930}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":62,"column":11},"generated":{"line":1,"column":937}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"emailCA","original":{"line":63,"column":4},"generated":{"line":1,"column":939}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":63,"column":13},"generated":{"line":1,"column":948}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"objCA","original":{"line":64,"column":4},"generated":{"line":1,"column":950}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","original":{"line":64,"column":11},"generated":{"line":1,"column":957}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":67,"column":2},"generated":{"line":1,"column":962}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"sign","original":{"line":67,"column":7},"generated":{"line":1,"column":964}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"privateKey","original":{"line":67,"column":12},"generated":{"line":1,"column":969}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"cert","original":{"line":69,"column":9},"generated":{"line":1,"column":972}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"module","original":{"line":89,"column":0},"generated":{"line":1,"column":976}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"exports","original":{"line":89,"column":7},"generated":{"line":1,"column":983}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"findAsync","original":{"line":89,"column":15},"generated":{"line":1,"column":991}},{"source":"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js","name":"findAsync","original":{"line":89,"column":27},"generated":{"line":1,"column":1001}}],"sources":{"node_modules/ipfs/node_modules/libp2p-keychain/src/util.js":"'use strict'\n\nrequire('node-forge/lib/x509')\nconst forge = require('node-forge/lib/forge')\nconst pki = forge.pki\nexports = module.exports\n\n/**\n * Gets a self-signed X.509 certificate for the key.\n *\n * The output Buffer contains the PKCS #7 message in DER.\n *\n * TODO: move to libp2p-crypto package\n *\n * @param {KeyInfo} key - The id and name of the key\n * @param {RsaPrivateKey} privateKey - The naked key\n * @returns {undefined}\n */\nexports.certificateForKey = (key, privateKey) => {\n  const publicKey = pki.setRsaPublicKey(privateKey.n, privateKey.e)\n  const cert = pki.createCertificate()\n  cert.publicKey = publicKey\n  cert.serialNumber = '01'\n  cert.validity.notBefore = new Date()\n  cert.validity.notAfter = new Date()\n  cert.validity.notAfter.setFullYear(cert.validity.notBefore.getFullYear() + 10)\n  const attrs = [{\n    name: 'organizationName',\n    value: 'ipfs'\n  }, {\n    shortName: 'OU',\n    value: 'keystore'\n  }, {\n    name: 'commonName',\n    value: key.id\n  }]\n  cert.setSubject(attrs)\n  cert.setIssuer(attrs)\n  cert.setExtensions([{\n    name: 'basicConstraints',\n    cA: true\n  }, {\n    name: 'keyUsage',\n    keyCertSign: true,\n    digitalSignature: true,\n    nonRepudiation: true,\n    keyEncipherment: true,\n    dataEncipherment: true\n  }, {\n    name: 'extKeyUsage',\n    serverAuth: true,\n    clientAuth: true,\n    codeSigning: true,\n    emailProtection: true,\n    timeStamping: true\n  }, {\n    name: 'nsCertType',\n    client: true,\n    server: true,\n    email: true,\n    objsign: true,\n    sslCA: true,\n    emailCA: true,\n    objCA: true\n  }])\n  // self-sign certificate\n  cert.sign(privateKey)\n\n  return cert\n}\n\n/**\n * Finds the first item in a collection that is matched in the\n * `asyncCompare` function.\n *\n * `asyncCompare` is an async function that must\n * resolve to either `true` or `false`.\n *\n * @param {Array} array\n * @param {function(*)} asyncCompare An async function that returns a boolean\n */\nasync function findAsync (array, asyncCompare) {\n  const promises = array.map(asyncCompare)\n  const results = await Promise.all(promises)\n  const index = results.findIndex(result => result)\n  return array[index]\n}\n\nmodule.exports.findAsync = findAsync\n"},"lineCount":null}},"error":null,"hash":"d60dee985997c99c2f44ac4d0336a156","cacheData":{"env":{}}}