{"id":"iQeB","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-storage-adapter/package.json","includedInParent":true,"mtime":1582579778668},{"name":"levelup","loc":{"line":3,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-storage-adapter/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/levelup/lib/levelup.js"},{"name":"level","loc":{"line":4,"column":22},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-storage-adapter/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/level/browser.js"}],"generated":{"js":"\"use strict\";const levelup=require(\"levelup\"),level=require(\"level\"),fs=\"object\"==typeof window||\"object\"==typeof self?null:eval('require(\"fs\")');class Storage{constructor(e,t={}){this.storage=e,this.preCreate=t.preCreate?t.preCreate:()=>{};const s=Object.assign({},t,{createIfMissing:!0,errorIfExists:!1,compression:!0,cacheSize:8388608});delete s.preCreate,this.options={down:s}}createStore(e=\"./orbitdb\",t={}){return new Promise(async(s,r)=>{let o,i;if(this.options.up=t,await this.preCreate(e,this.options),this.storage)(i=this.storage(e,this.options.down)).status||(i.status=\"unknown-shim\"),i.location||(i.location=e),(o=levelup(i,t)).open(e=>{if(e)return r(e);i&&\"unknown-shim\"===i.status&&(i.status=\"open\"),s(o)});else{fs&&fs.mkdirSync&&fs.mkdirSync(e,{recursive:!0});const r=level(e,t);await r.open(),s(r)}})}destroy(e){return new Promise((t,s)=>{this.storage.destroy||t(),this.storage.destroy(e._db.location,e=>{if(e)return s(e);t()})})}async preCreate(e,t){}}module.exports=((e,t)=>new Storage(e,t));"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":27}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":46}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":52}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":60}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":69}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":72}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":89}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":114}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":119}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":124}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":129}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":146}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":152}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":160}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":172}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":174}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":176}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":28,"column":0},"generated":{"line":1,"column":180}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":28,"column":0},"generated":{"line":1,"column":185}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":28,"column":0},"generated":{"line":1,"column":193}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":195}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":200}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":210}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":212}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":222}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":224}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":29,"column":0},"generated":{"line":1,"column":234}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":241}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":247}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":249}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":256}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":263}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":266}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":21,"column":0},"generated":{"line":1,"column":268}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":22,"column":0},"generated":{"line":1,"column":269}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":22,"column":0},"generated":{"line":1,"column":286}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":23,"column":0},"generated":{"line":1,"column":288}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":23,"column":0},"generated":{"line":1,"column":303}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":24,"column":0},"generated":{"line":1,"column":305}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":24,"column":0},"generated":{"line":1,"column":318}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":25,"column":0},"generated":{"line":1,"column":320}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":25,"column":0},"generated":{"line":1,"column":330}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":347}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":32,"column":0},"generated":{"line":1,"column":349}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":359}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":364}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":372}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":373}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":378}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":381}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":393}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":395}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":407}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":36,"column":0},"generated":{"line":1,"column":409}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":413}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":420}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":424}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":432}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":438}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":440}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":445}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":449}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":451}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":42,"column":0},"generated":{"line":1,"column":453}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":456}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":461}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":469}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":38,"column":0},"generated":{"line":1,"column":472}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":39,"column":0},"generated":{"line":1,"column":480}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":39,"column":0},"generated":{"line":1,"column":485}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":39,"column":0},"generated":{"line":1,"column":495}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":39,"column":0},"generated":{"line":1,"column":497}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":39,"column":0},"generated":{"line":1,"column":502}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":42,"column":0},"generated":{"line":1,"column":511}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":42,"column":0},"generated":{"line":1,"column":516}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":525}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":527}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":532}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":540}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":542}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":547}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":43,"column":0},"generated":{"line":1,"column":555}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":562}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":571}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":573}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":46,"column":0},"generated":{"line":1,"column":580}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":596}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":598}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":609}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":611}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":47,"column":0},"generated":{"line":1,"column":620}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":49,"column":0},"generated":{"line":1,"column":624}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":49,"column":0},"generated":{"line":1,"column":626}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":49,"column":0},"generated":{"line":1,"column":634}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":49,"column":0},"generated":{"line":1,"column":636}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":640}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":50,"column":0},"generated":{"line":1,"column":645}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":51,"column":0},"generated":{"line":1,"column":649}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":51,"column":0},"generated":{"line":1,"column":652}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":52,"column":0},"generated":{"line":1,"column":654}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":52,"column":0},"generated":{"line":1,"column":661}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":52,"column":0},"generated":{"line":1,"column":663}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":56,"column":0},"generated":{"line":1,"column":666}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":56,"column":0},"generated":{"line":1,"column":669}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":56,"column":0},"generated":{"line":1,"column":686}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":56,"column":0},"generated":{"line":1,"column":688}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":56,"column":0},"generated":{"line":1,"column":697}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":56,"column":0},"generated":{"line":1,"column":699}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":56,"column":0},"generated":{"line":1,"column":706}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":57,"column":0},"generated":{"line":1,"column":714}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":57,"column":0},"generated":{"line":1,"column":716}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":59,"column":0},"generated":{"line":1,"column":725}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":726}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":730}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":733}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":744}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":747}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":757}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":759}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":760}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":61,"column":0},"generated":{"line":1,"column":771}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":775}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":781}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":783}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":789}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":62,"column":0},"generated":{"line":1,"column":791}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":63,"column":0},"generated":{"line":1,"column":800}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":63,"column":0},"generated":{"line":1,"column":802}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":64,"column":0},"generated":{"line":1,"column":809}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":64,"column":0},"generated":{"line":1,"column":811}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":817}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":825}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":70,"column":0},"generated":{"line":1,"column":828}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":70,"column":0},"generated":{"line":1,"column":835}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":70,"column":0},"generated":{"line":1,"column":839}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":70,"column":0},"generated":{"line":1,"column":847}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":70,"column":0},"generated":{"line":1,"column":848}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":70,"column":0},"generated":{"line":1,"column":850}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":72,"column":0},"generated":{"line":1,"column":855}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":72,"column":0},"generated":{"line":1,"column":860}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":72,"column":0},"generated":{"line":1,"column":868}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":72,"column":0},"generated":{"line":1,"column":877}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":74,"column":0},"generated":{"line":1,"column":881}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":74,"column":0},"generated":{"line":1,"column":886}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":74,"column":0},"generated":{"line":1,"column":894}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":74,"column":0},"generated":{"line":1,"column":902}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":74,"column":0},"generated":{"line":1,"column":904}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":74,"column":0},"generated":{"line":1,"column":908}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":74,"column":0},"generated":{"line":1,"column":917}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":75,"column":0},"generated":{"line":1,"column":921}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":75,"column":0},"generated":{"line":1,"column":924}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":76,"column":0},"generated":{"line":1,"column":926}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":76,"column":0},"generated":{"line":1,"column":933}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":76,"column":0},"generated":{"line":1,"column":935}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":78,"column":0},"generated":{"line":1,"column":938}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":83,"column":0},"generated":{"line":1,"column":946}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":83,"column":0},"generated":{"line":1,"column":962}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":83,"column":0},"generated":{"line":1,"column":964}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":969}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":976}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":984}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":986}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":988}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":992}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":996}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1004}},{"source":"node_modules/orbit-db-storage-adapter/src/index.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1006}}],"sources":{"node_modules/orbit-db-storage-adapter/src/index.js":"'use strict'\n\nconst levelup = require('levelup')\nconst level = require('level')\nconst fs = (typeof window === 'object' || typeof self === 'object') ? null : eval('require(\"fs\")') // eslint-disable-line\n\n// Should work for all abstract-leveldown compliant stores\n\n/*\n * createIfMissing (boolean, default: true): If true, will initialise an empty database at the specified location if one doesn't already exist. If false and a database doesn't exist you will receive an error in your open() callback and your database won't open.\n *\n * errorIfExists (boolean, default: false): If true, you will receive an error in your open() callback if the database exists at the specified location.\n *\n * compression (boolean, default: true): If true, all compressible data will be run through the Snappy compression algorithm before being stored. Snappy is very fast and shouldn't gain much speed by disabling so leave this on unless you have good reason to turn it off.\n *\n * cacheSize (number, default: 8 * 1024 * 1024 = 8MB): The size (in bytes) of the in-memory LRU cache with frequently used uncompressed block contents.\n */\n\nclass Storage {\n  constructor (storage, options = {}) {\n    const defaults = {\n      createIfMissing: true,\n      errorIfExists: false,\n      compression: true,\n      cacheSize: 8 * 1024 * 1024\n    }\n\n    this.storage = storage\n    this.preCreate = options.preCreate ? options.preCreate : () => {}\n\n    const leveldownOptions = Object.assign({}, options, defaults)\n    delete leveldownOptions.preCreate\n    this.options = { down: leveldownOptions }\n  }\n\n  createStore (directory = './orbitdb', options = {}) {\n    return new Promise(async (resolve, reject) => {\n      this.options.up = options\n      await this.preCreate(directory, this.options)\n      let store, db\n\n      if (this.storage) {\n        db = this.storage(directory, this.options.down)\n\n        // For compatibility with older abstract-leveldown stores\n        if (!db.status) db.status = 'unknown-shim'\n        if (!db.location) db.location = directory\n\n        store = levelup(db, options)\n        store.open((err) => {\n          if (err) {\n            return reject(err)\n          }\n\n          // More backwards compatibility\n          if (db && db.status === 'unknown-shim') db.status = 'open'\n          resolve(store)\n        })\n      } else {\n        // Default leveldown or level-js store with directory creation\n        if (fs && fs.mkdirSync) fs.mkdirSync(directory, { recursive: true })\n        const db = level(directory, options)\n        await db.open()\n        resolve(db)\n      }\n    })\n  }\n\n  destroy (store) {\n    return new Promise((resolve, reject) => {\n      // TODO: Clean this up\n      if (!this.storage.destroy) resolve()\n\n      this.storage.destroy(store._db.location, (err) => {\n        if (err) {\n          return reject(err)\n        }\n        resolve()\n      })\n    })\n  }\n\n  async preCreate (directory, options) {} // to be overridden\n}\n\nmodule.exports = (storage, options) => new Storage(storage, options)\n"},"lineCount":null}},"error":null,"hash":"be4981db57672c3210e5865eaea671c8","cacheData":{"env":{}}}