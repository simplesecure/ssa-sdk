{"id":"vRho","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-pubsub-1on1/package.json","includedInParent":true,"mtime":1582579786964}],"generated":{"js":"\"use strict\";const e=async(e,t,s)=>{const a=async()=>{const a=await e.pubsub.peers(s);return 0===t.map(e=>a.includes(e)).filter(e=>!1===e).length};return await a()?Promise.resolve():new Promise(async(e,t)=>{const s=setInterval(async()=>{try{await a()&&(clearInterval(s),e())}catch(n){t(n)}},100)})};module.exports=e;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":3,"column":0},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":3,"column":0},"generated":{"line":1,"column":27}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":3,"column":0},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":3,"column":0},"generated":{"line":1,"column":31}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":4,"column":0},"generated":{"line":1,"column":36}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":4,"column":0},"generated":{"line":1,"column":42}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":4,"column":0},"generated":{"line":1,"column":44}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":5,"column":0},"generated":{"line":1,"column":54}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":5,"column":0},"generated":{"line":1,"column":60}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":5,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":5,"column":0},"generated":{"line":1,"column":70}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":5,"column":0},"generated":{"line":1,"column":77}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":5,"column":0},"generated":{"line":1,"column":83}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":7,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":93}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":99}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":103}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":106}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":108}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":117}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":121}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":128}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":132}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":136}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":6,"column":0},"generated":{"line":1,"column":139}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":10,"column":0},"generated":{"line":1,"column":147}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":10,"column":0},"generated":{"line":1,"column":160}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":11,"column":0},"generated":{"line":1,"column":164}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":11,"column":0},"generated":{"line":1,"column":172}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":14,"column":0},"generated":{"line":1,"column":182}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":14,"column":0},"generated":{"line":1,"column":186}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":14,"column":0},"generated":{"line":1,"column":194}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":14,"column":0},"generated":{"line":1,"column":200}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":14,"column":0},"generated":{"line":1,"column":202}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":15,"column":0},"generated":{"line":1,"column":207}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":15,"column":0},"generated":{"line":1,"column":213}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":15,"column":0},"generated":{"line":1,"column":215}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":15,"column":0},"generated":{"line":1,"column":227}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":16,"column":0},"generated":{"line":1,"column":237}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":17,"column":0},"generated":{"line":1,"column":247}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":18,"column":0},"generated":{"line":1,"column":253}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":18,"column":0},"generated":{"line":1,"column":267}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":19,"column":0},"generated":{"line":1,"column":270}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":21,"column":0},"generated":{"line":1,"column":275}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":21,"column":0},"generated":{"line":1,"column":281}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":22,"column":0},"generated":{"line":1,"column":284}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":22,"column":0},"generated":{"line":1,"column":286}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":24,"column":0},"generated":{"line":1,"column":291}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":28,"column":0},"generated":{"line":1,"column":299}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":28,"column":0},"generated":{"line":1,"column":306}},{"source":"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js","original":{"line":28,"column":0},"generated":{"line":1,"column":314}}],"sources":{"node_modules/ipfs-pubsub-1on1/src/wait-for-peers.js":"'use strict'\n\nconst waitForPeers = async (ipfs, peersToWait, topic) => {\n  const checkPeers = async () => {\n    const peers = await ipfs.pubsub.peers(topic)\n    const hasAllPeers = peersToWait.map((e) => peers.includes(e)).filter((e) => e === false).length === 0\n    return hasAllPeers\n  }\n\n  if (await checkPeers()) {\n    return Promise.resolve()\n  }\n\n  return new Promise(async (resolve, reject) => {\n    const interval = setInterval(async () => {\n      try {\n        if (await checkPeers()) {\n          clearInterval(interval)\n          resolve()\n        }\n      } catch (e) {\n        reject(e)\n      }\n    }, 100)\n  })\n}\n\nmodule.exports = waitForPeers\n"},"lineCount":null}},"error":null,"hash":"d218ac20a73cb532539bea6a56090357","cacheData":{"env":{}}}