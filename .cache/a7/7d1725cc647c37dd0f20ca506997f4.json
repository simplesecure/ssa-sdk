{"id":"Zuzb","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-gossipsub/package.json","includedInParent":true,"mtime":1582579780190},{"name":"libp2p-pubsub","loc":{"line":3,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-pubsub/src/index.js"}],"generated":{"js":"\"use strict\";const{utils:s}=require(\"libp2p-pubsub\");class t{constructor(s,t){this.msgID=s,this.topics=t}}class i{constructor(s,t){this.msgs=new Map,this.history=[];for(let i=0;i<t;i++)this.history[i]=[];this.gossip=s}put(i){const h=s.msgId(i.from,i.seqno);this.msgs.set(h,i),this.history[0].push(new t(h,i.topicIDs))}get(s){return this.msgs.get(s)}getGossipIDs(s){const t=[];for(let i=0;i<this.gossip;i++)this.history[i].forEach(i=>{for(const h of i.topics)if(h===s){t.push(i.msgID);break}});return t}shift(){this.history[this.history.length-1].forEach(s=>{this.msgs.delete(s.msgID)}),this.history.pop(),this.history.unshift([])}}module.exports={CacheEntry:t,MessageCache:i};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":3,"column":0},"generated":{"line":1,"column":25}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":3,"column":0},"generated":{"line":1,"column":28}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":3,"column":0},"generated":{"line":1,"column":36}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":5,"column":0},"generated":{"line":1,"column":53}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":5,"column":0},"generated":{"line":1,"column":59}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":12,"column":0},"generated":{"line":1,"column":61}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":12,"column":0},"generated":{"line":1,"column":73}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":12,"column":0},"generated":{"line":1,"column":75}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":13,"column":0},"generated":{"line":1,"column":78}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":13,"column":0},"generated":{"line":1,"column":83}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":13,"column":0},"generated":{"line":1,"column":89}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":14,"column":0},"generated":{"line":1,"column":91}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":14,"column":0},"generated":{"line":1,"column":96}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":14,"column":0},"generated":{"line":1,"column":103}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":18,"column":0},"generated":{"line":1,"column":106}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":18,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":25,"column":0},"generated":{"line":1,"column":114}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":25,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":25,"column":0},"generated":{"line":1,"column":128}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":29,"column":0},"generated":{"line":1,"column":131}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":29,"column":0},"generated":{"line":1,"column":136}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":29,"column":0},"generated":{"line":1,"column":141}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":29,"column":0},"generated":{"line":1,"column":145}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":34,"column":0},"generated":{"line":1,"column":149}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":34,"column":0},"generated":{"line":1,"column":154}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":34,"column":0},"generated":{"line":1,"column":162}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":35,"column":0},"generated":{"line":1,"column":165}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":35,"column":0},"generated":{"line":1,"column":169}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":35,"column":0},"generated":{"line":1,"column":173}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":35,"column":0},"generated":{"line":1,"column":175}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":35,"column":0},"generated":{"line":1,"column":177}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":35,"column":0},"generated":{"line":1,"column":179}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":35,"column":0},"generated":{"line":1,"column":181}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":36,"column":0},"generated":{"line":1,"column":185}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":36,"column":0},"generated":{"line":1,"column":190}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":36,"column":0},"generated":{"line":1,"column":198}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":36,"column":0},"generated":{"line":1,"column":201}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":42,"column":0},"generated":{"line":1,"column":204}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":42,"column":0},"generated":{"line":1,"column":209}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":42,"column":0},"generated":{"line":1,"column":216}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":51,"column":0},"generated":{"line":1,"column":218}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":51,"column":0},"generated":{"line":1,"column":222}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":52,"column":0},"generated":{"line":1,"column":225}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":52,"column":0},"generated":{"line":1,"column":231}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":52,"column":0},"generated":{"line":1,"column":233}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":52,"column":0},"generated":{"line":1,"column":235}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":52,"column":0},"generated":{"line":1,"column":241}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":52,"column":0},"generated":{"line":1,"column":243}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":52,"column":0},"generated":{"line":1,"column":248}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":52,"column":0},"generated":{"line":1,"column":250}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":53,"column":0},"generated":{"line":1,"column":257}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":53,"column":0},"generated":{"line":1,"column":262}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":53,"column":0},"generated":{"line":1,"column":267}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":53,"column":0},"generated":{"line":1,"column":271}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":53,"column":0},"generated":{"line":1,"column":273}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":54,"column":0},"generated":{"line":1,"column":276}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":54,"column":0},"generated":{"line":1,"column":281}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":54,"column":0},"generated":{"line":1,"column":289}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":54,"column":0},"generated":{"line":1,"column":292}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":54,"column":0},"generated":{"line":1,"column":297}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":54,"column":0},"generated":{"line":1,"column":301}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":54,"column":0},"generated":{"line":1,"column":303}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":54,"column":0},"generated":{"line":1,"column":305}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":54,"column":0},"generated":{"line":1,"column":307}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":63,"column":0},"generated":{"line":1,"column":318}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":63,"column":0},"generated":{"line":1,"column":322}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":64,"column":0},"generated":{"line":1,"column":325}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":64,"column":0},"generated":{"line":1,"column":332}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":64,"column":0},"generated":{"line":1,"column":337}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":64,"column":0},"generated":{"line":1,"column":342}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":64,"column":0},"generated":{"line":1,"column":346}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":74,"column":0},"generated":{"line":1,"column":349}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":74,"column":0},"generated":{"line":1,"column":362}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":75,"column":0},"generated":{"line":1,"column":365}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":75,"column":0},"generated":{"line":1,"column":371}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":75,"column":0},"generated":{"line":1,"column":373}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":76,"column":0},"generated":{"line":1,"column":376}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":76,"column":0},"generated":{"line":1,"column":380}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":76,"column":0},"generated":{"line":1,"column":384}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":76,"column":0},"generated":{"line":1,"column":386}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":76,"column":0},"generated":{"line":1,"column":388}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":76,"column":0},"generated":{"line":1,"column":390}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":76,"column":0},"generated":{"line":1,"column":395}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":76,"column":0},"generated":{"line":1,"column":402}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":77,"column":0},"generated":{"line":1,"column":406}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":77,"column":0},"generated":{"line":1,"column":411}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":77,"column":0},"generated":{"line":1,"column":419}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":77,"column":0},"generated":{"line":1,"column":422}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":77,"column":0},"generated":{"line":1,"column":430}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":78,"column":0},"generated":{"line":1,"column":434}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":78,"column":0},"generated":{"line":1,"column":438}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":78,"column":0},"generated":{"line":1,"column":444}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":78,"column":0},"generated":{"line":1,"column":449}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":78,"column":0},"generated":{"line":1,"column":451}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":79,"column":0},"generated":{"line":1,"column":458}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":79,"column":0},"generated":{"line":1,"column":461}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":79,"column":0},"generated":{"line":1,"column":465}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":79,"column":0},"generated":{"line":1,"column":467}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":80,"column":0},"generated":{"line":1,"column":468}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":80,"column":0},"generated":{"line":1,"column":470}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":80,"column":0},"generated":{"line":1,"column":475}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":80,"column":0},"generated":{"line":1,"column":477}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":81,"column":0},"generated":{"line":1,"column":484}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":87,"column":0},"generated":{"line":1,"column":493}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":87,"column":0},"generated":{"line":1,"column":500}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":95,"column":0},"generated":{"line":1,"column":502}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":96,"column":0},"generated":{"line":1,"column":510}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":96,"column":0},"generated":{"line":1,"column":515}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":96,"column":0},"generated":{"line":1,"column":523}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":96,"column":0},"generated":{"line":1,"column":528}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":96,"column":0},"generated":{"line":1,"column":536}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":96,"column":0},"generated":{"line":1,"column":543}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":97,"column":0},"generated":{"line":1,"column":546}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":97,"column":0},"generated":{"line":1,"column":554}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":98,"column":0},"generated":{"line":1,"column":558}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":98,"column":0},"generated":{"line":1,"column":563}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":98,"column":0},"generated":{"line":1,"column":568}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":98,"column":0},"generated":{"line":1,"column":575}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":98,"column":0},"generated":{"line":1,"column":577}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":101,"column":0},"generated":{"line":1,"column":586}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":101,"column":0},"generated":{"line":1,"column":591}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":101,"column":0},"generated":{"line":1,"column":599}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":102,"column":0},"generated":{"line":1,"column":605}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":102,"column":0},"generated":{"line":1,"column":610}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":102,"column":0},"generated":{"line":1,"column":618}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":102,"column":0},"generated":{"line":1,"column":626}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":106,"column":0},"generated":{"line":1,"column":631}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":106,"column":0},"generated":{"line":1,"column":638}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":106,"column":0},"generated":{"line":1,"column":646}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":107,"column":0},"generated":{"line":1,"column":647}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":107,"column":0},"generated":{"line":1,"column":658}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":108,"column":0},"generated":{"line":1,"column":660}},{"source":"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js","original":{"line":108,"column":0},"generated":{"line":1,"column":673}}],"sources":{"node_modules/ipfs/node_modules/libp2p-gossipsub/src/messageCache.js":"'use strict'\n\nconst { utils } = require('libp2p-pubsub')\n\nclass CacheEntry {\n  /**\n   * @param {String} msgID\n   * @param {Array<String>} topics\n   *\n   * @constructor\n   */\n  constructor (msgID, topics) {\n    this.msgID = msgID\n    this.topics = topics\n  }\n}\n\nclass MessageCache {\n  /**\n   * @param {Number} gossip\n   * @param {Number} history\n   *\n   * @constructor\n   */\n  constructor (gossip, history) {\n    /**\n     * @type {Map<string, RPC.Message>}\n     */\n    this.msgs = new Map()\n\n    /**\n     * @type {Array<Array<CacheEntry>>}\n     */\n    this.history = []\n    for (let i = 0; i < history; i++) {\n      this.history[i] = []\n    }\n\n    /**\n     * @type {Number}\n     */\n    this.gossip = gossip\n  }\n\n  /**\n   * Adds a message to the current window and the cache\n   *\n   * @param {rpc.RPC.Message} msg\n   * @returns {void}\n   */\n  put (msg) {\n    const msgID = utils.msgId(msg.from, msg.seqno)\n    this.msgs.set(msgID, msg)\n    this.history[0].push(new CacheEntry(msgID, msg.topicIDs))\n  }\n\n  /**\n   * Retrieves a message from the cache by its ID, if it is still present\n   *\n   * @param {String} msgID\n   * @returns {rpc.RPC.Message}\n   */\n  get (msgID) {\n    return this.msgs.get(msgID)\n  }\n\n  /**\n   * Retrieves a list of message IDs for a given topic\n   *\n   * @param {String} topic\n   *\n   * @returns {Array<String>}\n   */\n  getGossipIDs (topic) {\n    const msgIDs = []\n    for (let i = 0; i < this.gossip; i++) {\n      this.history[i].forEach((entry) => {\n        for (const t of entry.topics) {\n          if (t === topic) {\n            msgIDs.push(entry.msgID)\n            break\n          }\n        }\n      })\n    }\n\n    return msgIDs\n  }\n\n  /**\n   * Shifts the current window, discarding messages older than this.history.length of the cache\n   *\n   * @returns {void}\n   */\n  shift () {\n    const last = this.history[this.history.length - 1]\n    last.forEach((entry) => {\n      this.msgs.delete(entry.msgID)\n    })\n\n    this.history.pop()\n    this.history.unshift([])\n  }\n}\n\nmodule.exports = {\n  CacheEntry,\n  MessageCache\n}\n"},"lineCount":null}},"error":null,"hash":"cde632842bd9dff92c74083916f5ce78","cacheData":{"env":{}}}