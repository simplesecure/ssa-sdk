{"id":"pd0A","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/datastore-core/package.json","includedInParent":true,"mtime":1582579780949},{"name":"interface-datastore","loc":{"line":6,"column":22},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/datastore-core/src/mount.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/datastore-core/node_modules/interface-datastore/src/index.js"},{"name":"./keytransform","loc":{"line":12,"column":29},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/datastore-core/src/mount.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/datastore-core/src/keytransform.js"}],"generated":{"js":"\"use strict\";const t=require(\"interface-datastore\").Key,e=require(\"interface-datastore\").Errors,r=require(\"interface-datastore\").utils,o=r.filter,s=r.take,n=r.sortAll,i=r.replaceStartWith,a=require(\"./keytransform\");class l{constructor(t){this.mounts=t.slice()}open(){return Promise.all(this.mounts.map(t=>t.datastore.open()))}_lookup(e){for(let r of this.mounts)if(r.prefix.toString()===e.toString()||r.prefix.isAncestorOf(e)){const o=i(e.toString(),r.prefix.toString());return{datastore:r.datastore,mountpoint:r.prefix,rest:new t(o)}}}put(t,r){const o=this._lookup(t);if(null==o)throw e.dbWriteFailedError(new Error(\"No datastore mounted for this key\"));return o.datastore.put(o.rest,r)}get(t){const r=this._lookup(t);if(null==r)throw e.notFoundError(new Error(\"No datastore mounted for this key\"));return r.datastore.get(r.rest)}has(t){const e=this._lookup(t);return null!=e&&e.datastore.has(e.rest)}delete(t){const r=this._lookup(t);if(null==r)throw e.dbDeleteFailedError(new Error(\"No datastore mounted for this key\"));return r.datastore.delete(r.rest)}close(){return Promise.all(this.mounts.map(t=>t.datastore.close()))}batch(){const t={},e=e=>{const r=this._lookup(e);if(null==r)throw new Error(\"No datastore mounted for this key\");const o=r.mountpoint.toString();return null==t[o]&&(t[o]=r.datastore.batch()),{batch:t[o],rest:r.rest}};return{put:(t,r)=>{const o=e(t);o.batch.put(o.rest,r)},delete:t=>{const r=e(t);r.batch.delete(r.rest)},commit:()=>Promise.all(Object.keys(t).map(e=>t[e].commit()))}}query(t){let e=u(this.mounts.map(e=>{const r=new a(e.datastore,{convert:t=>{throw new Error(\"should never be called\")},invert:t=>e.prefix.child(t)});let o;return null!=t.prefix&&(o=i(t.prefix,e.prefix.toString())),r.query({prefix:o,filters:t.filters,keysOnly:t.keysOnly})}));if(t.filters&&t.filters.forEach(t=>{e=o(e,t)}),t.orders&&t.orders.forEach(t=>{e=n(e,t)}),null!=t.offset){let r=0;e=o(e,()=>r++>=t.offset)}return null!=t.limit&&(e=s(e,t.limit)),e}}function u(t){return async function*(){let e=t.map(()=>!1);for(;!e.every(Boolean);)for(const[r,o]of t.entries()){const t=await o.next();t.done?e[r]=!0:yield t.value}}()}module.exports=l;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":2,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":4,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Key","original":{"line":4,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"require","original":{"line":4,"column":12},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":4,"column":20},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Key","original":{"line":4,"column":43},"generated":{"line":1,"column":52}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Errors","original":{"line":5,"column":6},"generated":{"line":1,"column":56}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"require","original":{"line":5,"column":15},"generated":{"line":1,"column":58}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":5,"column":23},"generated":{"line":1,"column":66}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Errors","original":{"line":5,"column":46},"generated":{"line":1,"column":89}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"utils","original":{"line":6,"column":6},"generated":{"line":1,"column":96}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"require","original":{"line":6,"column":14},"generated":{"line":1,"column":98}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":6,"column":22},"generated":{"line":1,"column":106}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"utils","original":{"line":6,"column":45},"generated":{"line":1,"column":129}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"filter","original":{"line":7,"column":6},"generated":{"line":1,"column":135}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"utils","original":{"line":7,"column":15},"generated":{"line":1,"column":137}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"filter","original":{"line":7,"column":21},"generated":{"line":1,"column":139}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"take","original":{"line":8,"column":6},"generated":{"line":1,"column":146}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"utils","original":{"line":8,"column":13},"generated":{"line":1,"column":148}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"take","original":{"line":8,"column":19},"generated":{"line":1,"column":150}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"sortAll","original":{"line":9,"column":6},"generated":{"line":1,"column":155}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"utils","original":{"line":9,"column":16},"generated":{"line":1,"column":157}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"sortAll","original":{"line":9,"column":22},"generated":{"line":1,"column":159}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"replaceStartWith","original":{"line":10,"column":6},"generated":{"line":1,"column":167}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"utils","original":{"line":10,"column":25},"generated":{"line":1,"column":169}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"replaceStartWith","original":{"line":10,"column":31},"generated":{"line":1,"column":171}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Keytransform","original":{"line":12,"column":6},"generated":{"line":1,"column":188}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"require","original":{"line":12,"column":21},"generated":{"line":1,"column":190}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":12,"column":29},"generated":{"line":1,"column":198}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":18,"column":0},"generated":{"line":1,"column":216}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"MountDatastore","original":{"line":18,"column":6},"generated":{"line":1,"column":222}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"constructor","original":{"line":19,"column":2},"generated":{"line":1,"column":224}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mounts","original":{"line":19,"column":15},"generated":{"line":1,"column":236}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mounts","original":{"line":20,"column":9},"generated":{"line":1,"column":239}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mounts","original":{"line":20,"column":9},"generated":{"line":1,"column":244}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mounts","original":{"line":20,"column":18},"generated":{"line":1,"column":251}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"slice","original":{"line":20,"column":25},"generated":{"line":1,"column":253}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"open","original":{"line":23,"column":2},"generated":{"line":1,"column":261}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Promise","original":{"line":24,"column":11},"generated":{"line":1,"column":268}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Promise","original":{"line":24,"column":11},"generated":{"line":1,"column":275}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"all","original":{"line":24,"column":19},"generated":{"line":1,"column":283}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":24,"column":23},"generated":{"line":1,"column":287}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mounts","original":{"line":24,"column":28},"generated":{"line":1,"column":292}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"map","original":{"line":24,"column":35},"generated":{"line":1,"column":299}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":24,"column":40},"generated":{"line":1,"column":303}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":24,"column":46},"generated":{"line":1,"column":306}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"datastore","original":{"line":24,"column":48},"generated":{"line":1,"column":308}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"open","original":{"line":24,"column":58},"generated":{"line":1,"column":318}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"_lookup","original":{"line":34,"column":2},"generated":{"line":1,"column":327}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":34,"column":11},"generated":{"line":1,"column":335}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":35,"column":9},"generated":{"line":1,"column":338}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":35,"column":9},"generated":{"line":1,"column":342}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mount","original":{"line":35,"column":13},"generated":{"line":1,"column":346}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":35,"column":22},"generated":{"line":1,"column":351}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mounts","original":{"line":35,"column":27},"generated":{"line":1,"column":356}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mount","original":{"line":36,"column":10},"generated":{"line":1,"column":363}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mount","original":{"line":36,"column":10},"generated":{"line":1,"column":366}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":36,"column":16},"generated":{"line":1,"column":368}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"toString","original":{"line":36,"column":23},"generated":{"line":1,"column":375}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":36,"column":38},"generated":{"line":1,"column":388}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"toString","original":{"line":36,"column":42},"generated":{"line":1,"column":390}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mount","original":{"line":36,"column":56},"generated":{"line":1,"column":402}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":36,"column":62},"generated":{"line":1,"column":404}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"isAncestorOf","original":{"line":36,"column":69},"generated":{"line":1,"column":411}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":36,"column":82},"generated":{"line":1,"column":424}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":36,"column":88},"generated":{"line":1,"column":427}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"s","original":{"line":37,"column":14},"generated":{"line":1,"column":428}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"s","original":{"line":37,"column":14},"generated":{"line":1,"column":434}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"replaceStartWith","original":{"line":37,"column":18},"generated":{"line":1,"column":436}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":37,"column":35},"generated":{"line":1,"column":438}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"toString","original":{"line":37,"column":39},"generated":{"line":1,"column":440}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mount","original":{"line":37,"column":51},"generated":{"line":1,"column":451}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":37,"column":57},"generated":{"line":1,"column":453}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"toString","original":{"line":37,"column":64},"generated":{"line":1,"column":460}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":38,"column":15},"generated":{"line":1,"column":472}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":38,"column":15},"generated":{"line":1,"column":478}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"datastore","original":{"line":39,"column":10},"generated":{"line":1,"column":479}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mount","original":{"line":39,"column":21},"generated":{"line":1,"column":489}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"datastore","original":{"line":39,"column":27},"generated":{"line":1,"column":491}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mountpoint","original":{"line":40,"column":10},"generated":{"line":1,"column":501}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mount","original":{"line":40,"column":22},"generated":{"line":1,"column":512}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":40,"column":28},"generated":{"line":1,"column":514}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"rest","original":{"line":41,"column":10},"generated":{"line":1,"column":521}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":41,"column":16},"generated":{"line":1,"column":526}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Key","original":{"line":41,"column":20},"generated":{"line":1,"column":530}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"s","original":{"line":41,"column":24},"generated":{"line":1,"column":532}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"put","original":{"line":47,"column":2},"generated":{"line":1,"column":537}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":47,"column":7},"generated":{"line":1,"column":541}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"value","original":{"line":47,"column":12},"generated":{"line":1,"column":543}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":48,"column":10},"generated":{"line":1,"column":546}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":48,"column":10},"generated":{"line":1,"column":552}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":48,"column":18},"generated":{"line":1,"column":554}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"_lookup","original":{"line":48,"column":23},"generated":{"line":1,"column":559}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":48,"column":31},"generated":{"line":1,"column":567}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":49,"column":8},"generated":{"line":1,"column":570}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":49,"column":17},"generated":{"line":1,"column":573}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":49,"column":8},"generated":{"line":1,"column":579}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Errors","original":{"line":50,"column":12},"generated":{"line":1,"column":581}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Errors","original":{"line":50,"column":12},"generated":{"line":1,"column":587}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"dbWriteFailedError","original":{"line":50,"column":19},"generated":{"line":1,"column":589}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":50,"column":38},"generated":{"line":1,"column":608}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Error","original":{"line":50,"column":42},"generated":{"line":1,"column":612}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":50,"column":48},"generated":{"line":1,"column":618}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":53,"column":11},"generated":{"line":1,"column":656}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":53,"column":11},"generated":{"line":1,"column":663}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"datastore","original":{"line":53,"column":17},"generated":{"line":1,"column":665}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"put","original":{"line":53,"column":27},"generated":{"line":1,"column":675}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":53,"column":31},"generated":{"line":1,"column":679}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"rest","original":{"line":53,"column":37},"generated":{"line":1,"column":681}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"value","original":{"line":53,"column":43},"generated":{"line":1,"column":686}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"get","original":{"line":56,"column":2},"generated":{"line":1,"column":689}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":56,"column":7},"generated":{"line":1,"column":693}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":57,"column":10},"generated":{"line":1,"column":696}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":57,"column":10},"generated":{"line":1,"column":702}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":57,"column":18},"generated":{"line":1,"column":704}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"_lookup","original":{"line":57,"column":23},"generated":{"line":1,"column":709}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":57,"column":31},"generated":{"line":1,"column":717}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":58,"column":8},"generated":{"line":1,"column":720}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":58,"column":17},"generated":{"line":1,"column":723}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":58,"column":8},"generated":{"line":1,"column":729}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Errors","original":{"line":59,"column":12},"generated":{"line":1,"column":731}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Errors","original":{"line":59,"column":12},"generated":{"line":1,"column":737}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"notFoundError","original":{"line":59,"column":19},"generated":{"line":1,"column":739}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":59,"column":33},"generated":{"line":1,"column":753}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Error","original":{"line":59,"column":37},"generated":{"line":1,"column":757}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":59,"column":43},"generated":{"line":1,"column":763}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":61,"column":11},"generated":{"line":1,"column":801}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":61,"column":11},"generated":{"line":1,"column":808}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"datastore","original":{"line":61,"column":17},"generated":{"line":1,"column":810}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"get","original":{"line":61,"column":27},"generated":{"line":1,"column":820}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":61,"column":31},"generated":{"line":1,"column":824}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"rest","original":{"line":61,"column":37},"generated":{"line":1,"column":826}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"has","original":{"line":64,"column":2},"generated":{"line":1,"column":832}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":64,"column":7},"generated":{"line":1,"column":836}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":65,"column":10},"generated":{"line":1,"column":839}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":65,"column":10},"generated":{"line":1,"column":845}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":65,"column":18},"generated":{"line":1,"column":847}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"_lookup","original":{"line":65,"column":23},"generated":{"line":1,"column":852}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":65,"column":31},"generated":{"line":1,"column":860}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":66,"column":8},"generated":{"line":1,"column":863}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":66,"column":17},"generated":{"line":1,"column":870}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":66,"column":8},"generated":{"line":1,"column":876}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":69,"column":11},"generated":{"line":1,"column":879}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"datastore","original":{"line":69,"column":17},"generated":{"line":1,"column":881}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"has","original":{"line":69,"column":27},"generated":{"line":1,"column":891}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":69,"column":31},"generated":{"line":1,"column":895}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"rest","original":{"line":69,"column":37},"generated":{"line":1,"column":897}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"delete","original":{"line":72,"column":2},"generated":{"line":1,"column":903}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":72,"column":10},"generated":{"line":1,"column":910}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":73,"column":10},"generated":{"line":1,"column":913}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":73,"column":10},"generated":{"line":1,"column":919}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":73,"column":18},"generated":{"line":1,"column":921}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"_lookup","original":{"line":73,"column":23},"generated":{"line":1,"column":926}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":73,"column":31},"generated":{"line":1,"column":934}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":74,"column":8},"generated":{"line":1,"column":937}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":74,"column":17},"generated":{"line":1,"column":940}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":74,"column":8},"generated":{"line":1,"column":946}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Errors","original":{"line":75,"column":12},"generated":{"line":1,"column":948}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Errors","original":{"line":75,"column":12},"generated":{"line":1,"column":954}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"dbDeleteFailedError","original":{"line":75,"column":19},"generated":{"line":1,"column":956}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":75,"column":39},"generated":{"line":1,"column":976}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Error","original":{"line":75,"column":43},"generated":{"line":1,"column":980}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":75,"column":49},"generated":{"line":1,"column":986}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":78,"column":11},"generated":{"line":1,"column":1024}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":78,"column":11},"generated":{"line":1,"column":1031}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"datastore","original":{"line":78,"column":17},"generated":{"line":1,"column":1033}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"delete","original":{"line":78,"column":27},"generated":{"line":1,"column":1043}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":78,"column":34},"generated":{"line":1,"column":1050}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"rest","original":{"line":78,"column":40},"generated":{"line":1,"column":1052}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"close","original":{"line":81,"column":2},"generated":{"line":1,"column":1058}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Promise","original":{"line":82,"column":11},"generated":{"line":1,"column":1066}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Promise","original":{"line":82,"column":11},"generated":{"line":1,"column":1073}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"all","original":{"line":82,"column":19},"generated":{"line":1,"column":1081}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":82,"column":23},"generated":{"line":1,"column":1085}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mounts","original":{"line":82,"column":28},"generated":{"line":1,"column":1090}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"map","original":{"line":82,"column":35},"generated":{"line":1,"column":1097}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":82,"column":40},"generated":{"line":1,"column":1101}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":83,"column":13},"generated":{"line":1,"column":1104}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"datastore","original":{"line":83,"column":15},"generated":{"line":1,"column":1106}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"close","original":{"line":83,"column":25},"generated":{"line":1,"column":1116}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batch","original":{"line":87,"column":2},"generated":{"line":1,"column":1126}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batchMounts","original":{"line":88,"column":10},"generated":{"line":1,"column":1134}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batchMounts","original":{"line":88,"column":10},"generated":{"line":1,"column":1140}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":88,"column":24},"generated":{"line":1,"column":1142}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"lookup","original":{"line":89,"column":10},"generated":{"line":1,"column":1145}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":89,"column":20},"generated":{"line":1,"column":1147}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":90,"column":12},"generated":{"line":1,"column":1151}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":90,"column":12},"generated":{"line":1,"column":1157}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":90,"column":20},"generated":{"line":1,"column":1159}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"_lookup","original":{"line":90,"column":25},"generated":{"line":1,"column":1164}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":90,"column":33},"generated":{"line":1,"column":1172}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":91,"column":10},"generated":{"line":1,"column":1175}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":91,"column":19},"generated":{"line":1,"column":1178}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":91,"column":10},"generated":{"line":1,"column":1184}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":92,"column":14},"generated":{"line":1,"column":1186}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":92,"column":14},"generated":{"line":1,"column":1192}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Error","original":{"line":92,"column":18},"generated":{"line":1,"column":1196}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":92,"column":24},"generated":{"line":1,"column":1202}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":95,"column":12},"generated":{"line":1,"column":1239}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":95,"column":12},"generated":{"line":1,"column":1245}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":95,"column":16},"generated":{"line":1,"column":1247}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mountpoint","original":{"line":95,"column":22},"generated":{"line":1,"column":1249}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"toString","original":{"line":95,"column":33},"generated":{"line":1,"column":1260}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":100,"column":13},"generated":{"line":1,"column":1271}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":96,"column":28},"generated":{"line":1,"column":1278}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batchMounts","original":{"line":96,"column":10},"generated":{"line":1,"column":1284}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":96,"column":22},"generated":{"line":1,"column":1286}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batchMounts","original":{"line":97,"column":8},"generated":{"line":1,"column":1291}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":97,"column":20},"generated":{"line":1,"column":1293}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":97,"column":25},"generated":{"line":1,"column":1296}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"datastore","original":{"line":97,"column":31},"generated":{"line":1,"column":1298}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batch","original":{"line":97,"column":41},"generated":{"line":1,"column":1308}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":100,"column":13},"generated":{"line":1,"column":1317}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batch","original":{"line":101,"column":8},"generated":{"line":1,"column":1318}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batchMounts","original":{"line":101,"column":15},"generated":{"line":1,"column":1324}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":101,"column":27},"generated":{"line":1,"column":1326}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"rest","original":{"line":102,"column":8},"generated":{"line":1,"column":1329}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":102,"column":14},"generated":{"line":1,"column":1334}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"rest","original":{"line":102,"column":20},"generated":{"line":1,"column":1336}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":106,"column":11},"generated":{"line":1,"column":1343}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":106,"column":11},"generated":{"line":1,"column":1349}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"put","original":{"line":107,"column":6},"generated":{"line":1,"column":1350}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":107,"column":11},"generated":{"line":1,"column":1354}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":107,"column":12},"generated":{"line":1,"column":1355}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"value","original":{"line":107,"column":17},"generated":{"line":1,"column":1357}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":108,"column":14},"generated":{"line":1,"column":1362}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":108,"column":14},"generated":{"line":1,"column":1368}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"lookup","original":{"line":108,"column":22},"generated":{"line":1,"column":1370}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":108,"column":29},"generated":{"line":1,"column":1372}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":109,"column":8},"generated":{"line":1,"column":1375}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batch","original":{"line":109,"column":14},"generated":{"line":1,"column":1377}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"put","original":{"line":109,"column":20},"generated":{"line":1,"column":1383}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":109,"column":24},"generated":{"line":1,"column":1387}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"rest","original":{"line":109,"column":30},"generated":{"line":1,"column":1389}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"value","original":{"line":109,"column":36},"generated":{"line":1,"column":1394}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"delete","original":{"line":111,"column":6},"generated":{"line":1,"column":1398}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":111,"column":15},"generated":{"line":1,"column":1405}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":112,"column":14},"generated":{"line":1,"column":1409}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":112,"column":14},"generated":{"line":1,"column":1415}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"lookup","original":{"line":112,"column":22},"generated":{"line":1,"column":1417}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":112,"column":29},"generated":{"line":1,"column":1419}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":113,"column":8},"generated":{"line":1,"column":1422}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batch","original":{"line":113,"column":14},"generated":{"line":1,"column":1424}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"delete","original":{"line":113,"column":20},"generated":{"line":1,"column":1430}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"match","original":{"line":113,"column":27},"generated":{"line":1,"column":1437}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"rest","original":{"line":113,"column":33},"generated":{"line":1,"column":1439}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"commit","original":{"line":115,"column":6},"generated":{"line":1,"column":1446}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":115,"column":14},"generated":{"line":1,"column":1453}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Promise","original":{"line":116,"column":15},"generated":{"line":1,"column":1457}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"all","original":{"line":116,"column":23},"generated":{"line":1,"column":1465}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Object","original":{"line":116,"column":27},"generated":{"line":1,"column":1469}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"keys","original":{"line":116,"column":34},"generated":{"line":1,"column":1476}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batchMounts","original":{"line":116,"column":39},"generated":{"line":1,"column":1481}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"map","original":{"line":116,"column":52},"generated":{"line":1,"column":1484}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"p","original":{"line":116,"column":56},"generated":{"line":1,"column":1488}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"batchMounts","original":{"line":116,"column":61},"generated":{"line":1,"column":1491}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"p","original":{"line":116,"column":73},"generated":{"line":1,"column":1493}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"commit","original":{"line":116,"column":76},"generated":{"line":1,"column":1496}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"query","original":{"line":121,"column":2},"generated":{"line":1,"column":1508}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":121,"column":9},"generated":{"line":1,"column":1514}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":144,"column":8},"generated":{"line":1,"column":1517}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":144,"column":8},"generated":{"line":1,"column":1521}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"_many","original":{"line":144,"column":13},"generated":{"line":1,"column":1523}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":122,"column":15},"generated":{"line":1,"column":1525}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"mounts","original":{"line":122,"column":20},"generated":{"line":1,"column":1530}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"map","original":{"line":122,"column":27},"generated":{"line":1,"column":1537}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":122,"column":31},"generated":{"line":1,"column":1541}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"ks","original":{"line":123,"column":12},"generated":{"line":1,"column":1545}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"ks","original":{"line":123,"column":12},"generated":{"line":1,"column":1551}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":123,"column":17},"generated":{"line":1,"column":1553}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Keytransform","original":{"line":123,"column":21},"generated":{"line":1,"column":1557}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":123,"column":34},"generated":{"line":1,"column":1559}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"datastore","original":{"line":123,"column":36},"generated":{"line":1,"column":1561}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":123,"column":47},"generated":{"line":1,"column":1571}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"convert","original":{"line":124,"column":8},"generated":{"line":1,"column":1572}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":124,"column":18},"generated":{"line":1,"column":1580}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":125,"column":16},"generated":{"line":1,"column":1584}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":125,"column":16},"generated":{"line":1,"column":1590}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Error","original":{"line":125,"column":20},"generated":{"line":1,"column":1594}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":125,"column":26},"generated":{"line":1,"column":1600}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"invert","original":{"line":127,"column":8},"generated":{"line":1,"column":1627}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":127,"column":17},"generated":{"line":1,"column":1634}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":128,"column":17},"generated":{"line":1,"column":1637}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":128,"column":19},"generated":{"line":1,"column":1639}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"child","original":{"line":128,"column":26},"generated":{"line":1,"column":1646}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"key","original":{"line":128,"column":32},"generated":{"line":1,"column":1652}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":132,"column":10},"generated":{"line":1,"column":1657}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":132,"column":10},"generated":{"line":1,"column":1661}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"ks","original":{"line":137,"column":13},"generated":{"line":1,"column":1663}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":133,"column":22},"generated":{"line":1,"column":1670}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":133,"column":10},"generated":{"line":1,"column":1676}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":133,"column":12},"generated":{"line":1,"column":1678}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":134,"column":8},"generated":{"line":1,"column":1687}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"replaceStartWith","original":{"line":134,"column":17},"generated":{"line":1,"column":1689}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":134,"column":34},"generated":{"line":1,"column":1691}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":134,"column":36},"generated":{"line":1,"column":1693}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"m","original":{"line":134,"column":44},"generated":{"line":1,"column":1700}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":134,"column":46},"generated":{"line":1,"column":1702}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"toString","original":{"line":134,"column":53},"generated":{"line":1,"column":1709}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"ks","original":{"line":137,"column":13},"generated":{"line":1,"column":1722}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"query","original":{"line":137,"column":16},"generated":{"line":1,"column":1724}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":137,"column":22},"generated":{"line":1,"column":1730}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":138,"column":8},"generated":{"line":1,"column":1731}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"prefix","original":{"line":138,"column":16},"generated":{"line":1,"column":1738}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"filters","original":{"line":139,"column":8},"generated":{"line":1,"column":1740}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":139,"column":17},"generated":{"line":1,"column":1748}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"filters","original":{"line":139,"column":19},"generated":{"line":1,"column":1750}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"keysOnly","original":{"line":140,"column":8},"generated":{"line":1,"column":1758}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":140,"column":18},"generated":{"line":1,"column":1767}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"keysOnly","original":{"line":140,"column":20},"generated":{"line":1,"column":1769}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":147,"column":8},"generated":{"line":1,"column":1783}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":145,"column":8},"generated":{"line":1,"column":1786}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"filters","original":{"line":145,"column":10},"generated":{"line":1,"column":1788}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":145,"column":19},"generated":{"line":1,"column":1797}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"filters","original":{"line":145,"column":21},"generated":{"line":1,"column":1799}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"forEach","original":{"line":145,"column":29},"generated":{"line":1,"column":1807}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"f","original":{"line":145,"column":37},"generated":{"line":1,"column":1815}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":145,"column":44},"generated":{"line":1,"column":1819}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"filter","original":{"line":145,"column":49},"generated":{"line":1,"column":1821}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":145,"column":56},"generated":{"line":1,"column":1823}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"f","original":{"line":145,"column":60},"generated":{"line":1,"column":1825}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":146,"column":8},"generated":{"line":1,"column":1830}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"orders","original":{"line":146,"column":10},"generated":{"line":1,"column":1832}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":146,"column":18},"generated":{"line":1,"column":1840}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"orders","original":{"line":146,"column":20},"generated":{"line":1,"column":1842}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"forEach","original":{"line":146,"column":27},"generated":{"line":1,"column":1849}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"o","original":{"line":146,"column":35},"generated":{"line":1,"column":1857}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":146,"column":42},"generated":{"line":1,"column":1861}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"sortAll","original":{"line":146,"column":47},"generated":{"line":1,"column":1863}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":146,"column":55},"generated":{"line":1,"column":1865}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"o","original":{"line":146,"column":59},"generated":{"line":1,"column":1867}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":147,"column":20},"generated":{"line":1,"column":1872}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":147,"column":8},"generated":{"line":1,"column":1878}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"offset","original":{"line":147,"column":10},"generated":{"line":1,"column":1880}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":147,"column":26},"generated":{"line":1,"column":1887}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"i","original":{"line":148,"column":10},"generated":{"line":1,"column":1888}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"i","original":{"line":148,"column":10},"generated":{"line":1,"column":1892}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":148,"column":14},"generated":{"line":1,"column":1894}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":149,"column":6},"generated":{"line":1,"column":1896}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"filter","original":{"line":149,"column":11},"generated":{"line":1,"column":1898}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":149,"column":18},"generated":{"line":1,"column":1900}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":149,"column":22},"generated":{"line":1,"column":1902}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"i","original":{"line":149,"column":28},"generated":{"line":1,"column":1906}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":149,"column":35},"generated":{"line":1,"column":1911}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"offset","original":{"line":149,"column":37},"generated":{"line":1,"column":1913}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":153,"column":11},"generated":{"line":1,"column":1921}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":151,"column":19},"generated":{"line":1,"column":1928}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":151,"column":8},"generated":{"line":1,"column":1934}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"limit","original":{"line":151,"column":10},"generated":{"line":1,"column":1936}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":151,"column":25},"generated":{"line":1,"column":1944}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"take","original":{"line":151,"column":30},"generated":{"line":1,"column":1946}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":151,"column":35},"generated":{"line":1,"column":1948}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"q","original":{"line":151,"column":39},"generated":{"line":1,"column":1950}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"limit","original":{"line":151,"column":41},"generated":{"line":1,"column":1952}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":153,"column":11},"generated":{"line":1,"column":1960}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":157,"column":0},"generated":{"line":1,"column":1963}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"_many","original":{"line":157,"column":9},"generated":{"line":1,"column":1972}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"iterable","original":{"line":157,"column":16},"generated":{"line":1,"column":1974}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":158,"column":10},"generated":{"line":1,"column":1977}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":158,"column":10},"generated":{"line":1,"column":1984}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"completed","original":{"line":159,"column":8},"generated":{"line":1,"column":2002}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"completed","original":{"line":159,"column":8},"generated":{"line":1,"column":2006}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"iterable","original":{"line":159,"column":20},"generated":{"line":1,"column":2008}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"map","original":{"line":159,"column":29},"generated":{"line":1,"column":2010}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":159,"column":33},"generated":{"line":1,"column":2014}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":159,"column":39},"generated":{"line":1,"column":2019}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":160,"column":11},"generated":{"line":1,"column":2022}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"completed","original":{"line":160,"column":12},"generated":{"line":1,"column":2028}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"every","original":{"line":160,"column":22},"generated":{"line":1,"column":2030}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"Boolean","original":{"line":160,"column":28},"generated":{"line":1,"column":2036}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":161,"column":11},"generated":{"line":1,"column":2046}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":161,"column":11},"generated":{"line":1,"column":2050}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"idx","original":{"line":161,"column":18},"generated":{"line":1,"column":2056}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"itr","original":{"line":161,"column":23},"generated":{"line":1,"column":2058}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"iterable","original":{"line":161,"column":31},"generated":{"line":1,"column":2063}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"entries","original":{"line":161,"column":40},"generated":{"line":1,"column":2065}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":161,"column":51},"generated":{"line":1,"column":2075}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":162,"column":14},"generated":{"line":1,"column":2076}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":162,"column":14},"generated":{"line":1,"column":2082}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"itr","original":{"line":162,"column":25},"generated":{"line":1,"column":2090}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"next","original":{"line":162,"column":29},"generated":{"line":1,"column":2092}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":163,"column":12},"generated":{"line":1,"column":2099}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"done","original":{"line":163,"column":15},"generated":{"line":1,"column":2101}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"completed","original":{"line":164,"column":10},"generated":{"line":1,"column":2106}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"idx","original":{"line":164,"column":20},"generated":{"line":1,"column":2108}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":164,"column":27},"generated":{"line":1,"column":2112}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"it","original":{"line":167,"column":14},"generated":{"line":1,"column":2120}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"value","original":{"line":167,"column":17},"generated":{"line":1,"column":2122}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","original":{"line":158,"column":10},"generated":{"line":1,"column":2129}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"module","original":{"line":173,"column":0},"generated":{"line":1,"column":2132}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"exports","original":{"line":173,"column":7},"generated":{"line":1,"column":2139}},{"source":"node_modules/ipfs/node_modules/datastore-core/src/mount.js","name":"MountDatastore","original":{"line":173,"column":17},"generated":{"line":1,"column":2147}}],"sources":{"node_modules/ipfs/node_modules/datastore-core/src/mount.js":"/* @flow */\n'use strict'\n\nconst Key = require('interface-datastore').Key\nconst Errors = require('interface-datastore').Errors\nconst utils = require('interface-datastore').utils\nconst filter = utils.filter\nconst take = utils.take\nconst sortAll = utils.sortAll\nconst replaceStartWith = utils.replaceStartWith\n\nconst Keytransform = require('./keytransform')\n\n/**\n * A datastore that can combine multiple stores inside various\n * key prefixs.\n */\nclass MountDatastore {\n  constructor (mounts) {\n    this.mounts = mounts.slice()\n  }\n\n  open () {\n    return Promise.all(this.mounts.map((m) => m.datastore.open()))\n  }\n\n  /**\n   * Lookup the matching datastore for the given key.\n   *\n   * @private\n   * @param {Key} key\n   * @returns {{Datastore, Key, Key}}\n   */\n  _lookup (key) {\n    for (let mount of this.mounts) {\n      if (mount.prefix.toString() === key.toString() || mount.prefix.isAncestorOf(key)) {\n        const s = replaceStartWith(key.toString(), mount.prefix.toString())\n        return {\n          datastore: mount.datastore,\n          mountpoint: mount.prefix,\n          rest: new Key(s)\n        }\n      }\n    }\n  }\n\n  put (key, value) {\n    const match = this._lookup(key)\n    if (match == null) {\n      throw Errors.dbWriteFailedError(new Error('No datastore mounted for this key'))\n    }\n\n    return match.datastore.put(match.rest, value)\n  }\n\n  get (key) {\n    const match = this._lookup(key)\n    if (match == null) {\n      throw Errors.notFoundError(new Error('No datastore mounted for this key'))\n    }\n    return match.datastore.get(match.rest)\n  }\n\n  has (key) {\n    const match = this._lookup(key)\n    if (match == null) {\n      return false\n    }\n    return match.datastore.has(match.rest)\n  }\n\n  delete (key) {\n    const match = this._lookup(key)\n    if (match == null) {\n      throw Errors.dbDeleteFailedError(new Error('No datastore mounted for this key'))\n    }\n\n    return match.datastore.delete(match.rest)\n  }\n\n  close () {\n    return Promise.all(this.mounts.map((m) => {\n      return m.datastore.close()\n    }))\n  }\n\n  batch () {\n    const batchMounts = {}\n    const lookup = (key) => {\n      const match = this._lookup(key)\n      if (match == null) {\n        throw new Error('No datastore mounted for this key')\n      }\n\n      const m = match.mountpoint.toString()\n      if (batchMounts[m] == null) {\n        batchMounts[m] = match.datastore.batch()\n      }\n\n      return {\n        batch: batchMounts[m],\n        rest: match.rest\n      }\n    }\n\n    return {\n      put: (key, value) => {\n        const match = lookup(key)\n        match.batch.put(match.rest, value)\n      },\n      delete: (key) => {\n        const match = lookup(key)\n        match.batch.delete(match.rest)\n      },\n      commit: () => {\n        return Promise.all(Object.keys(batchMounts).map(p => batchMounts[p].commit()))\n      }\n    }\n  }\n\n  query (q) {\n    const qs = this.mounts.map(m => {\n      const ks = new Keytransform(m.datastore, {\n        convert: (key) => {\n          throw new Error('should never be called')\n        },\n        invert: (key) => {\n          return m.prefix.child(key)\n        }\n      })\n\n      let prefix\n      if (q.prefix != null) {\n        prefix = replaceStartWith(q.prefix, m.prefix.toString())\n      }\n\n      return ks.query({\n        prefix: prefix,\n        filters: q.filters,\n        keysOnly: q.keysOnly\n      })\n    })\n\n    let it = _many(qs)\n    if (q.filters) q.filters.forEach(f => { it = filter(it, f) })\n    if (q.orders) q.orders.forEach(o => { it = sortAll(it, o) })\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= q.offset)\n    }\n    if (q.limit != null) it = take(it, q.limit)\n\n    return it\n  }\n}\n\nfunction _many (iterable) {\n  return (async function * () {\n    let completed = iterable.map(() => false)\n    while (!completed.every(Boolean)) {\n      for (const [idx, itr] of iterable.entries()) {\n        const it = await itr.next()\n        if (it.done) {\n          completed[idx] = true\n          continue\n        }\n        yield it.value\n      }\n    }\n  })()\n}\n\nmodule.exports = MountDatastore\n"},"lineCount":null}},"error":null,"hash":"97f190a6d2b81af05b060bc194410195","cacheData":{"env":{}}}