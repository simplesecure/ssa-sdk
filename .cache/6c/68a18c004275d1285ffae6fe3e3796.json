{"id":"IvIg","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/package.json","includedInParent":true,"mtime":1582579778668},{"name":"ipfs-repo","loc":{"line":3,"column":27},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/boot.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo/src/index.js"}],"generated":{"js":"\"use strict\";const t=require(\"ipfs-repo\").errors;function e(e){return e.code===t.ERR_REPO_NOT_INITIALIZED||!!(e.message.match(/not found/)||e.message.match(/ENOENT/)||e.message.match(/No value/))}module.exports=(async t=>{t.log(\"booting\");const i=t._options,o=i.init,r=i.start;try{if(await async function(){if(!t._repo.closed)return!0;try{await t._repo.open()}catch(i){if(e(i))return!1;if(i)throw i}return!0}())try{await t.init({repo:t._repo})}catch(s){throw Object.assign(s,{emitted:!0})}else if(o){const e={bits:2048,pass:t._options.pass},o=Object.assign(e,\"object\"==typeof i.init?i.init:{});await t.init(o)}r&&await t.start(),t.log(\"booted\"),t.emit(\"ready\")}catch(s){s.emitted||t.emit(\"error\",s)}});"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/src/core/boot.js","name":"RepoErrors","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/src/core/boot.js","name":"require","original":{"line":3,"column":19},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":3,"column":27},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/src/core/boot.js","name":"errors","original":{"line":3,"column":40},"generated":{"line":1,"column":42}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":69,"column":0},"generated":{"line":1,"column":49}},{"source":"node_modules/ipfs/src/core/boot.js","name":"isRepoUninitializedError","original":{"line":69,"column":9},"generated":{"line":1,"column":58}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":69,"column":35},"generated":{"line":1,"column":60}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":76,"column":6},"generated":{"line":1,"column":63}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":76,"column":6},"generated":{"line":1,"column":70}},{"source":"node_modules/ipfs/src/core/boot.js","name":"code","original":{"line":76,"column":10},"generated":{"line":1,"column":72}},{"source":"node_modules/ipfs/src/core/boot.js","name":"RepoErrors","original":{"line":76,"column":19},"generated":{"line":1,"column":79}},{"source":"node_modules/ipfs/src/core/boot.js","name":"ERR_REPO_NOT_INITIALIZED","original":{"line":76,"column":30},"generated":{"line":1,"column":81}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":82,"column":6},"generated":{"line":1,"column":110}},{"source":"node_modules/ipfs/src/core/boot.js","name":"message","original":{"line":82,"column":10},"generated":{"line":1,"column":112}},{"source":"node_modules/ipfs/src/core/boot.js","name":"match","original":{"line":82,"column":18},"generated":{"line":1,"column":120}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":82,"column":24},"generated":{"line":1,"column":126}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":83,"column":4},"generated":{"line":1,"column":140}},{"source":"node_modules/ipfs/src/core/boot.js","name":"message","original":{"line":83,"column":8},"generated":{"line":1,"column":142}},{"source":"node_modules/ipfs/src/core/boot.js","name":"match","original":{"line":83,"column":16},"generated":{"line":1,"column":150}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":83,"column":22},"generated":{"line":1,"column":156}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":84,"column":4},"generated":{"line":1,"column":167}},{"source":"node_modules/ipfs/src/core/boot.js","name":"message","original":{"line":84,"column":8},"generated":{"line":1,"column":169}},{"source":"node_modules/ipfs/src/core/boot.js","name":"match","original":{"line":84,"column":16},"generated":{"line":1,"column":177}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":84,"column":22},"generated":{"line":1,"column":183}},{"source":"node_modules/ipfs/src/core/boot.js","name":"module","original":{"line":6,"column":0},"generated":{"line":1,"column":196}},{"source":"node_modules/ipfs/src/core/boot.js","name":"exports","original":{"line":6,"column":7},"generated":{"line":1,"column":203}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":6,"column":17},"generated":{"line":1,"column":211}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":6,"column":17},"generated":{"line":1,"column":218}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":7,"column":2},"generated":{"line":1,"column":222}},{"source":"node_modules/ipfs/src/core/boot.js","name":"log","original":{"line":7,"column":7},"generated":{"line":1,"column":224}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":7,"column":11},"generated":{"line":1,"column":228}},{"source":"node_modules/ipfs/src/core/boot.js","name":"options","original":{"line":8,"column":8},"generated":{"line":1,"column":239}},{"source":"node_modules/ipfs/src/core/boot.js","name":"options","original":{"line":8,"column":8},"generated":{"line":1,"column":245}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":8,"column":18},"generated":{"line":1,"column":247}},{"source":"node_modules/ipfs/src/core/boot.js","name":"_options","original":{"line":8,"column":23},"generated":{"line":1,"column":249}},{"source":"node_modules/ipfs/src/core/boot.js","name":"doInit","original":{"line":9,"column":8},"generated":{"line":1,"column":258}},{"source":"node_modules/ipfs/src/core/boot.js","name":"options","original":{"line":9,"column":17},"generated":{"line":1,"column":260}},{"source":"node_modules/ipfs/src/core/boot.js","name":"init","original":{"line":9,"column":25},"generated":{"line":1,"column":262}},{"source":"node_modules/ipfs/src/core/boot.js","name":"doStart","original":{"line":10,"column":8},"generated":{"line":1,"column":267}},{"source":"node_modules/ipfs/src/core/boot.js","name":"options","original":{"line":10,"column":18},"generated":{"line":1,"column":269}},{"source":"node_modules/ipfs/src/core/boot.js","name":"start","original":{"line":10,"column":26},"generated":{"line":1,"column":271}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":37,"column":6},"generated":{"line":1,"column":277}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":39,"column":8},"generated":{"line":1,"column":281}},{"source":"node_modules/ipfs/src/core/boot.js","name":"repoOpened","original":{"line":15,"column":17},"generated":{"line":1,"column":290}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":17,"column":8},"generated":{"line":1,"column":307}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":17,"column":9},"generated":{"line":1,"column":311}},{"source":"node_modules/ipfs/src/core/boot.js","name":"_repo","original":{"line":17,"column":14},"generated":{"line":1,"column":313}},{"source":"node_modules/ipfs/src/core/boot.js","name":"closed","original":{"line":17,"column":20},"generated":{"line":1,"column":319}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":18,"column":13},"generated":{"line":1,"column":326}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":18,"column":13},"generated":{"line":1,"column":333}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":21,"column":8},"generated":{"line":1,"column":335}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":22,"column":12},"generated":{"line":1,"column":345}},{"source":"node_modules/ipfs/src/core/boot.js","name":"_repo","original":{"line":22,"column":17},"generated":{"line":1,"column":347}},{"source":"node_modules/ipfs/src/core/boot.js","name":"open","original":{"line":22,"column":23},"generated":{"line":1,"column":353}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":23,"column":6},"generated":{"line":1,"column":360}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":23,"column":13},"generated":{"line":1,"column":366}},{"source":"node_modules/ipfs/src/core/boot.js","name":"isRepoUninitializedError","original":{"line":24,"column":10},"generated":{"line":1,"column":369}},{"source":"node_modules/ipfs/src/core/boot.js","name":"isRepoUninitializedError","original":{"line":24,"column":10},"generated":{"line":1,"column":372}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":24,"column":35},"generated":{"line":1,"column":374}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":25,"column":15},"generated":{"line":1,"column":377}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":25,"column":15},"generated":{"line":1,"column":384}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":28,"column":10},"generated":{"line":1,"column":386}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":28,"column":10},"generated":{"line":1,"column":389}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":29,"column":14},"generated":{"line":1,"column":391}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":29,"column":14},"generated":{"line":1,"column":397}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":33,"column":11},"generated":{"line":1,"column":399}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":33,"column":11},"generated":{"line":1,"column":406}},{"source":"node_modules/ipfs/src/core/boot.js","name":"repoOpened","original":{"line":39,"column":14},"generated":{"line":1,"column":408}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":40,"column":10},"generated":{"line":1,"column":411}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":41,"column":14},"generated":{"line":1,"column":421}},{"source":"node_modules/ipfs/src/core/boot.js","name":"init","original":{"line":41,"column":19},"generated":{"line":1,"column":423}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":41,"column":24},"generated":{"line":1,"column":428}},{"source":"node_modules/ipfs/src/core/boot.js","name":"repo","original":{"line":41,"column":26},"generated":{"line":1,"column":429}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":41,"column":32},"generated":{"line":1,"column":434}},{"source":"node_modules/ipfs/src/core/boot.js","name":"_repo","original":{"line":41,"column":37},"generated":{"line":1,"column":436}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":42,"column":8},"generated":{"line":1,"column":444}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":42,"column":15},"generated":{"line":1,"column":450}},{"source":"node_modules/ipfs/src/core/boot.js","name":"Object","original":{"line":43,"column":14},"generated":{"line":1,"column":453}},{"source":"node_modules/ipfs/src/core/boot.js","name":"Object","original":{"line":43,"column":14},"generated":{"line":1,"column":459}},{"source":"node_modules/ipfs/src/core/boot.js","name":"assign","original":{"line":43,"column":21},"generated":{"line":1,"column":466}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":43,"column":28},"generated":{"line":1,"column":473}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":43,"column":33},"generated":{"line":1,"column":475}},{"source":"node_modules/ipfs/src/core/boot.js","name":"emitted","original":{"line":43,"column":35},"generated":{"line":1,"column":476}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":43,"column":44},"generated":{"line":1,"column":485}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":45,"column":11},"generated":{"line":1,"column":494}},{"source":"node_modules/ipfs/src/core/boot.js","name":"doInit","original":{"line":45,"column":15},"generated":{"line":1,"column":497}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":45,"column":23},"generated":{"line":1,"column":499}},{"source":"node_modules/ipfs/src/core/boot.js","name":"defaultInitOptions","original":{"line":46,"column":12},"generated":{"line":1,"column":500}},{"source":"node_modules/ipfs/src/core/boot.js","name":"defaultInitOptions","original":{"line":46,"column":12},"generated":{"line":1,"column":506}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":46,"column":33},"generated":{"line":1,"column":508}},{"source":"node_modules/ipfs/src/core/boot.js","name":"bits","original":{"line":47,"column":8},"generated":{"line":1,"column":509}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":47,"column":14},"generated":{"line":1,"column":514}},{"source":"node_modules/ipfs/src/core/boot.js","name":"pass","original":{"line":48,"column":8},"generated":{"line":1,"column":519}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":48,"column":14},"generated":{"line":1,"column":524}},{"source":"node_modules/ipfs/src/core/boot.js","name":"_options","original":{"line":48,"column":19},"generated":{"line":1,"column":526}},{"source":"node_modules/ipfs/src/core/boot.js","name":"pass","original":{"line":48,"column":28},"generated":{"line":1,"column":535}},{"source":"node_modules/ipfs/src/core/boot.js","name":"initOptions","original":{"line":51,"column":12},"generated":{"line":1,"column":541}},{"source":"node_modules/ipfs/src/core/boot.js","name":"Object","original":{"line":51,"column":26},"generated":{"line":1,"column":543}},{"source":"node_modules/ipfs/src/core/boot.js","name":"assign","original":{"line":51,"column":33},"generated":{"line":1,"column":550}},{"source":"node_modules/ipfs/src/core/boot.js","name":"defaultInitOptions","original":{"line":51,"column":40},"generated":{"line":1,"column":557}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":51,"column":84},"generated":{"line":1,"column":559}},{"source":"node_modules/ipfs/src/core/boot.js","name":"options","original":{"line":51,"column":67},"generated":{"line":1,"column":576}},{"source":"node_modules/ipfs/src/core/boot.js","name":"init","original":{"line":51,"column":75},"generated":{"line":1,"column":578}},{"source":"node_modules/ipfs/src/core/boot.js","name":"options","original":{"line":51,"column":95},"generated":{"line":1,"column":583}},{"source":"node_modules/ipfs/src/core/boot.js","name":"init","original":{"line":51,"column":103},"generated":{"line":1,"column":585}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":51,"column":110},"generated":{"line":1,"column":590}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":53,"column":12},"generated":{"line":1,"column":600}},{"source":"node_modules/ipfs/src/core/boot.js","name":"init","original":{"line":53,"column":17},"generated":{"line":1,"column":602}},{"source":"node_modules/ipfs/src/core/boot.js","name":"initOptions","original":{"line":53,"column":22},"generated":{"line":1,"column":607}},{"source":"node_modules/ipfs/src/core/boot.js","name":"doStart","original":{"line":56,"column":8},"generated":{"line":1,"column":610}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":57,"column":12},"generated":{"line":1,"column":619}},{"source":"node_modules/ipfs/src/core/boot.js","name":"start","original":{"line":57,"column":17},"generated":{"line":1,"column":621}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":60,"column":4},"generated":{"line":1,"column":629}},{"source":"node_modules/ipfs/src/core/boot.js","name":"log","original":{"line":60,"column":9},"generated":{"line":1,"column":631}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":60,"column":13},"generated":{"line":1,"column":635}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":61,"column":4},"generated":{"line":1,"column":645}},{"source":"node_modules/ipfs/src/core/boot.js","name":"emit","original":{"line":61,"column":9},"generated":{"line":1,"column":647}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":61,"column":14},"generated":{"line":1,"column":652}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":62,"column":4},"generated":{"line":1,"column":661}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":62,"column":11},"generated":{"line":1,"column":667}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":63,"column":9},"generated":{"line":1,"column":670}},{"source":"node_modules/ipfs/src/core/boot.js","name":"emitted","original":{"line":63,"column":13},"generated":{"line":1,"column":672}},{"source":"node_modules/ipfs/src/core/boot.js","name":"self","original":{"line":64,"column":6},"generated":{"line":1,"column":681}},{"source":"node_modules/ipfs/src/core/boot.js","name":"emit","original":{"line":64,"column":11},"generated":{"line":1,"column":683}},{"source":"node_modules/ipfs/src/core/boot.js","original":{"line":64,"column":16},"generated":{"line":1,"column":688}},{"source":"node_modules/ipfs/src/core/boot.js","name":"err","original":{"line":64,"column":25},"generated":{"line":1,"column":696}}],"sources":{"node_modules/ipfs/src/core/boot.js":"'use strict'\n\nconst RepoErrors = require('ipfs-repo').errors\n\n// Boot an IPFS node depending on the options set\nmodule.exports = async (self) => {\n  self.log('booting')\n  const options = self._options\n  const doInit = options.init\n  const doStart = options.start\n\n  // Checks if a repo exists, and if so opens it\n  // Will return callback with a bool indicating the existence\n  // of the repo\n  async function repoOpened () {\n    // nothing to do\n    if (!self._repo.closed) {\n      return true\n    }\n\n    try {\n      await self._repo.open()\n    } catch (err) {\n      if (isRepoUninitializedError(err)) {\n        return false\n      }\n\n      if (err) {\n        throw err\n      }\n    }\n\n    return true\n  }\n\n  // Do the actual boot sequence\n  try {\n    // Init with existing initialized, opened, repo\n    if (await repoOpened()) {\n      try {\n        await self.init({ repo: self._repo })\n      } catch (err) {\n        throw Object.assign(err, { emitted: true })\n      }\n    } else if (doInit) {\n      const defaultInitOptions = {\n        bits: 2048,\n        pass: self._options.pass\n      }\n\n      const initOptions = Object.assign(defaultInitOptions, typeof options.init === 'object' ? options.init : {})\n\n      await self.init(initOptions)\n    }\n\n    if (doStart) {\n      await self.start()\n    }\n\n    self.log('booted')\n    self.emit('ready')\n  } catch (err) {\n    if (!err.emitted) {\n      self.emit('error', err)\n    }\n  }\n}\n\nfunction isRepoUninitializedError (err) {\n  // If the error is that no repo exists,\n  // which happens when the version file is not found\n  // we just want to signal that no repo exist, not\n  // fail the whole process.\n\n  // Use standardized errors as much as possible\n  if (err.code === RepoErrors.ERR_REPO_NOT_INITIALIZED) {\n    return true\n  }\n\n  // TODO: As error codes continue to be standardized, this logic can be phase out;\n  // it is here to maintain compatibility\n  if (err.message.match(/not found/) || // indexeddb\n    err.message.match(/ENOENT/) || // fs\n    err.message.match(/No value/) // memory\n  ) {\n    return true\n  }\n\n  return false\n}\n"},"lineCount":null}},"error":null,"hash":"5a45e1a9cacaf6c047023cc5bafefc6e","cacheData":{"env":{}}}