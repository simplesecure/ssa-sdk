{"id":"Qi0e","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/package.json","includedInParent":true,"mtime":1582579780317},{"name":"./dir-flat","loc":{"line":3,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/dir-flat.js"},{"name":"./flat-to-shard","loc":{"line":4,"column":28},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/flat-to-shard.js"},{"name":"./dir","loc":{"line":5,"column":20},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/dir.js"},{"name":"./utils/to-path-components","loc":{"line":6,"column":33},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/utils/to-path-components.js"},{"name":"err-code","loc":{"line":7,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/err-code/index.js"},{"name":"async-iterator-first","loc":{"line":8,"column":22},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/async-iterator-first/index.js"}],"generated":{"js":"\"use strict\";const t=require(\"./dir-flat\"),r=require(\"./flat-to-shard\"),e=require(\"./dir\"),i=require(\"./utils/to-path-components\"),a=require(\"err-code\"),n=require(\"async-iterator-first\");async function o(a,n,o){const l=i(a.path||\"\"),s=l.length-1;let c=n,d=\"\";for(let i=0;i<l.length;i++){const u=l[i];d+=`${d?\"/\":\"\"}${u}`;const f=i===s;if(c.dirty=!0,c.cid=null,c.size=null,f)await c.put(u,a),n=await r(null,c,o.shardSplitThreshold,o);else{let r=await c.get(u);r&&r instanceof e||(r=new t({dir:!0,parent:c,parentKey:u,path:d,dirty:!0,flat:!0},o)),await c.put(u,r),c=r}}return n}async function*l(r,e,i){let l=new t({root:!0,dir:!0,path:\"\",dirty:!0,flat:!0},i);for await(const t of r)l=await o(t,l,i),yield t;if(l){if(!i.wrapWithDirectory){if(l.childCount()>1)throw a(new Error(\"detected more than one root\"),\"ERR_MORE_THAN_ONE_ROOT\");const t=await n(l.eachChildSeries());if(!t)return;l=t.child}if(!l.dir)return;for await(const t of l.flush(l.path,e))yield t}}module.exports=l;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"DirFlat","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"require","original":{"line":3,"column":16},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":3,"column":24},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"flatToShard","original":{"line":4,"column":6},"generated":{"line":1,"column":43}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"require","original":{"line":4,"column":20},"generated":{"line":1,"column":45}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":4,"column":28},"generated":{"line":1,"column":53}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"Dir","original":{"line":5,"column":6},"generated":{"line":1,"column":72}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"require","original":{"line":5,"column":12},"generated":{"line":1,"column":74}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":5,"column":20},"generated":{"line":1,"column":82}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"toPathComponents","original":{"line":6,"column":6},"generated":{"line":1,"column":91}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"require","original":{"line":6,"column":25},"generated":{"line":1,"column":93}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":6,"column":33},"generated":{"line":1,"column":101}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"errCode","original":{"line":7,"column":6},"generated":{"line":1,"column":131}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"require","original":{"line":7,"column":16},"generated":{"line":1,"column":133}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":7,"column":24},"generated":{"line":1,"column":141}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"first","original":{"line":8,"column":6},"generated":{"line":1,"column":153}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"require","original":{"line":8,"column":14},"generated":{"line":1,"column":155}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":8,"column":22},"generated":{"line":1,"column":163}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":10,"column":0},"generated":{"line":1,"column":187}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"addToTree","original":{"line":10,"column":15},"generated":{"line":1,"column":202}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"elem","original":{"line":10,"column":26},"generated":{"line":1,"column":204}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":10,"column":32},"generated":{"line":1,"column":206}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"options","original":{"line":10,"column":38},"generated":{"line":1,"column":208}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElems","original":{"line":11,"column":8},"generated":{"line":1,"column":211}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElems","original":{"line":11,"column":8},"generated":{"line":1,"column":217}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"toPathComponents","original":{"line":11,"column":20},"generated":{"line":1,"column":219}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"elem","original":{"line":11,"column":37},"generated":{"line":1,"column":221}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"path","original":{"line":11,"column":42},"generated":{"line":1,"column":223}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":11,"column":50},"generated":{"line":1,"column":229}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"lastIndex","original":{"line":12,"column":8},"generated":{"line":1,"column":233}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElems","original":{"line":12,"column":20},"generated":{"line":1,"column":235}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"length","original":{"line":12,"column":30},"generated":{"line":1,"column":237}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":12,"column":39},"generated":{"line":1,"column":244}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":13,"column":6},"generated":{"line":1,"column":246}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":13,"column":6},"generated":{"line":1,"column":250}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":13,"column":15},"generated":{"line":1,"column":252}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"currentPath","original":{"line":14,"column":6},"generated":{"line":1,"column":254}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":14,"column":20},"generated":{"line":1,"column":256}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":16,"column":7},"generated":{"line":1,"column":259}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":16,"column":7},"generated":{"line":1,"column":263}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"i","original":{"line":16,"column":11},"generated":{"line":1,"column":267}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":16,"column":15},"generated":{"line":1,"column":269}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"i","original":{"line":16,"column":18},"generated":{"line":1,"column":271}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElems","original":{"line":16,"column":22},"generated":{"line":1,"column":273}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"length","original":{"line":16,"column":32},"generated":{"line":1,"column":275}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"i","original":{"line":16,"column":40},"generated":{"line":1,"column":282}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":16,"column":45},"generated":{"line":1,"column":286}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElem","original":{"line":17,"column":10},"generated":{"line":1,"column":287}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElem","original":{"line":17,"column":10},"generated":{"line":1,"column":293}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElems","original":{"line":17,"column":21},"generated":{"line":1,"column":295}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"i","original":{"line":17,"column":31},"generated":{"line":1,"column":297}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"currentPath","original":{"line":19,"column":4},"generated":{"line":1,"column":300}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"currentPath","original":{"line":19,"column":22},"generated":{"line":1,"column":306}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":19,"column":36},"generated":{"line":1,"column":308}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":19,"column":42},"generated":{"line":1,"column":312}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElem","original":{"line":19,"column":47},"generated":{"line":1,"column":317}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"last","original":{"line":21,"column":10},"generated":{"line":1,"column":321}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"last","original":{"line":21,"column":10},"generated":{"line":1,"column":327}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"i","original":{"line":21,"column":18},"generated":{"line":1,"column":329}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"lastIndex","original":{"line":21,"column":24},"generated":{"line":1,"column":333}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"last","original":{"line":26,"column":8},"generated":{"line":1,"column":335}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":22,"column":4},"generated":{"line":1,"column":338}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dirty","original":{"line":22,"column":11},"generated":{"line":1,"column":340}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":22,"column":19},"generated":{"line":1,"column":347}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":23,"column":4},"generated":{"line":1,"column":349}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"cid","original":{"line":23,"column":11},"generated":{"line":1,"column":351}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":23,"column":17},"generated":{"line":1,"column":355}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":24,"column":4},"generated":{"line":1,"column":360}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"size","original":{"line":24,"column":11},"generated":{"line":1,"column":362}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":24,"column":18},"generated":{"line":1,"column":367}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"last","original":{"line":26,"column":8},"generated":{"line":1,"column":372}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":27,"column":12},"generated":{"line":1,"column":380}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"put","original":{"line":27,"column":19},"generated":{"line":1,"column":382}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElem","original":{"line":27,"column":23},"generated":{"line":1,"column":386}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"elem","original":{"line":27,"column":33},"generated":{"line":1,"column":388}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":28,"column":6},"generated":{"line":1,"column":391}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"flatToShard","original":{"line":28,"column":19},"generated":{"line":1,"column":399}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":28,"column":31},"generated":{"line":1,"column":401}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":28,"column":37},"generated":{"line":1,"column":406}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"options","original":{"line":28,"column":45},"generated":{"line":1,"column":408}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"shardSplitThreshold","original":{"line":28,"column":53},"generated":{"line":1,"column":410}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"options","original":{"line":28,"column":74},"generated":{"line":1,"column":430}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":29,"column":11},"generated":{"line":1,"column":437}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dir","original":{"line":30,"column":10},"generated":{"line":1,"column":438}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dir","original":{"line":30,"column":10},"generated":{"line":1,"column":442}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":30,"column":22},"generated":{"line":1,"column":450}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"get","original":{"line":30,"column":29},"generated":{"line":1,"column":452}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElem","original":{"line":30,"column":33},"generated":{"line":1,"column":456}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dir","original":{"line":32,"column":11},"generated":{"line":1,"column":459}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dir","original":{"line":32,"column":20},"generated":{"line":1,"column":462}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"Dir","original":{"line":32,"column":35},"generated":{"line":1,"column":475}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dir","original":{"line":33,"column":8},"generated":{"line":1,"column":479}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":33,"column":14},"generated":{"line":1,"column":481}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"DirFlat","original":{"line":33,"column":18},"generated":{"line":1,"column":485}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":33,"column":26},"generated":{"line":1,"column":487}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dir","original":{"line":34,"column":10},"generated":{"line":1,"column":488}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":34,"column":15},"generated":{"line":1,"column":493}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":35,"column":10},"generated":{"line":1,"column":495}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":35,"column":18},"generated":{"line":1,"column":502}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parentKey","original":{"line":36,"column":10},"generated":{"line":1,"column":504}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElem","original":{"line":36,"column":21},"generated":{"line":1,"column":514}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"path","original":{"line":37,"column":10},"generated":{"line":1,"column":516}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"currentPath","original":{"line":37,"column":16},"generated":{"line":1,"column":521}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dirty","original":{"line":38,"column":10},"generated":{"line":1,"column":523}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":38,"column":17},"generated":{"line":1,"column":530}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"flat","original":{"line":39,"column":10},"generated":{"line":1,"column":532}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":39,"column":16},"generated":{"line":1,"column":538}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"options","original":{"line":40,"column":11},"generated":{"line":1,"column":541}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":43,"column":12},"generated":{"line":1,"column":551}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"put","original":{"line":43,"column":19},"generated":{"line":1,"column":553}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"pathElem","original":{"line":43,"column":23},"generated":{"line":1,"column":557}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dir","original":{"line":43,"column":33},"generated":{"line":1,"column":559}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"parent","original":{"line":45,"column":6},"generated":{"line":1,"column":562}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dir","original":{"line":45,"column":15},"generated":{"line":1,"column":564}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":49,"column":9},"generated":{"line":1,"column":567}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":49,"column":9},"generated":{"line":1,"column":574}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":52,"column":0},"generated":{"line":1,"column":576}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"treeBuilder","original":{"line":52,"column":17},"generated":{"line":1,"column":591}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"source","original":{"line":52,"column":30},"generated":{"line":1,"column":593}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"ipld","original":{"line":52,"column":38},"generated":{"line":1,"column":595}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"options","original":{"line":52,"column":44},"generated":{"line":1,"column":597}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":53,"column":6},"generated":{"line":1,"column":600}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":53,"column":6},"generated":{"line":1,"column":604}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":53,"column":13},"generated":{"line":1,"column":606}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"DirFlat","original":{"line":53,"column":17},"generated":{"line":1,"column":610}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":53,"column":25},"generated":{"line":1,"column":612}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"root","original":{"line":54,"column":4},"generated":{"line":1,"column":613}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":54,"column":10},"generated":{"line":1,"column":619}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dir","original":{"line":55,"column":4},"generated":{"line":1,"column":621}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":55,"column":9},"generated":{"line":1,"column":626}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"path","original":{"line":56,"column":4},"generated":{"line":1,"column":628}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":56,"column":10},"generated":{"line":1,"column":633}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dirty","original":{"line":57,"column":4},"generated":{"line":1,"column":636}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":57,"column":11},"generated":{"line":1,"column":643}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"flat","original":{"line":58,"column":4},"generated":{"line":1,"column":645}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":58,"column":10},"generated":{"line":1,"column":651}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"options","original":{"line":59,"column":5},"generated":{"line":1,"column":654}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":61,"column":13},"generated":{"line":1,"column":657}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":61,"column":13},"generated":{"line":1,"column":667}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"entry","original":{"line":61,"column":19},"generated":{"line":1,"column":673}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"source","original":{"line":61,"column":28},"generated":{"line":1,"column":678}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":62,"column":4},"generated":{"line":1,"column":680}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"addToTree","original":{"line":62,"column":17},"generated":{"line":1,"column":688}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"entry","original":{"line":62,"column":27},"generated":{"line":1,"column":690}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":62,"column":34},"generated":{"line":1,"column":692}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"options","original":{"line":62,"column":40},"generated":{"line":1,"column":694}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"entry","original":{"line":64,"column":10},"generated":{"line":1,"column":703}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":67,"column":6},"generated":{"line":1,"column":705}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":67,"column":6},"generated":{"line":1,"column":708}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":67,"column":12},"generated":{"line":1,"column":710}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":68,"column":8},"generated":{"line":1,"column":711}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"options","original":{"line":68,"column":9},"generated":{"line":1,"column":715}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"wrapWithDirectory","original":{"line":68,"column":17},"generated":{"line":1,"column":717}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":68,"column":36},"generated":{"line":1,"column":735}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":69,"column":10},"generated":{"line":1,"column":736}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":69,"column":10},"generated":{"line":1,"column":739}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"childCount","original":{"line":69,"column":15},"generated":{"line":1,"column":741}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":69,"column":30},"generated":{"line":1,"column":754}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"errCode","original":{"line":70,"column":14},"generated":{"line":1,"column":756}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"errCode","original":{"line":70,"column":14},"generated":{"line":1,"column":762}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":70,"column":22},"generated":{"line":1,"column":764}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"Error","original":{"line":70,"column":26},"generated":{"line":1,"column":768}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":70,"column":32},"generated":{"line":1,"column":774}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":70,"column":64},"generated":{"line":1,"column":805}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"unwrapped","original":{"line":73,"column":12},"generated":{"line":1,"column":831}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"unwrapped","original":{"line":73,"column":12},"generated":{"line":1,"column":837}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"first","original":{"line":73,"column":30},"generated":{"line":1,"column":845}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":73,"column":36},"generated":{"line":1,"column":847}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"eachChildSeries","original":{"line":73,"column":41},"generated":{"line":1,"column":849}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":75,"column":10},"generated":{"line":1,"column":868}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"unwrapped","original":{"line":75,"column":11},"generated":{"line":1,"column":872}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":76,"column":8},"generated":{"line":1,"column":874}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":79,"column":6},"generated":{"line":1,"column":881}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"unwrapped","original":{"line":79,"column":13},"generated":{"line":1,"column":883}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"child","original":{"line":79,"column":23},"generated":{"line":1,"column":885}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":82,"column":8},"generated":{"line":1,"column":891}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":82,"column":9},"generated":{"line":1,"column":895}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"dir","original":{"line":82,"column":14},"generated":{"line":1,"column":897}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":83,"column":6},"generated":{"line":1,"column":901}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":86,"column":15},"generated":{"line":1,"column":908}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","original":{"line":86,"column":15},"generated":{"line":1,"column":918}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"entry","original":{"line":86,"column":21},"generated":{"line":1,"column":924}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":86,"column":30},"generated":{"line":1,"column":929}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"flush","original":{"line":86,"column":35},"generated":{"line":1,"column":931}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"tree","original":{"line":86,"column":41},"generated":{"line":1,"column":937}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"path","original":{"line":86,"column":46},"generated":{"line":1,"column":939}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"ipld","original":{"line":86,"column":52},"generated":{"line":1,"column":944}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"entry","original":{"line":87,"column":12},"generated":{"line":1,"column":953}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"module","original":{"line":92,"column":0},"generated":{"line":1,"column":956}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"exports","original":{"line":92,"column":7},"generated":{"line":1,"column":963}},{"source":"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js","name":"treeBuilder","original":{"line":92,"column":17},"generated":{"line":1,"column":971}}],"sources":{"node_modules/ipfs/node_modules/ipfs-unixfs-importer/src/tree-builder.js":"'use strict'\n\nconst DirFlat = require('./dir-flat')\nconst flatToShard = require('./flat-to-shard')\nconst Dir = require('./dir')\nconst toPathComponents = require('./utils/to-path-components')\nconst errCode = require('err-code')\nconst first = require('async-iterator-first')\n\nasync function addToTree (elem, tree, options) {\n  const pathElems = toPathComponents(elem.path || '')\n  const lastIndex = pathElems.length - 1\n  let parent = tree\n  let currentPath = ''\n\n  for (let i = 0; i < pathElems.length; i++) {\n    const pathElem = pathElems[i]\n\n    currentPath += `${currentPath ? '/' : ''}${pathElem}`\n\n    const last = (i === lastIndex)\n    parent.dirty = true\n    parent.cid = null\n    parent.size = null\n\n    if (last) {\n      await parent.put(pathElem, elem)\n      tree = await flatToShard(null, parent, options.shardSplitThreshold, options)\n    } else {\n      let dir = await parent.get(pathElem)\n\n      if (!dir || !(dir instanceof Dir)) {\n        dir = new DirFlat({\n          dir: true,\n          parent: parent,\n          parentKey: pathElem,\n          path: currentPath,\n          dirty: true,\n          flat: true\n        }, options)\n      }\n\n      await parent.put(pathElem, dir)\n\n      parent = dir\n    }\n  }\n\n  return tree\n}\n\nasync function * treeBuilder (source, ipld, options) {\n  let tree = new DirFlat({\n    root: true,\n    dir: true,\n    path: '',\n    dirty: true,\n    flat: true\n  }, options)\n\n  for await (const entry of source) {\n    tree = await addToTree(entry, tree, options)\n\n    yield entry\n  }\n\n  if (tree) {\n    if (!options.wrapWithDirectory) {\n      if (tree.childCount() > 1) {\n        throw errCode(new Error('detected more than one root'), 'ERR_MORE_THAN_ONE_ROOT')\n      }\n\n      const unwrapped = await first(tree.eachChildSeries())\n\n      if (!unwrapped) {\n        return\n      }\n\n      tree = unwrapped.child\n    }\n\n    if (!tree.dir) {\n      return\n    }\n\n    for await (const entry of tree.flush(tree.path, ipld)) {\n      yield entry\n    }\n  }\n}\n\nmodule.exports = treeBuilder\n"},"lineCount":null}},"error":null,"hash":"177868aaec4c1a101055833b2057133e","cacheData":{"env":{}}}