{"id":"eerK","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/package.json","includedInParent":true,"mtime":1582579778668},{"name":"ipfs-bitswap","loc":{"line":3,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/start.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-bitswap/src/index.js"},{"name":"callbackify","loc":{"line":4,"column":28},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/start.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/callbackify/index.js"},{"name":"../ipns","loc":{"line":6,"column":21},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/start.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/ipns/index.js"},{"name":"../ipns/routing/config","loc":{"line":7,"column":30},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/start.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/ipns/routing/config.js"},{"name":"./libp2p","loc":{"line":8,"column":35},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/start.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/libp2p.js"}],"generated":{"js":"\"use strict\";const t=require(\"ipfs-bitswap\"),e=require(\"callbackify\"),a=require(\"../ipns\"),s=require(\"../ipns/routing/config\"),r=require(\"./libp2p\");module.exports=(i=>e(async()=>{if(\"stopped\"!==i.state.state())throw new Error(`Not able to start from state: ${i.state.state()}`);i.log(\"starting\"),i.state.start(),i._repo.closed&&await i._repo.open();const e=await i._repo.config.get(),o=r(i,e);await o.start(),i.libp2p=o;const p=s(i);i._ipns=new a(p,i._repo.datastore,i._peerInfo,i._keychain,i._options),i._bitswap=new t(i.libp2p,i._repo.blocks,{statsEnabled:!0}),await i._bitswap.start(),i._blockService.setExchange(i._bitswap),await i._preload.start(),await i._ipns.republisher.start(),await i._mfsPreload.start(),i.state.started(),i.emit(\"start\")}));"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"Bitswap","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"require","original":{"line":3,"column":16},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":3,"column":24},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"callbackify","original":{"line":4,"column":6},"generated":{"line":1,"column":45}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"require","original":{"line":4,"column":20},"generated":{"line":1,"column":47}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":4,"column":28},"generated":{"line":1,"column":55}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"IPNS","original":{"line":6,"column":6},"generated":{"line":1,"column":70}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"require","original":{"line":6,"column":13},"generated":{"line":1,"column":72}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":6,"column":21},"generated":{"line":1,"column":80}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"routingConfig","original":{"line":7,"column":6},"generated":{"line":1,"column":91}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"require","original":{"line":7,"column":22},"generated":{"line":1,"column":93}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":7,"column":30},"generated":{"line":1,"column":101}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"createLibp2pBundle","original":{"line":8,"column":6},"generated":{"line":1,"column":127}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"require","original":{"line":8,"column":27},"generated":{"line":1,"column":129}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":8,"column":35},"generated":{"line":1,"column":137}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"module","original":{"line":10,"column":0},"generated":{"line":1,"column":149}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"exports","original":{"line":10,"column":7},"generated":{"line":1,"column":156}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":10,"column":18},"generated":{"line":1,"column":164}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":10,"column":18},"generated":{"line":1,"column":165}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"callbackify","original":{"line":11,"column":9},"generated":{"line":1,"column":168}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":11,"column":21},"generated":{"line":1,"column":170}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":12,"column":8},"generated":{"line":1,"column":180}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":12,"column":31},"generated":{"line":1,"column":183}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":12,"column":8},"generated":{"line":1,"column":195}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"state","original":{"line":12,"column":13},"generated":{"line":1,"column":197}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"state","original":{"line":12,"column":19},"generated":{"line":1,"column":203}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":13,"column":12},"generated":{"line":1,"column":211}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":13,"column":12},"generated":{"line":1,"column":217}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"Error","original":{"line":13,"column":16},"generated":{"line":1,"column":221}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":13,"column":55},"generated":{"line":1,"column":260}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"state","original":{"line":13,"column":60},"generated":{"line":1,"column":262}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"state","original":{"line":13,"column":66},"generated":{"line":1,"column":268}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":16,"column":4},"generated":{"line":1,"column":279}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"log","original":{"line":16,"column":9},"generated":{"line":1,"column":281}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":16,"column":13},"generated":{"line":1,"column":285}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":17,"column":4},"generated":{"line":1,"column":297}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"state","original":{"line":17,"column":9},"generated":{"line":1,"column":299}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"start","original":{"line":17,"column":15},"generated":{"line":1,"column":305}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":20,"column":8},"generated":{"line":1,"column":313}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_repo","original":{"line":20,"column":13},"generated":{"line":1,"column":315}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"closed","original":{"line":20,"column":19},"generated":{"line":1,"column":321}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":21,"column":12},"generated":{"line":1,"column":335}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_repo","original":{"line":21,"column":17},"generated":{"line":1,"column":337}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"open","original":{"line":21,"column":23},"generated":{"line":1,"column":343}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"config","original":{"line":24,"column":10},"generated":{"line":1,"column":350}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"config","original":{"line":24,"column":10},"generated":{"line":1,"column":356}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":24,"column":25},"generated":{"line":1,"column":364}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_repo","original":{"line":24,"column":30},"generated":{"line":1,"column":366}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"config","original":{"line":24,"column":36},"generated":{"line":1,"column":372}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"get","original":{"line":24,"column":43},"generated":{"line":1,"column":379}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"libp2p","original":{"line":25,"column":10},"generated":{"line":1,"column":385}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"createLibp2pBundle","original":{"line":25,"column":19},"generated":{"line":1,"column":387}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":25,"column":38},"generated":{"line":1,"column":389}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"config","original":{"line":25,"column":44},"generated":{"line":1,"column":391}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"libp2p","original":{"line":27,"column":10},"generated":{"line":1,"column":400}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"start","original":{"line":27,"column":17},"generated":{"line":1,"column":402}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":28,"column":4},"generated":{"line":1,"column":410}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"libp2p","original":{"line":28,"column":9},"generated":{"line":1,"column":412}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"libp2p","original":{"line":28,"column":18},"generated":{"line":1,"column":419}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"ipnsRouting","original":{"line":30,"column":10},"generated":{"line":1,"column":421}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"ipnsRouting","original":{"line":30,"column":10},"generated":{"line":1,"column":427}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"routingConfig","original":{"line":30,"column":24},"generated":{"line":1,"column":429}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":30,"column":38},"generated":{"line":1,"column":431}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":31,"column":4},"generated":{"line":1,"column":434}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_ipns","original":{"line":31,"column":9},"generated":{"line":1,"column":436}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":31,"column":17},"generated":{"line":1,"column":442}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"IPNS","original":{"line":31,"column":21},"generated":{"line":1,"column":446}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"ipnsRouting","original":{"line":31,"column":26},"generated":{"line":1,"column":448}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":31,"column":39},"generated":{"line":1,"column":450}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_repo","original":{"line":31,"column":44},"generated":{"line":1,"column":452}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"datastore","original":{"line":31,"column":50},"generated":{"line":1,"column":458}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":31,"column":61},"generated":{"line":1,"column":468}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_peerInfo","original":{"line":31,"column":66},"generated":{"line":1,"column":470}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":31,"column":77},"generated":{"line":1,"column":480}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_keychain","original":{"line":31,"column":82},"generated":{"line":1,"column":482}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":31,"column":93},"generated":{"line":1,"column":492}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_options","original":{"line":31,"column":98},"generated":{"line":1,"column":494}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":33,"column":4},"generated":{"line":1,"column":504}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_bitswap","original":{"line":33,"column":9},"generated":{"line":1,"column":506}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":33,"column":20},"generated":{"line":1,"column":515}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"Bitswap","original":{"line":33,"column":24},"generated":{"line":1,"column":519}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":34,"column":6},"generated":{"line":1,"column":521}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"libp2p","original":{"line":34,"column":11},"generated":{"line":1,"column":523}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":35,"column":6},"generated":{"line":1,"column":530}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_repo","original":{"line":35,"column":11},"generated":{"line":1,"column":532}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"blocks","original":{"line":35,"column":17},"generated":{"line":1,"column":538}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":35,"column":25},"generated":{"line":1,"column":545}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"statsEnabled","original":{"line":36,"column":8},"generated":{"line":1,"column":546}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":36,"column":22},"generated":{"line":1,"column":560}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":40,"column":10},"generated":{"line":1,"column":570}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_bitswap","original":{"line":40,"column":15},"generated":{"line":1,"column":572}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"start","original":{"line":40,"column":24},"generated":{"line":1,"column":581}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":42,"column":4},"generated":{"line":1,"column":589}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_blockService","original":{"line":42,"column":9},"generated":{"line":1,"column":591}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"setExchange","original":{"line":42,"column":23},"generated":{"line":1,"column":605}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":42,"column":35},"generated":{"line":1,"column":617}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_bitswap","original":{"line":42,"column":40},"generated":{"line":1,"column":619}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":44,"column":10},"generated":{"line":1,"column":635}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_preload","original":{"line":44,"column":15},"generated":{"line":1,"column":637}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"start","original":{"line":44,"column":24},"generated":{"line":1,"column":646}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":45,"column":10},"generated":{"line":1,"column":660}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_ipns","original":{"line":45,"column":15},"generated":{"line":1,"column":662}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"republisher","original":{"line":45,"column":21},"generated":{"line":1,"column":668}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"start","original":{"line":45,"column":33},"generated":{"line":1,"column":680}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":46,"column":10},"generated":{"line":1,"column":694}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"_mfsPreload","original":{"line":46,"column":15},"generated":{"line":1,"column":696}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"start","original":{"line":46,"column":27},"generated":{"line":1,"column":708}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":48,"column":4},"generated":{"line":1,"column":716}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"state","original":{"line":48,"column":9},"generated":{"line":1,"column":718}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"started","original":{"line":48,"column":15},"generated":{"line":1,"column":724}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"self","original":{"line":49,"column":4},"generated":{"line":1,"column":734}},{"source":"node_modules/ipfs/src/core/components/start.js","name":"emit","original":{"line":49,"column":9},"generated":{"line":1,"column":736}},{"source":"node_modules/ipfs/src/core/components/start.js","original":{"line":49,"column":14},"generated":{"line":1,"column":741}}],"sources":{"node_modules/ipfs/src/core/components/start.js":"'use strict'\n\nconst Bitswap = require('ipfs-bitswap')\nconst callbackify = require('callbackify')\n\nconst IPNS = require('../ipns')\nconst routingConfig = require('../ipns/routing/config')\nconst createLibp2pBundle = require('./libp2p')\n\nmodule.exports = (self) => {\n  return callbackify(async () => {\n    if (self.state.state() !== 'stopped') {\n      throw new Error(`Not able to start from state: ${self.state.state()}`)\n    }\n\n    self.log('starting')\n    self.state.start()\n\n    // The repo may be closed if previously stopped\n    if (self._repo.closed) {\n      await self._repo.open()\n    }\n\n    const config = await self._repo.config.get()\n    const libp2p = createLibp2pBundle(self, config)\n\n    await libp2p.start()\n    self.libp2p = libp2p\n\n    const ipnsRouting = routingConfig(self)\n    self._ipns = new IPNS(ipnsRouting, self._repo.datastore, self._peerInfo, self._keychain, self._options)\n\n    self._bitswap = new Bitswap(\n      self.libp2p,\n      self._repo.blocks, {\n        statsEnabled: true\n      }\n    )\n\n    await self._bitswap.start()\n\n    self._blockService.setExchange(self._bitswap)\n\n    await self._preload.start()\n    await self._ipns.republisher.start()\n    await self._mfsPreload.start()\n\n    self.state.started()\n    self.emit('start')\n  })\n}\n"},"lineCount":null}},"error":null,"hash":"8c1d744e6cca91f6a6bbbceab16f4fd3","cacheData":{"env":{}}}