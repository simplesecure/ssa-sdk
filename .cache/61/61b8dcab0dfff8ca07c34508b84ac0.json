{"id":"Ln8a","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo-migrations/package.json","includedInParent":true,"mtime":1582579779537},{"name":"datastore-fs","loc":{"line":3,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo-migrations/node_modules/datastore-level/src/index.js"},{"name":"debug","loc":{"line":4,"column":20},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/debug/src/browser.js"},{"name":"interface-datastore","loc":{"line":6,"column":20},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/interface-datastore/src/index.js"}],"generated":{"js":"\"use strict\";const e=require(\"datastore-fs\"),i=require(\"debug\")(\"repo-migrations:repo:init\"),r=require(\"interface-datastore\").Key,t=new r(\"/version\"),n=new r(\"/config\");exports.isRepoInitialized=async function(r){let s;try{s=new e(r,{extension:\"\",createIfMissing:!1});const o=await s.has(t),c=await s.has(n);return!(!o||!c)||(i(`Version entry present: ${o}`),i(`Config entry present: ${c}`),!1)}catch(a){return i(\"While checking if repo is initialized error was thrown: \"+a.message),!1}finally{void 0!==s&&await s.close()}};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"Datastore","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"require","original":{"line":3,"column":18},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":3,"column":26},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"log","original":{"line":4,"column":6},"generated":{"line":1,"column":45}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"require","original":{"line":4,"column":12},"generated":{"line":1,"column":47}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":4,"column":20},"generated":{"line":1,"column":55}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"require","original":{"line":4,"column":12},"generated":{"line":1,"column":63}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":4,"column":29},"generated":{"line":1,"column":64}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"Key","original":{"line":6,"column":6},"generated":{"line":1,"column":93}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"require","original":{"line":6,"column":12},"generated":{"line":1,"column":95}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":6,"column":20},"generated":{"line":1,"column":103}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"Key","original":{"line":6,"column":43},"generated":{"line":1,"column":126}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"versionKey","original":{"line":8,"column":6},"generated":{"line":1,"column":130}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":8,"column":19},"generated":{"line":1,"column":132}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"Key","original":{"line":8,"column":23},"generated":{"line":1,"column":136}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":8,"column":27},"generated":{"line":1,"column":138}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"configKey","original":{"line":9,"column":6},"generated":{"line":1,"column":150}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":9,"column":18},"generated":{"line":1,"column":152}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"Key","original":{"line":9,"column":22},"generated":{"line":1,"column":156}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":9,"column":26},"generated":{"line":1,"column":158}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"exports","original":{"line":11,"column":0},"generated":{"line":1,"column":169}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"isRepoInitialized","original":{"line":11,"column":8},"generated":{"line":1,"column":177}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":11,"column":28},"generated":{"line":1,"column":195}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"path","original":{"line":11,"column":62},"generated":{"line":1,"column":210}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"root","original":{"line":12,"column":6},"generated":{"line":1,"column":213}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"root","original":{"line":12,"column":6},"generated":{"line":1,"column":217}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":13,"column":6},"generated":{"line":1,"column":219}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"root","original":{"line":14,"column":4},"generated":{"line":1,"column":223}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":14,"column":11},"generated":{"line":1,"column":225}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"Datastore","original":{"line":14,"column":15},"generated":{"line":1,"column":229}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"path","original":{"line":14,"column":25},"generated":{"line":1,"column":231}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":14,"column":31},"generated":{"line":1,"column":233}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"extension","original":{"line":14,"column":33},"generated":{"line":1,"column":234}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":14,"column":44},"generated":{"line":1,"column":244}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"createIfMissing","original":{"line":14,"column":48},"generated":{"line":1,"column":247}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":14,"column":65},"generated":{"line":1,"column":264}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"versionCheck","original":{"line":16,"column":10},"generated":{"line":1,"column":268}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"versionCheck","original":{"line":16,"column":10},"generated":{"line":1,"column":274}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"root","original":{"line":16,"column":31},"generated":{"line":1,"column":282}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"has","original":{"line":16,"column":36},"generated":{"line":1,"column":284}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"versionKey","original":{"line":16,"column":40},"generated":{"line":1,"column":288}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"configCheck","original":{"line":17,"column":10},"generated":{"line":1,"column":291}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"root","original":{"line":17,"column":30},"generated":{"line":1,"column":299}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"has","original":{"line":17,"column":35},"generated":{"line":1,"column":301}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"configKey","original":{"line":17,"column":39},"generated":{"line":1,"column":305}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":18,"column":8},"generated":{"line":1,"column":308}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"versionCheck","original":{"line":18,"column":9},"generated":{"line":1,"column":317}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"configCheck","original":{"line":18,"column":26},"generated":{"line":1,"column":321}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"log","original":{"line":19,"column":6},"generated":{"line":1,"column":326}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"versionCheck","original":{"line":19,"column":36},"generated":{"line":1,"column":354}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"log","original":{"line":20,"column":6},"generated":{"line":1,"column":359}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"configCheck","original":{"line":20,"column":35},"generated":{"line":1,"column":386}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":21,"column":13},"generated":{"line":1,"column":392}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":25,"column":4},"generated":{"line":1,"column":395}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"e","original":{"line":25,"column":11},"generated":{"line":1,"column":401}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":27,"column":11},"generated":{"line":1,"column":404}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"log","original":{"line":26,"column":4},"generated":{"line":1,"column":411}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":26,"column":8},"generated":{"line":1,"column":413}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"e","original":{"line":26,"column":69},"generated":{"line":1,"column":472}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"message","original":{"line":26,"column":71},"generated":{"line":1,"column":474}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":27,"column":11},"generated":{"line":1,"column":484}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","original":{"line":28,"column":12},"generated":{"line":1,"column":486}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"undefined","original":{"line":29,"column":17},"generated":{"line":1,"column":499}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"root","original":{"line":29,"column":8},"generated":{"line":1,"column":503}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"root","original":{"line":29,"column":34},"generated":{"line":1,"column":512}},{"source":"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js","name":"close","original":{"line":29,"column":39},"generated":{"line":1,"column":514}}],"sources":{"node_modules/ipfs/node_modules/ipfs-repo-migrations/src/repo/init.js":"'use strict'\n\nconst Datastore = require('datastore-fs')\nconst log = require('debug')('repo-migrations:repo:init')\n\nconst Key = require('interface-datastore').Key\n\nconst versionKey = new Key('/version')\nconst configKey = new Key('/config')\n\nexports.isRepoInitialized = async function isRepoInitialized (path) {\n  let root\n  try {\n    root = new Datastore(path, { extension: '', createIfMissing: false })\n\n    const versionCheck = await root.has(versionKey)\n    const configCheck = await root.has(configKey)\n    if (!versionCheck || !configCheck) {\n      log(`Version entry present: ${versionCheck}`)\n      log(`Config entry present: ${configCheck}`)\n      return false\n    }\n\n    return true\n  } catch (e) {\n    log('While checking if repo is initialized error was thrown: ' + e.message)\n    return false\n  } finally {\n    if (root !== undefined) await root.close()\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"6d6467baa346658b48b18e0520ce3ebc","cacheData":{"env":{}}}