{"id":"UwOR","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-secio/package.json","includedInParent":true,"mtime":1582579780394},{"name":"pull-stream/pull","loc":{"line":3,"column":21},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/pull-stream/pull.js"},{"name":"pull-stream/throughs/map","loc":{"line":4,"column":20},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/pull-stream/throughs/map.js"},{"name":"pull-stream/throughs/async-map","loc":{"line":5,"column":25},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/pull-stream/throughs/async-map.js"},{"name":"pull-length-prefixed","loc":{"line":6,"column":19},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/pull-length-prefixed/src/index.js"},{"name":"buffer","parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;const r=require(\"pull-stream/pull\"),t=require(\"pull-stream/throughs/map\"),n=require(\"pull-stream/throughs/async-map\"),u=require(\"pull-length-prefixed\"),i={fixed:!0,bytes:4};function l(){return t(r=>\"string\"==typeof r?e.from(r,\"utf-8\"):r)}exports.createBoxStream=((t,o)=>r(l(),n((r,n)=>{t.encrypt(r,(r,t)=>{if(r)return n(r);o.digest(t,(r,u)=>{if(r)return n(r);n(null,e.concat([t,u]))})})}),u.encode(i))),exports.createUnboxStream=((e,t)=>r(l(),u.decode(i),n((r,n)=>{const u=r.length,i=t.length;if(u<i)return n(new Error(`buffer (${u}) shorter than MAC size (${i})`));const l=u-i,o=r.slice(0,l),s=r.slice(l);t.digest(o,(r,t)=>r?n(r):s.equals(t)?void e.decrypt(o,(e,r)=>{if(e)return n(e);n(null,r)}):n(new Error(`MAC Invalid: ${s.toString(\"hex\")} != ${t.toString(\"hex\")}`)))})));"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":81,"column":1},"generated":{"line":2,"column":0}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":81,"column":1},"generated":{"line":2,"column":4}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":81,"column":1},"generated":{"line":2,"column":6}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":81,"column":1},"generated":{"line":2,"column":14}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":81,"column":1},"generated":{"line":2,"column":24}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":3,"column":0},"generated":{"line":2,"column":31}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"pull","original":{"line":3,"column":6},"generated":{"line":2,"column":37}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"require","original":{"line":3,"column":13},"generated":{"line":2,"column":39}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":3,"column":21},"generated":{"line":2,"column":47}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"map","original":{"line":4,"column":6},"generated":{"line":2,"column":67}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"require","original":{"line":4,"column":12},"generated":{"line":2,"column":69}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":4,"column":20},"generated":{"line":2,"column":77}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"asyncMap","original":{"line":5,"column":6},"generated":{"line":2,"column":105}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"require","original":{"line":5,"column":17},"generated":{"line":2,"column":107}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":5,"column":25},"generated":{"line":2,"column":115}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"lp","original":{"line":6,"column":6},"generated":{"line":2,"column":149}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"require","original":{"line":6,"column":11},"generated":{"line":2,"column":151}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":6,"column":19},"generated":{"line":2,"column":159}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"lpOpts","original":{"line":8,"column":6},"generated":{"line":2,"column":183}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":8,"column":15},"generated":{"line":2,"column":185}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"fixed","original":{"line":9,"column":2},"generated":{"line":2,"column":186}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":9,"column":9},"generated":{"line":2,"column":193}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"bytes","original":{"line":10,"column":2},"generated":{"line":2,"column":195}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":10,"column":9},"generated":{"line":2,"column":201}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":73,"column":0},"generated":{"line":2,"column":204}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"ensureBuffer","original":{"line":73,"column":9},"generated":{"line":2,"column":213}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"map","original":{"line":74,"column":9},"generated":{"line":2,"column":217}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"map","original":{"line":74,"column":9},"generated":{"line":2,"column":224}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"c","original":{"line":74,"column":14},"generated":{"line":2,"column":226}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":75,"column":21},"generated":{"line":2,"column":229}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"c","original":{"line":75,"column":15},"generated":{"line":2,"column":246}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"Buffer","original":{"line":76,"column":13},"generated":{"line":2,"column":248}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"from","original":{"line":76,"column":20},"generated":{"line":2,"column":250}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"c","original":{"line":76,"column":25},"generated":{"line":2,"column":255}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":76,"column":28},"generated":{"line":2,"column":257}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"c","original":{"line":79,"column":11},"generated":{"line":2,"column":266}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"exports","original":{"line":13,"column":0},"generated":{"line":2,"column":269}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"createBoxStream","original":{"line":13,"column":8},"generated":{"line":2,"column":277}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":13,"column":26},"generated":{"line":2,"column":293}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cipher","original":{"line":13,"column":27},"generated":{"line":2,"column":295}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"mac","original":{"line":13,"column":35},"generated":{"line":2,"column":297}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"pull","original":{"line":14,"column":9},"generated":{"line":2,"column":301}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"ensureBuffer","original":{"line":15,"column":4},"generated":{"line":2,"column":303}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"asyncMap","original":{"line":16,"column":4},"generated":{"line":2,"column":307}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":16,"column":13},"generated":{"line":2,"column":309}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"chunk","original":{"line":16,"column":14},"generated":{"line":2,"column":310}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":16,"column":21},"generated":{"line":2,"column":312}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cipher","original":{"line":17,"column":6},"generated":{"line":2,"column":317}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"encrypt","original":{"line":17,"column":13},"generated":{"line":2,"column":319}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"chunk","original":{"line":17,"column":21},"generated":{"line":2,"column":327}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":17,"column":28},"generated":{"line":2,"column":329}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":17,"column":29},"generated":{"line":2,"column":330}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"data","original":{"line":17,"column":34},"generated":{"line":2,"column":332}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":18,"column":12},"generated":{"line":2,"column":337}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":18,"column":12},"generated":{"line":2,"column":340}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":19,"column":17},"generated":{"line":2,"column":342}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":19,"column":17},"generated":{"line":2,"column":349}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":19,"column":20},"generated":{"line":2,"column":351}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"mac","original":{"line":22,"column":8},"generated":{"line":2,"column":354}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"digest","original":{"line":22,"column":12},"generated":{"line":2,"column":356}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"data","original":{"line":22,"column":19},"generated":{"line":2,"column":363}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":22,"column":25},"generated":{"line":2,"column":365}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":22,"column":26},"generated":{"line":2,"column":366}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"digest","original":{"line":22,"column":31},"generated":{"line":2,"column":368}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":23,"column":14},"generated":{"line":2,"column":373}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":23,"column":14},"generated":{"line":2,"column":376}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":24,"column":19},"generated":{"line":2,"column":378}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":24,"column":19},"generated":{"line":2,"column":385}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":24,"column":22},"generated":{"line":2,"column":387}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":27,"column":10},"generated":{"line":2,"column":390}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":27,"column":13},"generated":{"line":2,"column":392}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"Buffer","original":{"line":27,"column":19},"generated":{"line":2,"column":397}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"concat","original":{"line":27,"column":26},"generated":{"line":2,"column":399}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":27,"column":33},"generated":{"line":2,"column":406}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"data","original":{"line":27,"column":34},"generated":{"line":2,"column":407}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"digest","original":{"line":27,"column":40},"generated":{"line":2,"column":409}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"lp","original":{"line":31,"column":4},"generated":{"line":2,"column":420}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"encode","original":{"line":31,"column":7},"generated":{"line":2,"column":422}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"lpOpts","original":{"line":31,"column":14},"generated":{"line":2,"column":429}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"exports","original":{"line":35,"column":0},"generated":{"line":2,"column":434}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"createUnboxStream","original":{"line":35,"column":8},"generated":{"line":2,"column":442}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":35,"column":28},"generated":{"line":2,"column":460}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"decipher","original":{"line":35,"column":29},"generated":{"line":2,"column":462}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"mac","original":{"line":35,"column":39},"generated":{"line":2,"column":464}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"pull","original":{"line":36,"column":9},"generated":{"line":2,"column":468}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"ensureBuffer","original":{"line":37,"column":4},"generated":{"line":2,"column":470}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"lp","original":{"line":38,"column":4},"generated":{"line":2,"column":474}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"decode","original":{"line":38,"column":7},"generated":{"line":2,"column":476}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"lpOpts","original":{"line":38,"column":14},"generated":{"line":2,"column":483}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"asyncMap","original":{"line":39,"column":4},"generated":{"line":2,"column":486}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":39,"column":13},"generated":{"line":2,"column":488}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"chunk","original":{"line":39,"column":14},"generated":{"line":2,"column":489}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":39,"column":21},"generated":{"line":2,"column":491}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"l","original":{"line":40,"column":12},"generated":{"line":2,"column":496}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"l","original":{"line":40,"column":12},"generated":{"line":2,"column":502}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"chunk","original":{"line":40,"column":16},"generated":{"line":2,"column":504}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"length","original":{"line":40,"column":22},"generated":{"line":2,"column":506}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"macSize","original":{"line":41,"column":12},"generated":{"line":2,"column":513}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"mac","original":{"line":41,"column":22},"generated":{"line":2,"column":515}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"length","original":{"line":41,"column":26},"generated":{"line":2,"column":517}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"l","original":{"line":43,"column":10},"generated":{"line":2,"column":524}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"l","original":{"line":43,"column":10},"generated":{"line":2,"column":527}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"macSize","original":{"line":43,"column":14},"generated":{"line":2,"column":529}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":44,"column":15},"generated":{"line":2,"column":531}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":44,"column":15},"generated":{"line":2,"column":538}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":44,"column":18},"generated":{"line":2,"column":540}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"Error","original":{"line":44,"column":22},"generated":{"line":2,"column":544}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"l","original":{"line":44,"column":39},"generated":{"line":2,"column":561}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"macSize","original":{"line":44,"column":68},"generated":{"line":2,"column":590}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"mark","original":{"line":47,"column":12},"generated":{"line":2,"column":597}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"mark","original":{"line":47,"column":12},"generated":{"line":2,"column":603}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"l","original":{"line":47,"column":19},"generated":{"line":2,"column":605}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"macSize","original":{"line":47,"column":23},"generated":{"line":2,"column":607}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"data","original":{"line":48,"column":12},"generated":{"line":2,"column":609}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"chunk","original":{"line":48,"column":19},"generated":{"line":2,"column":611}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"slice","original":{"line":48,"column":25},"generated":{"line":2,"column":613}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":48,"column":31},"generated":{"line":2,"column":619}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"mark","original":{"line":48,"column":34},"generated":{"line":2,"column":621}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"macd","original":{"line":49,"column":12},"generated":{"line":2,"column":624}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"chunk","original":{"line":49,"column":19},"generated":{"line":2,"column":626}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"slice","original":{"line":49,"column":25},"generated":{"line":2,"column":628}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"mark","original":{"line":49,"column":31},"generated":{"line":2,"column":634}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"mac","original":{"line":51,"column":6},"generated":{"line":2,"column":637}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"digest","original":{"line":51,"column":10},"generated":{"line":2,"column":639}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"data","original":{"line":51,"column":17},"generated":{"line":2,"column":646}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":51,"column":23},"generated":{"line":2,"column":648}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":51,"column":24},"generated":{"line":2,"column":649}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"expected","original":{"line":51,"column":29},"generated":{"line":2,"column":651}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":52,"column":12},"generated":{"line":2,"column":655}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":53,"column":17},"generated":{"line":2,"column":657}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":53,"column":20},"generated":{"line":2,"column":659}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"macd","original":{"line":56,"column":13},"generated":{"line":2,"column":662}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"equals","original":{"line":56,"column":18},"generated":{"line":2,"column":664}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"expected","original":{"line":56,"column":25},"generated":{"line":2,"column":671}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"decipher","original":{"line":61,"column":8},"generated":{"line":2,"column":679}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"decrypt","original":{"line":61,"column":17},"generated":{"line":2,"column":681}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"data","original":{"line":61,"column":25},"generated":{"line":2,"column":689}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":61,"column":31},"generated":{"line":2,"column":691}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":61,"column":32},"generated":{"line":2,"column":692}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"decrypted","original":{"line":61,"column":37},"generated":{"line":2,"column":694}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":62,"column":14},"generated":{"line":2,"column":699}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":62,"column":14},"generated":{"line":2,"column":702}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":63,"column":19},"generated":{"line":2,"column":704}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":63,"column":19},"generated":{"line":2,"column":711}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"err","original":{"line":63,"column":22},"generated":{"line":2,"column":713}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":66,"column":10},"generated":{"line":2,"column":716}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":66,"column":13},"generated":{"line":2,"column":718}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"decrypted","original":{"line":66,"column":19},"generated":{"line":2,"column":723}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"cb","original":{"line":57,"column":17},"generated":{"line":2,"column":728}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":57,"column":20},"generated":{"line":2,"column":730}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"Error","original":{"line":57,"column":24},"generated":{"line":2,"column":734}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"macd","original":{"line":57,"column":46},"generated":{"line":2,"column":756}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"toString","original":{"line":57,"column":51},"generated":{"line":2,"column":758}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":57,"column":60},"generated":{"line":2,"column":767}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"expected","original":{"line":57,"column":73},"generated":{"line":2,"column":780}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","name":"toString","original":{"line":57,"column":82},"generated":{"line":2,"column":782}},{"source":"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js","original":{"line":57,"column":91},"generated":{"line":2,"column":791}}],"sources":{"node_modules/ipfs/node_modules/libp2p-secio/src/etm.js":"'use strict'\n\nconst pull = require('pull-stream/pull')\nconst map = require('pull-stream/throughs/map')\nconst asyncMap = require('pull-stream/throughs/async-map')\nconst lp = require('pull-length-prefixed')\n\nconst lpOpts = {\n  fixed: true,\n  bytes: 4\n}\n\nexports.createBoxStream = (cipher, mac) => {\n  return pull(\n    ensureBuffer(),\n    asyncMap((chunk, cb) => {\n      cipher.encrypt(chunk, (err, data) => {\n        if (err) {\n          return cb(err)\n        }\n\n        mac.digest(data, (err, digest) => {\n          if (err) {\n            return cb(err)\n          }\n\n          cb(null, Buffer.concat([data, digest]))\n        })\n      })\n    }),\n    lp.encode(lpOpts)\n  )\n}\n\nexports.createUnboxStream = (decipher, mac) => {\n  return pull(\n    ensureBuffer(),\n    lp.decode(lpOpts),\n    asyncMap((chunk, cb) => {\n      const l = chunk.length\n      const macSize = mac.length\n\n      if (l < macSize) {\n        return cb(new Error(`buffer (${l}) shorter than MAC size (${macSize})`))\n      }\n\n      const mark = l - macSize\n      const data = chunk.slice(0, mark)\n      const macd = chunk.slice(mark)\n\n      mac.digest(data, (err, expected) => {\n        if (err) {\n          return cb(err)\n        }\n\n        if (!macd.equals(expected)) {\n          return cb(new Error(`MAC Invalid: ${macd.toString('hex')} != ${expected.toString('hex')}`))\n        }\n\n        // all good, decrypt\n        decipher.decrypt(data, (err, decrypted) => {\n          if (err) {\n            return cb(err)\n          }\n\n          cb(null, decrypted)\n        })\n      })\n    })\n  )\n}\n\nfunction ensureBuffer () {\n  return map((c) => {\n    if (typeof c === 'string') {\n      return Buffer.from(c, 'utf-8')\n    }\n\n    return c\n  })\n}\n"},"lineCount":null}},"error":null,"hash":"9cfd9d01cc67f5e5fb8ad7a2a864a997","cacheData":{"env":{}}}