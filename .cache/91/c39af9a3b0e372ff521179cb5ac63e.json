{"id":"BlQd","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/package.json","includedInParent":true,"mtime":1582579778668},{"name":"peer-id","loc":{"line":3,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/peer-id/src/index.js"},{"name":"merge-options","loc":{"line":4,"column":29},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/merge-options/index.js"},{"name":"callbackify","loc":{"line":5,"column":28},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/callbackify/index.js"},{"name":"promisify-es6","loc":{"line":6,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/promisify-es6/index.js"},{"name":"../runtime/config-nodejs.js","loc":{"line":7,"column":30},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/runtime/config-browser.js"},{"name":"libp2p-keychain","loc":{"line":8,"column":25},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-keychain/src/index.js"},{"name":"ipld-dag-pb","loc":{"line":11,"column":12},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipld-dag-pb/src/index.js"},{"name":"ipfs-unixfs","loc":{"line":12,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-unixfs/src/index.js"},{"name":"multicodec","loc":{"line":13,"column":27},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/multicodec/src/index.js"},{"name":"../ipns","loc":{"line":15,"column":21},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/ipns/index.js"},{"name":"../ipns/routing/offline-datastore","loc":{"line":16,"column":33},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/ipns/routing/offline-datastore.js"},{"name":"./init-assets","loc":{"line":18,"column":33},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/parcel-bundler/src/builtins/_empty.js"},{"name":"./config","loc":{"line":19,"column":29},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/config.js"},{"name":"buffer","parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/init.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;const i=require(\"peer-id\"),t=require(\"merge-options\"),r=require(\"callbackify\"),o=require(\"promisify-es6\"),n=require(\"../runtime/config-nodejs.js\"),a=require(\"libp2p-keychain\"),{DAGNode:s}=require(\"ipld-dag-pb\"),p=require(\"ipfs-unixfs\"),l=require(\"multicodec\"),c=require(\"../ipns\"),f=require(\"../ipns/routing/offline-datastore\"),g=require(\"./init-assets\"),{profiles:u}=require(\"./config\");function y(t,r){return r.privateKey?(t.log(\"using user-supplied private-key\"),\"object\"==typeof r.privateKey?r.privateKey:o(i.createFromPrivKey)(e.from(r.privateKey,\"base64\"))):(r.log(`generating ${r.bits}-bit RSA keypair...`,!1),t.log(\"generating peer id: %s bits\",r.bits),o(i.create)({bits:r.bits}))}async function d(e,i){if(\"uninitialized\"!==e.state.state())throw new Error(\"Not able to init from state: \"+e.state.state());if(e.state.init(),e.log(\"init\"),i.repo)return void(e._repo=i.repo);i.emptyRepo=i.emptyRepo||!1,i.bits=Number(i.bits)||2048,i.log=i.log||function(){};const r=t(n(),e._options.config);b(e,r,i);const o=await e._repo.exists();if(e.log(\"repo exists?\",o),!0===o)throw Error(\"repo already exists\");const s=await y(e,i);e.log(\"identity generated\"),r.Identity={PeerID:s.toB58String(),PrivKey:s.privKey.bytes.toString(\"base64\")};const p=s.privKey;if(i.pass&&(r.Keychain=a.generateOptions()),i.log(\"done\"),i.log(\"peer identity: \"+r.Identity.PeerID),await e._repo.init(r),await e._repo.open(),e.log(\"repo opened\"),i.pass){e.log(\"creating keychain\");const t=Object.assign({passPhrase:i.pass},r.Keychain);e._keychain=new a(e._repo.keys,t),await e._keychain.importPeer(\"self\",{privKey:p})}const l=new f(e._repo);return e._ipns=new c(l,e._repo.datastore,e._peerInfo,e._keychain,e._options),w(e,p,i)}async function w(e,i,t){if(t.emptyRepo)return;e.log(\"adding assets\");const r=new s(new p(\"directory\").marshal()),o=await e.dag.put(r,{version:0,format:l.DAG_PB,hashAlg:l.SHA2_256,preload:!1});return await e._ipns.initializeKeyspace(i,o.toBaseEncodedString()),e.log(\"Initialised keyspace\"),\"function\"==typeof g?(e.log(\"Adding default assets\"),g(e,t.log)):void 0}function b(e,i,t){if(t.profiles)for(const r of t.profiles){const t=u[r];if(!t)throw new Error(`Could not find profile with name '${r}'`);e.log(`applying profile ${r}`),t.transform(i)}}module.exports=function(e){return r.variadic(async i=>{i=i||{},await d(e,i),e.log(\"Created repo\"),await e.preStart(),e.log(\"Done pre-start\"),e.state.initialized(),e.emit(\"init\")})};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":151,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":151,"column":0},"generated":{"line":2,"column":4}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":151,"column":0},"generated":{"line":2,"column":6}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":151,"column":0},"generated":{"line":2,"column":14}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":151,"column":0},"generated":{"line":2,"column":24}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":3,"column":0},"generated":{"line":2,"column":31}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"peerId","original":{"line":3,"column":6},"generated":{"line":2,"column":37}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":3,"column":15},"generated":{"line":2,"column":39}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":3,"column":23},"generated":{"line":2,"column":47}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"mergeOptions","original":{"line":4,"column":6},"generated":{"line":2,"column":58}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":4,"column":21},"generated":{"line":2,"column":60}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":4,"column":29},"generated":{"line":2,"column":68}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"callbackify","original":{"line":5,"column":6},"generated":{"line":2,"column":85}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":5,"column":20},"generated":{"line":2,"column":87}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":5,"column":28},"generated":{"line":2,"column":95}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"promisify","original":{"line":6,"column":6},"generated":{"line":2,"column":110}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":6,"column":18},"generated":{"line":2,"column":112}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":6,"column":26},"generated":{"line":2,"column":120}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"defaultConfig","original":{"line":7,"column":6},"generated":{"line":2,"column":137}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":7,"column":22},"generated":{"line":2,"column":139}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":7,"column":30},"generated":{"line":2,"column":147}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Keychain","original":{"line":8,"column":6},"generated":{"line":2,"column":178}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":8,"column":17},"generated":{"line":2,"column":180}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":8,"column":25},"generated":{"line":2,"column":188}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":9,"column":6},"generated":{"line":2,"column":208}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"DAGNode","original":{"line":10,"column":2},"generated":{"line":2,"column":216}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":11,"column":4},"generated":{"line":2,"column":219}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":11,"column":12},"generated":{"line":2,"column":227}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"UnixFs","original":{"line":12,"column":6},"generated":{"line":2,"column":242}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":12,"column":15},"generated":{"line":2,"column":244}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":12,"column":23},"generated":{"line":2,"column":252}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"multicodec","original":{"line":13,"column":6},"generated":{"line":2,"column":267}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":13,"column":19},"generated":{"line":2,"column":269}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":13,"column":27},"generated":{"line":2,"column":277}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"IPNS","original":{"line":15,"column":6},"generated":{"line":2,"column":291}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":15,"column":13},"generated":{"line":2,"column":293}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":15,"column":21},"generated":{"line":2,"column":301}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"OfflineDatastore","original":{"line":16,"column":6},"generated":{"line":2,"column":312}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":16,"column":25},"generated":{"line":2,"column":314}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":16,"column":33},"generated":{"line":2,"column":322}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"addDefaultAssets","original":{"line":18,"column":6},"generated":{"line":2,"column":359}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":18,"column":25},"generated":{"line":2,"column":361}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":18,"column":33},"generated":{"line":2,"column":369}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":19,"column":6},"generated":{"line":2,"column":387}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"profiles","original":{"line":19,"column":8},"generated":{"line":2,"column":396}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"require","original":{"line":19,"column":21},"generated":{"line":2,"column":399}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":19,"column":29},"generated":{"line":2,"column":407}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":21,"column":0},"generated":{"line":2,"column":419}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"createPeerId","original":{"line":21,"column":9},"generated":{"line":2,"column":428}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":21,"column":23},"generated":{"line":2,"column":430}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":21,"column":29},"generated":{"line":2,"column":432}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":22,"column":6},"generated":{"line":2,"column":435}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":22,"column":6},"generated":{"line":2,"column":442}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privateKey","original":{"line":22,"column":11},"generated":{"line":2,"column":444}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":23,"column":4},"generated":{"line":2,"column":456}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":23,"column":9},"generated":{"line":2,"column":458}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":23,"column":13},"generated":{"line":2,"column":462}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":24,"column":35},"generated":{"line":2,"column":497}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":24,"column":15},"generated":{"line":2,"column":514}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privateKey","original":{"line":24,"column":20},"generated":{"line":2,"column":516}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":25,"column":13},"generated":{"line":2,"column":527}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privateKey","original":{"line":25,"column":18},"generated":{"line":2,"column":529}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"promisify","original":{"line":27,"column":13},"generated":{"line":2,"column":540}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"peerId","original":{"line":27,"column":23},"generated":{"line":2,"column":542}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"createFromPrivKey","original":{"line":27,"column":30},"generated":{"line":2,"column":544}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"promisify","original":{"line":27,"column":13},"generated":{"line":2,"column":562}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Buffer","original":{"line":27,"column":49},"generated":{"line":2,"column":563}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"from","original":{"line":27,"column":56},"generated":{"line":2,"column":565}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":27,"column":61},"generated":{"line":2,"column":570}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privateKey","original":{"line":27,"column":66},"generated":{"line":2,"column":572}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":27,"column":78},"generated":{"line":2,"column":583}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":31,"column":4},"generated":{"line":2,"column":596}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":31,"column":9},"generated":{"line":2,"column":598}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":31,"column":27},"generated":{"line":2,"column":616}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"bits","original":{"line":31,"column":32},"generated":{"line":2,"column":618}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":31,"column":59},"generated":{"line":2,"column":645}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":32,"column":4},"generated":{"line":2,"column":648}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":32,"column":9},"generated":{"line":2,"column":650}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":32,"column":13},"generated":{"line":2,"column":654}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":32,"column":44},"generated":{"line":2,"column":684}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"bits","original":{"line":32,"column":49},"generated":{"line":2,"column":686}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"promisify","original":{"line":34,"column":11},"generated":{"line":2,"column":692}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"peerId","original":{"line":34,"column":21},"generated":{"line":2,"column":694}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"create","original":{"line":34,"column":28},"generated":{"line":2,"column":696}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"promisify","original":{"line":34,"column":11},"generated":{"line":2,"column":703}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":34,"column":36},"generated":{"line":2,"column":704}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"bits","original":{"line":34,"column":38},"generated":{"line":2,"column":705}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":34,"column":44},"generated":{"line":2,"column":710}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"bits","original":{"line":34,"column":49},"generated":{"line":2,"column":712}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":38,"column":0},"generated":{"line":2,"column":720}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"createRepo","original":{"line":38,"column":15},"generated":{"line":2,"column":735}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":38,"column":27},"generated":{"line":2,"column":737}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":38,"column":33},"generated":{"line":2,"column":739}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":39,"column":6},"generated":{"line":2,"column":742}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":39,"column":29},"generated":{"line":2,"column":745}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":39,"column":6},"generated":{"line":2,"column":763}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"state","original":{"line":39,"column":11},"generated":{"line":2,"column":765}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"state","original":{"line":39,"column":17},"generated":{"line":2,"column":771}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":40,"column":10},"generated":{"line":2,"column":779}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":40,"column":10},"generated":{"line":2,"column":785}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Error","original":{"line":40,"column":14},"generated":{"line":2,"column":789}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":40,"column":20},"generated":{"line":2,"column":795}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":40,"column":54},"generated":{"line":2,"column":827}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"state","original":{"line":40,"column":59},"generated":{"line":2,"column":829}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"state","original":{"line":40,"column":65},"generated":{"line":2,"column":835}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":47,"column":6},"generated":{"line":2,"column":844}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":43,"column":2},"generated":{"line":2,"column":847}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"state","original":{"line":43,"column":7},"generated":{"line":2,"column":849}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"init","original":{"line":43,"column":13},"generated":{"line":2,"column":855}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":44,"column":2},"generated":{"line":2,"column":862}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":44,"column":7},"generated":{"line":2,"column":864}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":44,"column":11},"generated":{"line":2,"column":868}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":47,"column":6},"generated":{"line":2,"column":876}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"repo","original":{"line":47,"column":11},"generated":{"line":2,"column":878}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":50,"column":4},"generated":{"line":2,"column":883}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":48,"column":4},"generated":{"line":2,"column":895}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_repo","original":{"line":48,"column":9},"generated":{"line":2,"column":897}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":48,"column":17},"generated":{"line":2,"column":903}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"repo","original":{"line":48,"column":22},"generated":{"line":2,"column":905}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":53,"column":2},"generated":{"line":2,"column":911}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"emptyRepo","original":{"line":53,"column":7},"generated":{"line":2,"column":913}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":53,"column":19},"generated":{"line":2,"column":923}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"emptyRepo","original":{"line":53,"column":24},"generated":{"line":2,"column":925}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":53,"column":37},"generated":{"line":2,"column":937}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":54,"column":2},"generated":{"line":2,"column":939}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"bits","original":{"line":54,"column":7},"generated":{"line":2,"column":941}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Number","original":{"line":54,"column":14},"generated":{"line":2,"column":946}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":54,"column":21},"generated":{"line":2,"column":953}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"bits","original":{"line":54,"column":26},"generated":{"line":2,"column":955}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":54,"column":35},"generated":{"line":2,"column":962}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":55,"column":2},"generated":{"line":2,"column":967}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":55,"column":7},"generated":{"line":2,"column":969}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":55,"column":13},"generated":{"line":2,"column":973}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":55,"column":18},"generated":{"line":2,"column":975}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":55,"column":25},"generated":{"line":2,"column":980}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":57,"column":8},"generated":{"line":2,"column":993}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":57,"column":8},"generated":{"line":2,"column":999}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"mergeOptions","original":{"line":57,"column":17},"generated":{"line":2,"column":1001}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"defaultConfig","original":{"line":57,"column":30},"generated":{"line":2,"column":1003}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":57,"column":47},"generated":{"line":2,"column":1007}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_options","original":{"line":57,"column":52},"generated":{"line":2,"column":1009}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":57,"column":61},"generated":{"line":2,"column":1018}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"applyProfile","original":{"line":59,"column":2},"generated":{"line":2,"column":1026}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":59,"column":15},"generated":{"line":2,"column":1028}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":59,"column":21},"generated":{"line":2,"column":1030}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":59,"column":29},"generated":{"line":2,"column":1032}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"exists","original":{"line":62,"column":8},"generated":{"line":2,"column":1035}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"exists","original":{"line":62,"column":8},"generated":{"line":2,"column":1041}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":62,"column":23},"generated":{"line":2,"column":1049}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_repo","original":{"line":62,"column":28},"generated":{"line":2,"column":1051}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"exists","original":{"line":62,"column":34},"generated":{"line":2,"column":1057}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"exists","original":{"line":64,"column":6},"generated":{"line":2,"column":1066}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":63,"column":2},"generated":{"line":2,"column":1069}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":63,"column":7},"generated":{"line":2,"column":1071}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":63,"column":11},"generated":{"line":2,"column":1075}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"exists","original":{"line":63,"column":27},"generated":{"line":2,"column":1090}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":64,"column":17},"generated":{"line":2,"column":1094}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"exists","original":{"line":64,"column":6},"generated":{"line":2,"column":1098}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Error","original":{"line":65,"column":10},"generated":{"line":2,"column":1100}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Error","original":{"line":65,"column":10},"generated":{"line":2,"column":1106}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":65,"column":16},"generated":{"line":2,"column":1112}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"peerId","original":{"line":68,"column":8},"generated":{"line":2,"column":1135}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"peerId","original":{"line":68,"column":8},"generated":{"line":2,"column":1141}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"createPeerId","original":{"line":68,"column":23},"generated":{"line":2,"column":1149}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":68,"column":36},"generated":{"line":2,"column":1151}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":68,"column":42},"generated":{"line":2,"column":1153}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":70,"column":2},"generated":{"line":2,"column":1156}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":70,"column":7},"generated":{"line":2,"column":1158}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":70,"column":11},"generated":{"line":2,"column":1162}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":72,"column":2},"generated":{"line":2,"column":1184}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Identity","original":{"line":72,"column":9},"generated":{"line":2,"column":1186}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":72,"column":20},"generated":{"line":2,"column":1195}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"PeerID","original":{"line":73,"column":4},"generated":{"line":2,"column":1196}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"peerId","original":{"line":73,"column":12},"generated":{"line":2,"column":1203}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"toB58String","original":{"line":73,"column":19},"generated":{"line":2,"column":1205}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"PrivKey","original":{"line":74,"column":4},"generated":{"line":2,"column":1219}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"peerId","original":{"line":74,"column":13},"generated":{"line":2,"column":1227}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privKey","original":{"line":74,"column":20},"generated":{"line":2,"column":1229}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"bytes","original":{"line":74,"column":28},"generated":{"line":2,"column":1237}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"toString","original":{"line":74,"column":34},"generated":{"line":2,"column":1243}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":74,"column":43},"generated":{"line":2,"column":1252}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privateKey","original":{"line":76,"column":8},"generated":{"line":2,"column":1263}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privateKey","original":{"line":76,"column":8},"generated":{"line":2,"column":1269}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"peerId","original":{"line":76,"column":21},"generated":{"line":2,"column":1271}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privKey","original":{"line":76,"column":28},"generated":{"line":2,"column":1273}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":90,"column":6},"generated":{"line":2,"column":1281}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":78,"column":6},"generated":{"line":2,"column":1284}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"pass","original":{"line":78,"column":11},"generated":{"line":2,"column":1286}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":79,"column":4},"generated":{"line":2,"column":1293}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Keychain","original":{"line":79,"column":11},"generated":{"line":2,"column":1295}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Keychain","original":{"line":79,"column":22},"generated":{"line":2,"column":1304}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"generateOptions","original":{"line":79,"column":31},"generated":{"line":2,"column":1306}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":82,"column":2},"generated":{"line":2,"column":1325}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":82,"column":7},"generated":{"line":2,"column":1327}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":82,"column":11},"generated":{"line":2,"column":1331}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":83,"column":2},"generated":{"line":2,"column":1339}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":83,"column":7},"generated":{"line":2,"column":1341}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":83,"column":11},"generated":{"line":2,"column":1345}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":83,"column":31},"generated":{"line":2,"column":1363}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Identity","original":{"line":83,"column":38},"generated":{"line":2,"column":1365}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"PeerID","original":{"line":83,"column":47},"generated":{"line":2,"column":1374}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":85,"column":8},"generated":{"line":2,"column":1388}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_repo","original":{"line":85,"column":13},"generated":{"line":2,"column":1390}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"init","original":{"line":85,"column":19},"generated":{"line":2,"column":1396}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":85,"column":24},"generated":{"line":2,"column":1401}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":86,"column":8},"generated":{"line":2,"column":1410}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_repo","original":{"line":86,"column":13},"generated":{"line":2,"column":1412}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"open","original":{"line":86,"column":19},"generated":{"line":2,"column":1418}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":88,"column":2},"generated":{"line":2,"column":1425}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":88,"column":7},"generated":{"line":2,"column":1427}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":88,"column":11},"generated":{"line":2,"column":1431}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":90,"column":6},"generated":{"line":2,"column":1446}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"pass","original":{"line":90,"column":11},"generated":{"line":2,"column":1448}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":90,"column":17},"generated":{"line":2,"column":1453}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":91,"column":4},"generated":{"line":2,"column":1454}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":91,"column":9},"generated":{"line":2,"column":1456}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":91,"column":13},"generated":{"line":2,"column":1460}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"keychainOptions","original":{"line":92,"column":10},"generated":{"line":2,"column":1481}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"keychainOptions","original":{"line":92,"column":10},"generated":{"line":2,"column":1487}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Object","original":{"line":92,"column":28},"generated":{"line":2,"column":1489}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"assign","original":{"line":92,"column":35},"generated":{"line":2,"column":1496}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":92,"column":42},"generated":{"line":2,"column":1503}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"passPhrase","original":{"line":92,"column":44},"generated":{"line":2,"column":1504}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":92,"column":56},"generated":{"line":2,"column":1515}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"pass","original":{"line":92,"column":61},"generated":{"line":2,"column":1517}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":92,"column":69},"generated":{"line":2,"column":1523}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Keychain","original":{"line":92,"column":76},"generated":{"line":2,"column":1525}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":93,"column":4},"generated":{"line":2,"column":1535}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_keychain","original":{"line":93,"column":9},"generated":{"line":2,"column":1537}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":93,"column":21},"generated":{"line":2,"column":1547}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Keychain","original":{"line":93,"column":25},"generated":{"line":2,"column":1551}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":93,"column":34},"generated":{"line":2,"column":1553}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_repo","original":{"line":93,"column":39},"generated":{"line":2,"column":1555}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"keys","original":{"line":93,"column":45},"generated":{"line":2,"column":1561}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"keychainOptions","original":{"line":93,"column":51},"generated":{"line":2,"column":1566}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":95,"column":10},"generated":{"line":2,"column":1575}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_keychain","original":{"line":95,"column":15},"generated":{"line":2,"column":1577}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"importPeer","original":{"line":95,"column":25},"generated":{"line":2,"column":1587}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":95,"column":36},"generated":{"line":2,"column":1598}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":95,"column":44},"generated":{"line":2,"column":1605}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privKey","original":{"line":95,"column":46},"generated":{"line":2,"column":1606}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privateKey","original":{"line":95,"column":55},"generated":{"line":2,"column":1614}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"offlineDatastore","original":{"line":100,"column":8},"generated":{"line":2,"column":1618}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"offlineDatastore","original":{"line":100,"column":8},"generated":{"line":2,"column":1624}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":100,"column":27},"generated":{"line":2,"column":1626}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"OfflineDatastore","original":{"line":100,"column":31},"generated":{"line":2,"column":1630}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":100,"column":48},"generated":{"line":2,"column":1632}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_repo","original":{"line":100,"column":53},"generated":{"line":2,"column":1634}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"addRepoAssets","original":{"line":105,"column":9},"generated":{"line":2,"column":1641}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":102,"column":2},"generated":{"line":2,"column":1648}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_ipns","original":{"line":102,"column":7},"generated":{"line":2,"column":1650}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":102,"column":15},"generated":{"line":2,"column":1656}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"IPNS","original":{"line":102,"column":19},"generated":{"line":2,"column":1660}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"offlineDatastore","original":{"line":102,"column":24},"generated":{"line":2,"column":1662}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":102,"column":42},"generated":{"line":2,"column":1664}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_repo","original":{"line":102,"column":47},"generated":{"line":2,"column":1666}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"datastore","original":{"line":102,"column":53},"generated":{"line":2,"column":1672}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":102,"column":64},"generated":{"line":2,"column":1682}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_peerInfo","original":{"line":102,"column":69},"generated":{"line":2,"column":1684}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":102,"column":80},"generated":{"line":2,"column":1694}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_keychain","original":{"line":102,"column":85},"generated":{"line":2,"column":1696}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":102,"column":96},"generated":{"line":2,"column":1706}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_options","original":{"line":102,"column":101},"generated":{"line":2,"column":1708}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"addRepoAssets","original":{"line":105,"column":9},"generated":{"line":2,"column":1718}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":105,"column":23},"generated":{"line":2,"column":1720}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privateKey","original":{"line":105,"column":29},"generated":{"line":2,"column":1722}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":105,"column":41},"generated":{"line":2,"column":1724}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":108,"column":0},"generated":{"line":2,"column":1727}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"addRepoAssets","original":{"line":108,"column":15},"generated":{"line":2,"column":1742}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":108,"column":30},"generated":{"line":2,"column":1744}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privateKey","original":{"line":108,"column":36},"generated":{"line":2,"column":1746}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":108,"column":48},"generated":{"line":2,"column":1748}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":109,"column":6},"generated":{"line":2,"column":1751}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":109,"column":6},"generated":{"line":2,"column":1754}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"emptyRepo","original":{"line":109,"column":11},"generated":{"line":2,"column":1756}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":110,"column":4},"generated":{"line":2,"column":1766}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":113,"column":2},"generated":{"line":2,"column":1773}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":113,"column":7},"generated":{"line":2,"column":1775}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":113,"column":11},"generated":{"line":2,"column":1779}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"node","original":{"line":115,"column":8},"generated":{"line":2,"column":1796}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"node","original":{"line":115,"column":8},"generated":{"line":2,"column":1802}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":115,"column":15},"generated":{"line":2,"column":1804}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"DAGNode","original":{"line":115,"column":19},"generated":{"line":2,"column":1808}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":115,"column":27},"generated":{"line":2,"column":1810}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"UnixFs","original":{"line":115,"column":31},"generated":{"line":2,"column":1814}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":115,"column":38},"generated":{"line":2,"column":1816}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"marshal","original":{"line":115,"column":51},"generated":{"line":2,"column":1829}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"cid","original":{"line":116,"column":8},"generated":{"line":2,"column":1840}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":116,"column":20},"generated":{"line":2,"column":1848}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"dag","original":{"line":116,"column":25},"generated":{"line":2,"column":1850}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"put","original":{"line":116,"column":29},"generated":{"line":2,"column":1854}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"node","original":{"line":116,"column":33},"generated":{"line":2,"column":1858}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":116,"column":39},"generated":{"line":2,"column":1860}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"version","original":{"line":117,"column":4},"generated":{"line":2,"column":1861}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":117,"column":13},"generated":{"line":2,"column":1869}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"format","original":{"line":118,"column":4},"generated":{"line":2,"column":1871}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"multicodec","original":{"line":118,"column":12},"generated":{"line":2,"column":1878}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"DAG_PB","original":{"line":118,"column":23},"generated":{"line":2,"column":1880}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"hashAlg","original":{"line":119,"column":4},"generated":{"line":2,"column":1887}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"multicodec","original":{"line":119,"column":13},"generated":{"line":2,"column":1895}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"SHA2_256","original":{"line":119,"column":24},"generated":{"line":2,"column":1897}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"preload","original":{"line":120,"column":4},"generated":{"line":2,"column":1906}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":120,"column":13},"generated":{"line":2,"column":1915}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":127,"column":6},"generated":{"line":2,"column":1919}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":123,"column":8},"generated":{"line":2,"column":1932}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"_ipns","original":{"line":123,"column":13},"generated":{"line":2,"column":1934}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"initializeKeyspace","original":{"line":123,"column":19},"generated":{"line":2,"column":1940}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"privateKey","original":{"line":123,"column":38},"generated":{"line":2,"column":1959}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"cid","original":{"line":123,"column":50},"generated":{"line":2,"column":1961}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"toBaseEncodedString","original":{"line":123,"column":54},"generated":{"line":2,"column":1963}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":125,"column":2},"generated":{"line":2,"column":1986}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":125,"column":7},"generated":{"line":2,"column":1988}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":125,"column":11},"generated":{"line":2,"column":1992}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":127,"column":34},"generated":{"line":2,"column":2016}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"addDefaultAssets","original":{"line":127,"column":13},"generated":{"line":2,"column":2035}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":128,"column":4},"generated":{"line":2,"column":2038}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":128,"column":9},"generated":{"line":2,"column":2040}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":128,"column":13},"generated":{"line":2,"column":2044}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"addDefaultAssets","original":{"line":131,"column":11},"generated":{"line":2,"column":2069}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":131,"column":28},"generated":{"line":2,"column":2071}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":131,"column":34},"generated":{"line":2,"column":2073}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":131,"column":39},"generated":{"line":2,"column":2075}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":127,"column":6},"generated":{"line":2,"column":2086}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":136,"column":0},"generated":{"line":2,"column":2088}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"applyProfile","original":{"line":136,"column":9},"generated":{"line":2,"column":2097}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":136,"column":23},"generated":{"line":2,"column":2099}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":136,"column":29},"generated":{"line":2,"column":2101}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":136,"column":37},"generated":{"line":2,"column":2103}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":137,"column":6},"generated":{"line":2,"column":2106}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":137,"column":6},"generated":{"line":2,"column":2109}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"profiles","original":{"line":137,"column":11},"generated":{"line":2,"column":2111}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":138,"column":9},"generated":{"line":2,"column":2120}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":138,"column":9},"generated":{"line":2,"column":2124}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"name","original":{"line":138,"column":15},"generated":{"line":2,"column":2130}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":138,"column":23},"generated":{"line":2,"column":2135}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"profiles","original":{"line":138,"column":28},"generated":{"line":2,"column":2137}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":138,"column":38},"generated":{"line":2,"column":2146}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"profile","original":{"line":139,"column":12},"generated":{"line":2,"column":2147}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"profile","original":{"line":139,"column":12},"generated":{"line":2,"column":2153}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"profiles","original":{"line":139,"column":22},"generated":{"line":2,"column":2155}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"name","original":{"line":139,"column":31},"generated":{"line":2,"column":2157}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":141,"column":10},"generated":{"line":2,"column":2160}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"profile","original":{"line":141,"column":11},"generated":{"line":2,"column":2164}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":142,"column":14},"generated":{"line":2,"column":2166}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":142,"column":14},"generated":{"line":2,"column":2172}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"Error","original":{"line":142,"column":18},"generated":{"line":2,"column":2176}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"name","original":{"line":142,"column":61},"generated":{"line":2,"column":2219}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":145,"column":6},"generated":{"line":2,"column":2225}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":145,"column":11},"generated":{"line":2,"column":2227}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"name","original":{"line":145,"column":35},"generated":{"line":2,"column":2251}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"profile","original":{"line":146,"column":6},"generated":{"line":2,"column":2256}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"transform","original":{"line":146,"column":14},"generated":{"line":2,"column":2258}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"config","original":{"line":146,"column":24},"generated":{"line":2,"column":2268}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"module","original":{"line":151,"column":0},"generated":{"line":2,"column":2272}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"exports","original":{"line":151,"column":7},"generated":{"line":2,"column":2279}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":151,"column":17},"generated":{"line":2,"column":2287}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":151,"column":32},"generated":{"line":2,"column":2296}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"callbackify","original":{"line":152,"column":9},"generated":{"line":2,"column":2299}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"callbackify","original":{"line":152,"column":9},"generated":{"line":2,"column":2306}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"variadic","original":{"line":152,"column":21},"generated":{"line":2,"column":2308}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":152,"column":30},"generated":{"line":2,"column":2317}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":152,"column":30},"generated":{"line":2,"column":2323}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":153,"column":4},"generated":{"line":2,"column":2327}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":153,"column":11},"generated":{"line":2,"column":2329}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":153,"column":19},"generated":{"line":2,"column":2332}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"createRepo","original":{"line":155,"column":10},"generated":{"line":2,"column":2341}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":155,"column":21},"generated":{"line":2,"column":2343}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"opts","original":{"line":155,"column":27},"generated":{"line":2,"column":2345}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":156,"column":4},"generated":{"line":2,"column":2348}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":156,"column":9},"generated":{"line":2,"column":2350}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":156,"column":13},"generated":{"line":2,"column":2354}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":158,"column":10},"generated":{"line":2,"column":2376}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"preStart","original":{"line":158,"column":15},"generated":{"line":2,"column":2378}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":159,"column":4},"generated":{"line":2,"column":2389}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"log","original":{"line":159,"column":9},"generated":{"line":2,"column":2391}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":159,"column":13},"generated":{"line":2,"column":2395}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":161,"column":4},"generated":{"line":2,"column":2413}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"state","original":{"line":161,"column":9},"generated":{"line":2,"column":2415}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"initialized","original":{"line":161,"column":15},"generated":{"line":2,"column":2421}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"self","original":{"line":162,"column":4},"generated":{"line":2,"column":2435}},{"source":"node_modules/ipfs/src/core/components/init.js","name":"emit","original":{"line":162,"column":9},"generated":{"line":2,"column":2437}},{"source":"node_modules/ipfs/src/core/components/init.js","original":{"line":162,"column":14},"generated":{"line":2,"column":2442}}],"sources":{"node_modules/ipfs/src/core/components/init.js":"'use strict'\n\nconst peerId = require('peer-id')\nconst mergeOptions = require('merge-options')\nconst callbackify = require('callbackify')\nconst promisify = require('promisify-es6')\nconst defaultConfig = require('../runtime/config-nodejs.js')\nconst Keychain = require('libp2p-keychain')\nconst {\n  DAGNode\n} = require('ipld-dag-pb')\nconst UnixFs = require('ipfs-unixfs')\nconst multicodec = require('multicodec')\n\nconst IPNS = require('../ipns')\nconst OfflineDatastore = require('../ipns/routing/offline-datastore')\n\nconst addDefaultAssets = require('./init-assets')\nconst { profiles } = require('./config')\n\nfunction createPeerId (self, opts) {\n  if (opts.privateKey) {\n    self.log('using user-supplied private-key')\n    if (typeof opts.privateKey === 'object') {\n      return opts.privateKey\n    } else {\n      return promisify(peerId.createFromPrivKey)(Buffer.from(opts.privateKey, 'base64'))\n    }\n  } else {\n    // Generate peer identity keypair + transform to desired format + add to config.\n    opts.log(`generating ${opts.bits}-bit RSA keypair...`, false)\n    self.log('generating peer id: %s bits', opts.bits)\n\n    return promisify(peerId.create)({ bits: opts.bits })\n  }\n}\n\nasync function createRepo (self, opts) {\n  if (self.state.state() !== 'uninitialized') {\n    throw new Error('Not able to init from state: ' + self.state.state())\n  }\n\n  self.state.init()\n  self.log('init')\n\n  // An initialized, open repo was passed, use this one!\n  if (opts.repo) {\n    self._repo = opts.repo\n\n    return\n  }\n\n  opts.emptyRepo = opts.emptyRepo || false\n  opts.bits = Number(opts.bits) || 2048\n  opts.log = opts.log || function () {}\n\n  const config = mergeOptions(defaultConfig(), self._options.config)\n\n  applyProfile(self, config, opts)\n\n  // Verify repo does not exist yet\n  const exists = await self._repo.exists()\n  self.log('repo exists?', exists)\n  if (exists === true) {\n    throw Error('repo already exists')\n  }\n\n  const peerId = await createPeerId(self, opts)\n\n  self.log('identity generated')\n\n  config.Identity = {\n    PeerID: peerId.toB58String(),\n    PrivKey: peerId.privKey.bytes.toString('base64')\n  }\n  const privateKey = peerId.privKey\n\n  if (opts.pass) {\n    config.Keychain = Keychain.generateOptions()\n  }\n\n  opts.log('done')\n  opts.log('peer identity: ' + config.Identity.PeerID)\n\n  await self._repo.init(config)\n  await self._repo.open()\n\n  self.log('repo opened')\n\n  if (opts.pass) {\n    self.log('creating keychain')\n    const keychainOptions = Object.assign({ passPhrase: opts.pass }, config.Keychain)\n    self._keychain = new Keychain(self._repo.keys, keychainOptions)\n\n    await self._keychain.importPeer('self', { privKey: privateKey })\n  }\n\n  // Setup the offline routing for IPNS.\n  // This is primarily used for offline ipns modifications, such as the initializeKeyspace feature.\n  const offlineDatastore = new OfflineDatastore(self._repo)\n\n  self._ipns = new IPNS(offlineDatastore, self._repo.datastore, self._peerInfo, self._keychain, self._options)\n\n  // add empty unixfs dir object (go-ipfs assumes this exists)\n  return addRepoAssets(self, privateKey, opts)\n}\n\nasync function addRepoAssets (self, privateKey, opts) {\n  if (opts.emptyRepo) {\n    return\n  }\n\n  self.log('adding assets')\n\n  const node = new DAGNode(new UnixFs('directory').marshal())\n  const cid = await self.dag.put(node, {\n    version: 0,\n    format: multicodec.DAG_PB,\n    hashAlg: multicodec.SHA2_256,\n    preload: false\n  })\n\n  await self._ipns.initializeKeyspace(privateKey, cid.toBaseEncodedString())\n\n  self.log('Initialised keyspace')\n\n  if (typeof addDefaultAssets === 'function') {\n    self.log('Adding default assets')\n    // addDefaultAssets is undefined on browsers.\n    // See package.json browser config\n    return addDefaultAssets(self, opts.log)\n  }\n}\n\n// Apply profiles (eg \"server,lowpower\") to config\nfunction applyProfile (self, config, opts) {\n  if (opts.profiles) {\n    for (const name of opts.profiles) {\n      const profile = profiles[name]\n\n      if (!profile) {\n        throw new Error(`Could not find profile with name '${name}'`)\n      }\n\n      self.log(`applying profile ${name}`)\n      profile.transform(config)\n    }\n  }\n}\n\nmodule.exports = function init (self) {\n  return callbackify.variadic(async (opts) => {\n    opts = opts || {}\n\n    await createRepo(self, opts)\n    self.log('Created repo')\n\n    await self.preStart()\n    self.log('Done pre-start')\n\n    self.state.initialized()\n    self.emit('init')\n  })\n}\n"},"lineCount":null}},"error":null,"hash":"377748b923fa501cd330450d3d28df59","cacheData":{"env":{}}}