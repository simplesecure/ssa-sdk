{"id":"ZplC","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-bitswap/package.json","includedInParent":true,"mtime":1582579780694},{"name":"../types/wantlist","loc":{"line":3,"column":25},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-bitswap/src/types/wantlist/index.js"}],"generated":{"js":"\"use strict\";const t=require(\"../types/wantlist\");class e{constructor(e){this.partner=e,this.wantlist=new t,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(t){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=t}receivedBytes(t){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=t}wants(t,e){this.wantlist.add(t,e)}cancelWant(t){this.wantlist.remove(t)}wantlistContains(t){return this.wantlist.contains(t)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}}module.exports=e;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":3,"column":0},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":3,"column":0},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":5,"column":0},"generated":{"line":1,"column":50}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":5,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":6,"column":0},"generated":{"line":1,"column":58}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":6,"column":0},"generated":{"line":1,"column":70}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":7,"column":0},"generated":{"line":1,"column":73}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":7,"column":0},"generated":{"line":1,"column":78}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":7,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":8,"column":0},"generated":{"line":1,"column":88}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":8,"column":0},"generated":{"line":1,"column":93}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":8,"column":0},"generated":{"line":1,"column":102}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":8,"column":0},"generated":{"line":1,"column":106}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":10,"column":0},"generated":{"line":1,"column":108}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":10,"column":0},"generated":{"line":1,"column":113}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":10,"column":0},"generated":{"line":1,"column":127}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":11,"column":0},"generated":{"line":1,"column":129}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":11,"column":0},"generated":{"line":1,"column":134}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":11,"column":0},"generated":{"line":1,"column":145}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":11,"column":0},"generated":{"line":1,"column":149}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":13,"column":0},"generated":{"line":1,"column":153}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":13,"column":0},"generated":{"line":1,"column":158}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":13,"column":0},"generated":{"line":1,"column":169}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":14,"column":0},"generated":{"line":1,"column":170}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":14,"column":0},"generated":{"line":1,"column":180}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":15,"column":0},"generated":{"line":1,"column":182}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":15,"column":0},"generated":{"line":1,"column":192}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":19,"column":0},"generated":{"line":1,"column":195}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":19,"column":0},"generated":{"line":1,"column":205}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":20,"column":0},"generated":{"line":1,"column":208}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":20,"column":0},"generated":{"line":1,"column":213}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":21,"column":0},"generated":{"line":1,"column":229}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":21,"column":0},"generated":{"line":1,"column":234}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":21,"column":0},"generated":{"line":1,"column":248}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":21,"column":0},"generated":{"line":1,"column":252}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":21,"column":0},"generated":{"line":1,"column":258}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":22,"column":0},"generated":{"line":1,"column":268}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":22,"column":0},"generated":{"line":1,"column":273}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":22,"column":0},"generated":{"line":1,"column":284}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":22,"column":0},"generated":{"line":1,"column":295}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":25,"column":0},"generated":{"line":1,"column":297}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":25,"column":0},"generated":{"line":1,"column":311}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":26,"column":0},"generated":{"line":1,"column":314}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":26,"column":0},"generated":{"line":1,"column":319}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":27,"column":0},"generated":{"line":1,"column":335}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":27,"column":0},"generated":{"line":1,"column":340}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":27,"column":0},"generated":{"line":1,"column":354}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":27,"column":0},"generated":{"line":1,"column":358}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":27,"column":0},"generated":{"line":1,"column":364}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":28,"column":0},"generated":{"line":1,"column":374}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":28,"column":0},"generated":{"line":1,"column":379}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":28,"column":0},"generated":{"line":1,"column":390}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":28,"column":0},"generated":{"line":1,"column":401}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":31,"column":0},"generated":{"line":1,"column":403}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":31,"column":0},"generated":{"line":1,"column":409}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":31,"column":0},"generated":{"line":1,"column":411}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":32,"column":0},"generated":{"line":1,"column":414}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":32,"column":0},"generated":{"line":1,"column":419}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":32,"column":0},"generated":{"line":1,"column":428}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":32,"column":0},"generated":{"line":1,"column":432}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":32,"column":0},"generated":{"line":1,"column":434}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":35,"column":0},"generated":{"line":1,"column":437}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":35,"column":0},"generated":{"line":1,"column":448}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":36,"column":0},"generated":{"line":1,"column":451}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":36,"column":0},"generated":{"line":1,"column":456}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":36,"column":0},"generated":{"line":1,"column":465}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":36,"column":0},"generated":{"line":1,"column":472}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":39,"column":0},"generated":{"line":1,"column":475}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":39,"column":0},"generated":{"line":1,"column":492}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":40,"column":0},"generated":{"line":1,"column":495}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":40,"column":0},"generated":{"line":1,"column":502}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":40,"column":0},"generated":{"line":1,"column":507}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":40,"column":0},"generated":{"line":1,"column":516}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":40,"column":0},"generated":{"line":1,"column":525}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":43,"column":0},"generated":{"line":1,"column":528}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":44,"column":0},"generated":{"line":1,"column":540}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":44,"column":0},"generated":{"line":1,"column":547}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":44,"column":0},"generated":{"line":1,"column":552}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":44,"column":0},"generated":{"line":1,"column":563}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":44,"column":0},"generated":{"line":1,"column":574}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":44,"column":0},"generated":{"line":1,"column":579}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":44,"column":0},"generated":{"line":1,"column":590}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":44,"column":0},"generated":{"line":1,"column":600}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":48,"column":0},"generated":{"line":1,"column":604}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":48,"column":0},"generated":{"line":1,"column":611}},{"source":"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js","original":{"line":48,"column":0},"generated":{"line":1,"column":619}}],"sources":{"node_modules/ipfs/node_modules/ipfs-bitswap/src/decision-engine/ledger.js":"'use strict'\n\nconst Wantlist = require('../types/wantlist')\n\nclass Ledger {\n  constructor (peerId) {\n    this.partner = peerId\n    this.wantlist = new Wantlist()\n\n    this.exchangeCount = 0\n    this.sentToPeer = new Map()\n\n    this.accounting = {\n      bytesSent: 0,\n      bytesRecv: 0\n    }\n  }\n\n  sentBytes (n) {\n    this.exchangeCount++\n    this.lastExchange = (new Date()).getTime()\n    this.accounting.bytesSent += n\n  }\n\n  receivedBytes (n) {\n    this.exchangeCount++\n    this.lastExchange = (new Date()).getTime()\n    this.accounting.bytesRecv += n\n  }\n\n  wants (cid, priority) {\n    this.wantlist.add(cid, priority)\n  }\n\n  cancelWant (cid) {\n    this.wantlist.remove(cid)\n  }\n\n  wantlistContains (cid) {\n    return this.wantlist.contains(cid)\n  }\n\n  debtRatio () {\n    return (this.accounting.bytesSent / (this.accounting.bytesRecv + 1)) // +1 is to prevent division by zero\n  }\n}\n\nmodule.exports = Ledger\n"},"lineCount":null}},"error":null,"hash":"e52a35785e30dc10067a2e9855e3a6e0","cacheData":{"env":{}}}