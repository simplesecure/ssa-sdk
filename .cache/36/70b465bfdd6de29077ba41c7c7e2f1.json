{"id":"H7Pm","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-webrtc-star/package.json","includedInParent":true,"mtime":1582579779523},{"name":"multiaddr","loc":{"line":3,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/multiaddr/src/index.js"}],"generated":{"js":"\"use strict\";const t=require(\"multiaddr\");function s(s){const r=s.toString().split(\"/\"),e=s.protos()[1].name,n=s.protos()[2].name,i=s.stringTuples()[1][1];if(\"tcp\"!==e||\"ws\"!==n&&\"wss\"!==n)throw new Error(\"invalid multiaddr: \"+s.toString());return t.isName(s)?\"ws\"===n?\"http://\"+r[2]+(80===i?\"\":\":\"+i):\"wss\"===n?\"https://\"+r[2]+(443===i?\"\":\":\"+i):void 0:\"http://\"+r[2]+\":\"+r[4]}function r(s){const r=\"/libp2p-webrtc-star\";if(-1!==s.indexOf(r)){s=s.substring(r.length,s.length);let e=t(s);const n=e.stringTuples().filter(t=>421===t[0])[0];s=(e=(e=(e=e.decapsulate(\"ipfs\")).encapsulate(\"/p2p-webrtc-star\")).encapsulate(`/ipfs/${n[1]}`)).toString()}return s}exports=module.exports,exports.cleanUrlSIO=s,exports.cleanMultiaddr=r;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"multiaddr","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"require","original":{"line":3,"column":18},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":3,"column":26},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":5,"column":0},"generated":{"line":1,"column":42}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"cleanUrlSIO","original":{"line":5,"column":9},"generated":{"line":1,"column":51}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":5,"column":22},"generated":{"line":1,"column":53}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStrSplit","original":{"line":6,"column":8},"generated":{"line":1,"column":56}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStrSplit","original":{"line":6,"column":8},"generated":{"line":1,"column":62}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":6,"column":21},"generated":{"line":1,"column":64}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"toString","original":{"line":6,"column":24},"generated":{"line":1,"column":66}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"split","original":{"line":6,"column":35},"generated":{"line":1,"column":77}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":6,"column":41},"generated":{"line":1,"column":83}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tcpProto","original":{"line":7,"column":8},"generated":{"line":1,"column":88}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":7,"column":19},"generated":{"line":1,"column":90}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"protos","original":{"line":7,"column":22},"generated":{"line":1,"column":92}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":7,"column":31},"generated":{"line":1,"column":101}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"name","original":{"line":7,"column":34},"generated":{"line":1,"column":104}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"wsProto","original":{"line":8,"column":8},"generated":{"line":1,"column":109}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":8,"column":18},"generated":{"line":1,"column":111}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"protos","original":{"line":8,"column":21},"generated":{"line":1,"column":113}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":8,"column":30},"generated":{"line":1,"column":122}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"name","original":{"line":8,"column":33},"generated":{"line":1,"column":125}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tcpPort","original":{"line":9,"column":8},"generated":{"line":1,"column":130}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":9,"column":18},"generated":{"line":1,"column":132}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"stringTuples","original":{"line":9,"column":21},"generated":{"line":1,"column":134}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":9,"column":36},"generated":{"line":1,"column":149}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":9,"column":39},"generated":{"line":1,"column":152}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tcpProto","original":{"line":11,"column":6},"generated":{"line":1,"column":155}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":11,"column":19},"generated":{"line":1,"column":158}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tcpProto","original":{"line":11,"column":6},"generated":{"line":1,"column":166}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":11,"column":41},"generated":{"line":1,"column":169}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"wsProto","original":{"line":11,"column":29},"generated":{"line":1,"column":176}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":11,"column":61},"generated":{"line":1,"column":179}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"wsProto","original":{"line":11,"column":49},"generated":{"line":1,"column":187}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":12,"column":10},"generated":{"line":1,"column":189}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":12,"column":10},"generated":{"line":1,"column":195}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"Error","original":{"line":12,"column":14},"generated":{"line":1,"column":199}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":12,"column":20},"generated":{"line":1,"column":205}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":12,"column":44},"generated":{"line":1,"column":227}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"toString","original":{"line":12,"column":47},"generated":{"line":1,"column":229}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":15,"column":6},"generated":{"line":1,"column":241}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"multiaddr","original":{"line":15,"column":7},"generated":{"line":1,"column":248}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"isName","original":{"line":15,"column":17},"generated":{"line":1,"column":250}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":15,"column":24},"generated":{"line":1,"column":257}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":19,"column":18},"generated":{"line":1,"column":260}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"wsProto","original":{"line":19,"column":6},"generated":{"line":1,"column":267}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":20,"column":11},"generated":{"line":1,"column":269}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStrSplit","original":{"line":20,"column":23},"generated":{"line":1,"column":279}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":20,"column":34},"generated":{"line":1,"column":281}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":20,"column":52},"generated":{"line":1,"column":285}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tcpPort","original":{"line":20,"column":40},"generated":{"line":1,"column":290}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":20,"column":57},"generated":{"line":1,"column":292}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":20,"column":62},"generated":{"line":1,"column":295}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tcpPort","original":{"line":20,"column":68},"generated":{"line":1,"column":299}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":23,"column":18},"generated":{"line":1,"column":302}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"wsProto","original":{"line":23,"column":6},"generated":{"line":1,"column":310}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":24,"column":11},"generated":{"line":1,"column":312}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStrSplit","original":{"line":24,"column":24},"generated":{"line":1,"column":323}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":24,"column":35},"generated":{"line":1,"column":325}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":24,"column":53},"generated":{"line":1,"column":329}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tcpPort","original":{"line":24,"column":41},"generated":{"line":1,"column":335}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":24,"column":59},"generated":{"line":1,"column":337}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":24,"column":64},"generated":{"line":1,"column":340}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tcpPort","original":{"line":24,"column":70},"generated":{"line":1,"column":344}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"wsProto","original":{"line":23,"column":6},"generated":{"line":1,"column":352}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":16,"column":11},"generated":{"line":1,"column":354}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStrSplit","original":{"line":16,"column":23},"generated":{"line":1,"column":364}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":16,"column":34},"generated":{"line":1,"column":366}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":16,"column":39},"generated":{"line":1,"column":369}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStrSplit","original":{"line":16,"column":45},"generated":{"line":1,"column":373}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":16,"column":56},"generated":{"line":1,"column":375}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":28,"column":0},"generated":{"line":1,"column":378}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"cleanMultiaddr","original":{"line":28,"column":9},"generated":{"line":1,"column":387}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStr","original":{"line":28,"column":25},"generated":{"line":1,"column":389}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"legacy","original":{"line":29,"column":8},"generated":{"line":1,"column":392}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"legacy","original":{"line":29,"column":8},"generated":{"line":1,"column":398}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":29,"column":17},"generated":{"line":1,"column":400}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStr","original":{"line":31,"column":6},"generated":{"line":1,"column":422}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":31,"column":33},"generated":{"line":1,"column":426}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStr","original":{"line":31,"column":6},"generated":{"line":1,"column":430}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"indexOf","original":{"line":31,"column":12},"generated":{"line":1,"column":432}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"legacy","original":{"line":31,"column":20},"generated":{"line":1,"column":440}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":31,"column":36},"generated":{"line":1,"column":443}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStr","original":{"line":32,"column":4},"generated":{"line":1,"column":444}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStr","original":{"line":32,"column":12},"generated":{"line":1,"column":446}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"substring","original":{"line":32,"column":18},"generated":{"line":1,"column":448}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"legacy","original":{"line":32,"column":28},"generated":{"line":1,"column":458}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"length","original":{"line":32,"column":35},"generated":{"line":1,"column":460}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStr","original":{"line":32,"column":43},"generated":{"line":1,"column":467}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"length","original":{"line":32,"column":49},"generated":{"line":1,"column":469}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":33,"column":8},"generated":{"line":1,"column":477}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":33,"column":8},"generated":{"line":1,"column":481}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"multiaddr","original":{"line":33,"column":13},"generated":{"line":1,"column":483}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStr","original":{"line":33,"column":23},"generated":{"line":1,"column":485}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tuppleIPFS","original":{"line":34,"column":10},"generated":{"line":1,"column":488}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tuppleIPFS","original":{"line":34,"column":10},"generated":{"line":1,"column":494}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":34,"column":23},"generated":{"line":1,"column":496}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"stringTuples","original":{"line":34,"column":26},"generated":{"line":1,"column":498}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"filter","original":{"line":34,"column":41},"generated":{"line":1,"column":513}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tupple","original":{"line":34,"column":49},"generated":{"line":1,"column":520}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":35,"column":27},"generated":{"line":1,"column":523}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tupple","original":{"line":35,"column":13},"generated":{"line":1,"column":529}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":35,"column":20},"generated":{"line":1,"column":531}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":36,"column":7},"generated":{"line":1,"column":535}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStr","original":{"line":41,"column":4},"generated":{"line":1,"column":538}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":40,"column":4},"generated":{"line":1,"column":541}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":39,"column":4},"generated":{"line":1,"column":544}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":38,"column":4},"generated":{"line":1,"column":547}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"ma","original":{"line":38,"column":9},"generated":{"line":1,"column":549}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"decapsulate","original":{"line":38,"column":12},"generated":{"line":1,"column":551}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":38,"column":24},"generated":{"line":1,"column":563}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"encapsulate","original":{"line":39,"column":12},"generated":{"line":1,"column":572}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":39,"column":24},"generated":{"line":1,"column":584}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"encapsulate","original":{"line":40,"column":12},"generated":{"line":1,"column":605}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"tuppleIPFS","original":{"line":40,"column":33},"generated":{"line":1,"column":626}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","original":{"line":40,"column":44},"generated":{"line":1,"column":628}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"toString","original":{"line":41,"column":15},"generated":{"line":1,"column":635}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStr","original":{"line":44,"column":9},"generated":{"line":1,"column":646}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"maStr","original":{"line":44,"column":9},"generated":{"line":1,"column":653}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"exports","original":{"line":47,"column":0},"generated":{"line":1,"column":655}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"module","original":{"line":47,"column":10},"generated":{"line":1,"column":663}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"exports","original":{"line":47,"column":17},"generated":{"line":1,"column":670}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"exports","original":{"line":48,"column":0},"generated":{"line":1,"column":678}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"cleanUrlSIO","original":{"line":48,"column":8},"generated":{"line":1,"column":686}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"cleanUrlSIO","original":{"line":48,"column":22},"generated":{"line":1,"column":698}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"exports","original":{"line":49,"column":0},"generated":{"line":1,"column":700}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"cleanMultiaddr","original":{"line":49,"column":8},"generated":{"line":1,"column":708}},{"source":"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js","name":"cleanMultiaddr","original":{"line":49,"column":25},"generated":{"line":1,"column":723}}],"sources":{"node_modules/ipfs/node_modules/libp2p-webrtc-star/src/utils.js":"'use strict'\n\nconst multiaddr = require('multiaddr')\n\nfunction cleanUrlSIO (ma) {\n  const maStrSplit = ma.toString().split('/')\n  const tcpProto = ma.protos()[1].name\n  const wsProto = ma.protos()[2].name\n  const tcpPort = ma.stringTuples()[1][1]\n\n  if (tcpProto !== 'tcp' || (wsProto !== 'ws' && wsProto !== 'wss')) {\n    throw new Error('invalid multiaddr: ' + ma.toString())\n  }\n\n  if (!multiaddr.isName(ma)) {\n    return 'http://' + maStrSplit[2] + ':' + maStrSplit[4]\n  }\n\n  if (wsProto === 'ws') {\n    return 'http://' + maStrSplit[2] + (tcpPort === 80 ? '' : ':' + tcpPort)\n  }\n\n  if (wsProto === 'wss') {\n    return 'https://' + maStrSplit[2] + (tcpPort === 443 ? '' : ':' + tcpPort)\n  }\n}\n\nfunction cleanMultiaddr (maStr) {\n  const legacy = '/libp2p-webrtc-star'\n\n  if (maStr.indexOf(legacy) !== -1) {\n    maStr = maStr.substring(legacy.length, maStr.length)\n    let ma = multiaddr(maStr)\n    const tuppleIPFS = ma.stringTuples().filter((tupple) => {\n      return tupple[0] === 421 // ipfs code\n    })[0]\n\n    ma = ma.decapsulate('ipfs')\n    ma = ma.encapsulate('/p2p-webrtc-star')\n    ma = ma.encapsulate(`/ipfs/${tuppleIPFS[1]}`)\n    maStr = ma.toString()\n  }\n\n  return maStr\n}\n\nexports = module.exports\nexports.cleanUrlSIO = cleanUrlSIO\nexports.cleanMultiaddr = cleanMultiaddr\n"},"lineCount":null}},"error":null,"hash":"77a76a48446770fbecb1c3610b330dd2","cacheData":{"env":{}}}