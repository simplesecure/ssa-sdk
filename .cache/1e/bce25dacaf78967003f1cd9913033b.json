{"id":"Er5R","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/package.json","includedInParent":true,"mtime":1582579778668},{"name":"is-ipfs","loc":{"line":3,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/resolve.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/is-ipfs/src/index.js"},{"name":"cids","loc":{"line":4,"column":20},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/resolve.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/cids/src/index.js"},{"name":"promise-nodeify","loc":{"line":5,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/resolve.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/promise-nodeify/index.js"},{"name":"../../utils/cid","loc":{"line":6,"column":32},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/resolve.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/utils/cid.js"}],"generated":{"js":"\"use strict\";const e=require(\"is-ipfs\"),i=require(\"cids\"),r=require(\"promise-nodeify\"),{cidToString:s}=require(\"../../utils/cid\");module.exports=(t=>{return(n,a,o)=>(\"function\"==typeof a&&(o=a,a={}),r((async(r,n)=>{if(n=n||{},!e.path(r))throw new Error(\"invalid argument \"+r);e.ipnsPath(r)&&(r=await t.name.resolve(r,n));const[,,a,...o]=r.split(\"/\"),u=new i(a);if(0===o.length)return`/ipfs/${s(u,{base:n.cidBase})}`;const c=o.join(\"/\"),l=t._ipld.resolve(u,c);let d=u,f=c;for await(const e of l)i.isCID(e.value)&&(d=e.value,f=e.remainderPath);return`/ipfs/${s(d,{base:n.cidBase})}${f?\"/\"+f:\"\"}`})(n,a=a||{}),o))});"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"isIpfs","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"require","original":{"line":3,"column":15},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":3,"column":23},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"CID","original":{"line":4,"column":6},"generated":{"line":1,"column":40}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"require","original":{"line":4,"column":12},"generated":{"line":1,"column":42}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":4,"column":20},"generated":{"line":1,"column":50}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"nodeify","original":{"line":5,"column":6},"generated":{"line":1,"column":58}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"require","original":{"line":5,"column":16},"generated":{"line":1,"column":60}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":5,"column":24},"generated":{"line":1,"column":68}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":6,"column":6},"generated":{"line":1,"column":88}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cidToString","original":{"line":6,"column":8},"generated":{"line":1,"column":100}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"require","original":{"line":6,"column":24},"generated":{"line":1,"column":103}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":6,"column":32},"generated":{"line":1,"column":111}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"module","original":{"line":35,"column":0},"generated":{"line":1,"column":130}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"exports","original":{"line":35,"column":7},"generated":{"line":1,"column":137}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"ipfs","original":{"line":35,"column":18},"generated":{"line":1,"column":145}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"ipfs","original":{"line":35,"column":18},"generated":{"line":1,"column":146}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":77,"column":9},"generated":{"line":1,"column":150}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":77,"column":9},"generated":{"line":1,"column":156}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"name","original":{"line":77,"column":10},"generated":{"line":1,"column":157}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":77,"column":16},"generated":{"line":1,"column":159}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cb","original":{"line":77,"column":22},"generated":{"line":1,"column":161}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":78,"column":24},"generated":{"line":1,"column":166}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":78,"column":15},"generated":{"line":1,"column":185}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cb","original":{"line":79,"column":6},"generated":{"line":1,"column":189}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":79,"column":11},"generated":{"line":1,"column":191}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":80,"column":6},"generated":{"line":1,"column":193}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":80,"column":13},"generated":{"line":1,"column":195}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"nodeify","original":{"line":83,"column":11},"generated":{"line":1,"column":199}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":43,"column":18},"generated":{"line":1,"column":201}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"name","original":{"line":43,"column":25},"generated":{"line":1,"column":208}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":43,"column":31},"generated":{"line":1,"column":210}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":46,"column":8},"generated":{"line":1,"column":215}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":44,"column":4},"generated":{"line":1,"column":218}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":44,"column":11},"generated":{"line":1,"column":220}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":44,"column":19},"generated":{"line":1,"column":223}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"isIpfs","original":{"line":46,"column":9},"generated":{"line":1,"column":227}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"path","original":{"line":46,"column":16},"generated":{"line":1,"column":229}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"name","original":{"line":46,"column":21},"generated":{"line":1,"column":234}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":47,"column":12},"generated":{"line":1,"column":237}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":47,"column":12},"generated":{"line":1,"column":243}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"Error","original":{"line":47,"column":16},"generated":{"line":1,"column":247}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":47,"column":22},"generated":{"line":1,"column":253}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"name","original":{"line":47,"column":44},"generated":{"line":1,"column":273}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"isIpfs","original":{"line":50,"column":8},"generated":{"line":1,"column":276}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"ipnsPath","original":{"line":50,"column":15},"generated":{"line":1,"column":278}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"name","original":{"line":50,"column":24},"generated":{"line":1,"column":287}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"name","original":{"line":51,"column":6},"generated":{"line":1,"column":292}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"ipfs","original":{"line":51,"column":19},"generated":{"line":1,"column":300}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"name","original":{"line":51,"column":24},"generated":{"line":1,"column":302}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"resolve","original":{"line":51,"column":29},"generated":{"line":1,"column":307}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"name","original":{"line":51,"column":37},"generated":{"line":1,"column":315}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":51,"column":43},"generated":{"line":1,"column":317}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":54,"column":10},"generated":{"line":1,"column":321}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"hash","original":{"line":54,"column":15},"generated":{"line":1,"column":327}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"hash","original":{"line":54,"column":15},"generated":{"line":1,"column":328}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"hash","original":{"line":54,"column":15},"generated":{"line":1,"column":329}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"rest","original":{"line":54,"column":24},"generated":{"line":1,"column":334}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"name","original":{"line":54,"column":32},"generated":{"line":1,"column":337}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"split","original":{"line":54,"column":37},"generated":{"line":1,"column":339}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":54,"column":43},"generated":{"line":1,"column":345}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cid","original":{"line":55,"column":10},"generated":{"line":1,"column":350}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":55,"column":16},"generated":{"line":1,"column":352}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"CID","original":{"line":55,"column":20},"generated":{"line":1,"column":356}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"hash","original":{"line":55,"column":24},"generated":{"line":1,"column":358}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"rest","original":{"line":58,"column":8},"generated":{"line":1,"column":361}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":58,"column":24},"generated":{"line":1,"column":364}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"rest","original":{"line":58,"column":8},"generated":{"line":1,"column":368}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"length","original":{"line":58,"column":13},"generated":{"line":1,"column":370}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":59,"column":14},"generated":{"line":1,"column":377}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cidToString","original":{"line":59,"column":22},"generated":{"line":1,"column":392}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cid","original":{"line":59,"column":34},"generated":{"line":1,"column":394}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":59,"column":39},"generated":{"line":1,"column":396}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"base","original":{"line":59,"column":41},"generated":{"line":1,"column":397}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":59,"column":47},"generated":{"line":1,"column":402}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cidBase","original":{"line":59,"column":52},"generated":{"line":1,"column":404}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"path","original":{"line":62,"column":10},"generated":{"line":1,"column":416}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"path","original":{"line":62,"column":10},"generated":{"line":1,"column":422}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"rest","original":{"line":62,"column":17},"generated":{"line":1,"column":424}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"join","original":{"line":62,"column":22},"generated":{"line":1,"column":426}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":62,"column":27},"generated":{"line":1,"column":431}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"results","original":{"line":63,"column":10},"generated":{"line":1,"column":436}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"ipfs","original":{"line":63,"column":20},"generated":{"line":1,"column":438}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"_ipld","original":{"line":63,"column":25},"generated":{"line":1,"column":440}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"resolve","original":{"line":63,"column":31},"generated":{"line":1,"column":446}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cid","original":{"line":63,"column":39},"generated":{"line":1,"column":454}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"path","original":{"line":63,"column":44},"generated":{"line":1,"column":456}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"value","original":{"line":64,"column":8},"generated":{"line":1,"column":459}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"value","original":{"line":64,"column":8},"generated":{"line":1,"column":463}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cid","original":{"line":64,"column":16},"generated":{"line":1,"column":465}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"remainderPath","original":{"line":65,"column":8},"generated":{"line":1,"column":467}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"path","original":{"line":65,"column":24},"generated":{"line":1,"column":469}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":67,"column":15},"generated":{"line":1,"column":471}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":67,"column":15},"generated":{"line":1,"column":481}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"result","original":{"line":67,"column":21},"generated":{"line":1,"column":487}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"results","original":{"line":67,"column":31},"generated":{"line":1,"column":492}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"CID","original":{"line":68,"column":10},"generated":{"line":1,"column":494}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"isCID","original":{"line":68,"column":14},"generated":{"line":1,"column":496}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"result","original":{"line":68,"column":20},"generated":{"line":1,"column":502}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"value","original":{"line":68,"column":27},"generated":{"line":1,"column":504}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"value","original":{"line":69,"column":8},"generated":{"line":1,"column":513}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"result","original":{"line":69,"column":16},"generated":{"line":1,"column":515}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"value","original":{"line":69,"column":23},"generated":{"line":1,"column":517}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"remainderPath","original":{"line":70,"column":8},"generated":{"line":1,"column":523}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"result","original":{"line":70,"column":24},"generated":{"line":1,"column":525}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"remainderPath","original":{"line":70,"column":31},"generated":{"line":1,"column":527}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":74,"column":12},"generated":{"line":1,"column":542}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cidToString","original":{"line":74,"column":20},"generated":{"line":1,"column":557}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"value","original":{"line":74,"column":32},"generated":{"line":1,"column":559}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":74,"column":39},"generated":{"line":1,"column":561}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"base","original":{"line":74,"column":41},"generated":{"line":1,"column":562}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":74,"column":47},"generated":{"line":1,"column":567}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cidBase","original":{"line":74,"column":52},"generated":{"line":1,"column":569}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"remainderPath","original":{"line":74,"column":65},"generated":{"line":1,"column":581}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":74,"column":81},"generated":{"line":1,"column":583}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"remainderPath","original":{"line":74,"column":87},"generated":{"line":1,"column":587}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":74,"column":103},"generated":{"line":1,"column":589}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"resolve","original":{"line":83,"column":19},"generated":{"line":1,"column":595}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"name","original":{"line":83,"column":27},"generated":{"line":1,"column":596}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":82,"column":4},"generated":{"line":1,"column":598}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"opts","original":{"line":82,"column":11},"generated":{"line":1,"column":600}},{"source":"node_modules/ipfs/src/core/components/resolve.js","original":{"line":82,"column":19},"generated":{"line":1,"column":603}},{"source":"node_modules/ipfs/src/core/components/resolve.js","name":"cb","original":{"line":83,"column":40},"generated":{"line":1,"column":607}}],"sources":{"node_modules/ipfs/src/core/components/resolve.js":"'use strict'\n\nconst isIpfs = require('is-ipfs')\nconst CID = require('cids')\nconst nodeify = require('promise-nodeify')\nconst { cidToString } = require('../../utils/cid')\n\n/**\n * @typedef { import(\"../index\") } IPFS\n */\n\n/**\n * @typedef {Object} ResolveOptions\n * @prop {string} cidBase - Multibase codec name the CID in the resolved path will be encoded with\n * @prop {boolean} [recursive=true] - Resolve until the result is an IPFS name\n *\n */\n\n/** @typedef {(err: Error, path: string) => void} ResolveCallback */\n\n/**\n * @callback ResolveWrapper - This wrapper adds support for callbacks and promises\n * @param {string} name - Path to resolve\n * @param {ResolveOptions} opts - Options for resolve\n * @param {ResolveCallback} [cb] - Optional callback function\n * @returns {Promise<string> | void} - When callback is provided nothing is returned\n */\n\n/**\n * IPFS Resolve factory\n *\n * @param {IPFS} ipfs\n * @returns {ResolveWrapper}\n */\nmodule.exports = (ipfs) => {\n  /**\n   * IPFS Resolve - Resolve the value of names to IPFS\n   *\n   * @param {String} name\n   * @param {ResolveOptions} [opts={}]\n   * @returns {Promise<string>}\n   */\n  const resolve = async (name, opts) => {\n    opts = opts || {}\n\n    if (!isIpfs.path(name)) {\n      throw new Error('invalid argument ' + name)\n    }\n\n    if (isIpfs.ipnsPath(name)) {\n      name = await ipfs.name.resolve(name, opts)\n    }\n\n    const [, , hash, ...rest] = name.split('/') // ['', 'ipfs', 'hash', ...path]\n    const cid = new CID(hash)\n\n    // nothing to resolve return the input\n    if (rest.length === 0) {\n      return `/ipfs/${cidToString(cid, { base: opts.cidBase })}`\n    }\n\n    const path = rest.join('/')\n    const results = ipfs._ipld.resolve(cid, path)\n    let value = cid\n    let remainderPath = path\n\n    for await (const result of results) {\n      if (CID.isCID(result.value)) {\n        value = result.value\n        remainderPath = result.remainderPath\n      }\n    }\n\n    return `/ipfs/${cidToString(value, { base: opts.cidBase })}${remainderPath ? '/' + remainderPath : ''}`\n  }\n\n  return (name, opts, cb) => {\n    if (typeof opts === 'function') {\n      cb = opts\n      opts = {}\n    }\n    opts = opts || {}\n    return nodeify(resolve(name, opts), cb)\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"ebadeafd93a6e5900cd8d0b846765a0b","cacheData":{"env":{}}}