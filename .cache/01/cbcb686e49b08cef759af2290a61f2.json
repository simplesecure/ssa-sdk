{"id":"iGjd","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p/package.json","includedInParent":true,"mtime":1582579780031},{"name":"async/tryEach","loc":{"line":3,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p/src/content-routing.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/async/tryEach.js"},{"name":"async/parallel","loc":{"line":4,"column":25},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p/src/content-routing.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/async/parallel.js"},{"name":"err-code","loc":{"line":5,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p/src/content-routing.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p/node_modules/err-code/index.js"},{"name":"promisify-es6","loc":{"line":6,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p/src/content-routing.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/promisify-es6/index.js"}],"generated":{"js":"\"use strict\";const e=require(\"async/tryEach\"),r=require(\"async/parallel\"),n=require(\"err-code\"),t=require(\"promisify-es6\");module.exports=(o=>{const i=o._modules.contentRouting||[];return o._dht&&i.unshift(o._dht),{findProviders:t((r,t,o)=>{if(\"function\"==typeof t?(o=t,t={}):\"number\"==typeof t&&(t={maxTimeout:t}),!i.length)return o(n(new Error(\"No content routers available\"),\"NO_ROUTERS_AVAILABLE\"));const u=i.map(e=>o=>e.findProviders(r,t,(e,r)=>e?o(e):r&&0!==Object.keys(r).length?void o(null,r):o(n(new Error(\"not found\"),\"NOT_FOUND\"),null)));e(u,(e,r)=>{if(e&&\"NOT_FOUND\"!==e.code)return o(e);o(null,r=r||[])})}),provide:t((e,t)=>{if(!i.length)return t(n(new Error(\"No content routers available\"),\"NO_ROUTERS_AVAILABLE\"));r(i.map(r=>n=>r.provide(e,n)),t)})}});"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"tryEach","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"require","original":{"line":3,"column":16},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":3,"column":24},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"parallel","original":{"line":4,"column":6},"generated":{"line":1,"column":46}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"require","original":{"line":4,"column":17},"generated":{"line":1,"column":48}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":4,"column":25},"generated":{"line":1,"column":56}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"errCode","original":{"line":5,"column":6},"generated":{"line":1,"column":74}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"require","original":{"line":5,"column":16},"generated":{"line":1,"column":76}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":5,"column":24},"generated":{"line":1,"column":84}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"promisify","original":{"line":6,"column":6},"generated":{"line":1,"column":96}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"require","original":{"line":6,"column":18},"generated":{"line":1,"column":98}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":6,"column":26},"generated":{"line":1,"column":106}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"module","original":{"line":8,"column":0},"generated":{"line":1,"column":123}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"exports","original":{"line":8,"column":7},"generated":{"line":1,"column":130}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"node","original":{"line":8,"column":18},"generated":{"line":1,"column":138}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"node","original":{"line":8,"column":18},"generated":{"line":1,"column":139}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"routers","original":{"line":9,"column":8},"generated":{"line":1,"column":143}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"routers","original":{"line":9,"column":8},"generated":{"line":1,"column":149}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"node","original":{"line":9,"column":18},"generated":{"line":1,"column":151}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"_modules","original":{"line":9,"column":23},"generated":{"line":1,"column":153}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"contentRouting","original":{"line":9,"column":32},"generated":{"line":1,"column":162}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":9,"column":50},"generated":{"line":1,"column":178}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":16,"column":9},"generated":{"line":1,"column":181}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"node","original":{"line":12,"column":6},"generated":{"line":1,"column":188}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"_dht","original":{"line":12,"column":11},"generated":{"line":1,"column":190}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"routers","original":{"line":13,"column":4},"generated":{"line":1,"column":196}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"unshift","original":{"line":13,"column":12},"generated":{"line":1,"column":198}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"node","original":{"line":13,"column":20},"generated":{"line":1,"column":206}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"_dht","original":{"line":13,"column":25},"generated":{"line":1,"column":208}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":16,"column":9},"generated":{"line":1,"column":214}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"findProviders","original":{"line":28,"column":4},"generated":{"line":1,"column":215}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"promisify","original":{"line":28,"column":19},"generated":{"line":1,"column":229}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":28,"column":29},"generated":{"line":1,"column":231}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"key","original":{"line":28,"column":30},"generated":{"line":1,"column":232}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"options","original":{"line":28,"column":35},"generated":{"line":1,"column":234}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":28,"column":44},"generated":{"line":1,"column":236}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":38,"column":10},"generated":{"line":1,"column":241}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":29,"column":29},"generated":{"line":1,"column":244}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"options","original":{"line":29,"column":17},"generated":{"line":1,"column":263}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":30,"column":8},"generated":{"line":1,"column":266}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"options","original":{"line":30,"column":19},"generated":{"line":1,"column":268}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"options","original":{"line":31,"column":8},"generated":{"line":1,"column":270}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":31,"column":18},"generated":{"line":1,"column":272}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":32,"column":36},"generated":{"line":1,"column":276}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"options","original":{"line":32,"column":24},"generated":{"line":1,"column":293}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"options","original":{"line":33,"column":8},"generated":{"line":1,"column":297}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":33,"column":18},"generated":{"line":1,"column":299}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"maxTimeout","original":{"line":34,"column":10},"generated":{"line":1,"column":300}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"options","original":{"line":34,"column":22},"generated":{"line":1,"column":311}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"routers","original":{"line":38,"column":11},"generated":{"line":1,"column":316}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"length","original":{"line":38,"column":19},"generated":{"line":1,"column":318}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":39,"column":15},"generated":{"line":1,"column":325}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":39,"column":15},"generated":{"line":1,"column":332}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"errCode","original":{"line":39,"column":24},"generated":{"line":1,"column":334}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":39,"column":32},"generated":{"line":1,"column":336}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"Error","original":{"line":39,"column":36},"generated":{"line":1,"column":340}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":39,"column":42},"generated":{"line":1,"column":346}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":39,"column":75},"generated":{"line":1,"column":378}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"tasks","original":{"line":42,"column":12},"generated":{"line":1,"column":403}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"tasks","original":{"line":42,"column":12},"generated":{"line":1,"column":409}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"routers","original":{"line":42,"column":20},"generated":{"line":1,"column":411}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"map","original":{"line":42,"column":28},"generated":{"line":1,"column":413}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"router","original":{"line":42,"column":33},"generated":{"line":1,"column":417}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"cb","original":{"line":43,"column":16},"generated":{"line":1,"column":420}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"router","original":{"line":43,"column":23},"generated":{"line":1,"column":423}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"findProviders","original":{"line":43,"column":30},"generated":{"line":1,"column":425}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"key","original":{"line":43,"column":44},"generated":{"line":1,"column":439}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"options","original":{"line":43,"column":49},"generated":{"line":1,"column":441}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":43,"column":58},"generated":{"line":1,"column":443}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"err","original":{"line":43,"column":59},"generated":{"line":1,"column":444}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"results","original":{"line":43,"column":64},"generated":{"line":1,"column":446}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"err","original":{"line":44,"column":14},"generated":{"line":1,"column":450}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"cb","original":{"line":45,"column":19},"generated":{"line":1,"column":452}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"err","original":{"line":45,"column":22},"generated":{"line":1,"column":454}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"results","original":{"line":49,"column":15},"generated":{"line":1,"column":457}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":49,"column":58},"generated":{"line":1,"column":460}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"Object","original":{"line":49,"column":26},"generated":{"line":1,"column":464}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"keys","original":{"line":49,"column":33},"generated":{"line":1,"column":471}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"results","original":{"line":49,"column":38},"generated":{"line":1,"column":476}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"length","original":{"line":49,"column":47},"generated":{"line":1,"column":479}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"cb","original":{"line":53,"column":10},"generated":{"line":1,"column":491}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":53,"column":13},"generated":{"line":1,"column":493}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"results","original":{"line":53,"column":19},"generated":{"line":1,"column":498}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"cb","original":{"line":50,"column":19},"generated":{"line":1,"column":501}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"errCode","original":{"line":50,"column":22},"generated":{"line":1,"column":503}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":50,"column":30},"generated":{"line":1,"column":505}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"Error","original":{"line":50,"column":34},"generated":{"line":1,"column":509}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":50,"column":40},"generated":{"line":1,"column":515}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":50,"column":54},"generated":{"line":1,"column":528}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":50,"column":68},"generated":{"line":1,"column":541}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"tryEach","original":{"line":57,"column":6},"generated":{"line":1,"column":549}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"tasks","original":{"line":57,"column":14},"generated":{"line":1,"column":551}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":57,"column":21},"generated":{"line":1,"column":553}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"err","original":{"line":57,"column":22},"generated":{"line":1,"column":554}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"results","original":{"line":57,"column":27},"generated":{"line":1,"column":556}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"err","original":{"line":58,"column":12},"generated":{"line":1,"column":561}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"err","original":{"line":58,"column":12},"generated":{"line":1,"column":564}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":58,"column":32},"generated":{"line":1,"column":567}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"err","original":{"line":58,"column":19},"generated":{"line":1,"column":581}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"code","original":{"line":58,"column":23},"generated":{"line":1,"column":583}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":59,"column":17},"generated":{"line":1,"column":588}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":59,"column":17},"generated":{"line":1,"column":595}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"err","original":{"line":59,"column":26},"generated":{"line":1,"column":597}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":62,"column":8},"generated":{"line":1,"column":600}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":62,"column":17},"generated":{"line":1,"column":602}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"results","original":{"line":61,"column":8},"generated":{"line":1,"column":607}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"results","original":{"line":61,"column":18},"generated":{"line":1,"column":609}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":61,"column":29},"generated":{"line":1,"column":612}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"provide","original":{"line":74,"column":4},"generated":{"line":1,"column":620}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"promisify","original":{"line":74,"column":13},"generated":{"line":1,"column":628}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":74,"column":23},"generated":{"line":1,"column":630}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"key","original":{"line":74,"column":24},"generated":{"line":1,"column":631}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":74,"column":29},"generated":{"line":1,"column":633}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":75,"column":10},"generated":{"line":1,"column":638}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"routers","original":{"line":75,"column":11},"generated":{"line":1,"column":642}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"length","original":{"line":75,"column":19},"generated":{"line":1,"column":644}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":76,"column":15},"generated":{"line":1,"column":651}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":76,"column":15},"generated":{"line":1,"column":658}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"errCode","original":{"line":76,"column":24},"generated":{"line":1,"column":660}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":76,"column":32},"generated":{"line":1,"column":662}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"Error","original":{"line":76,"column":36},"generated":{"line":1,"column":666}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":76,"column":42},"generated":{"line":1,"column":672}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","original":{"line":76,"column":75},"generated":{"line":1,"column":704}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"parallel","original":{"line":79,"column":6},"generated":{"line":1,"column":729}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"routers","original":{"line":79,"column":15},"generated":{"line":1,"column":731}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"map","original":{"line":79,"column":23},"generated":{"line":1,"column":733}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"router","original":{"line":79,"column":28},"generated":{"line":1,"column":737}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"cb","original":{"line":80,"column":16},"generated":{"line":1,"column":740}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"router","original":{"line":80,"column":23},"generated":{"line":1,"column":743}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"provide","original":{"line":80,"column":30},"generated":{"line":1,"column":745}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"key","original":{"line":80,"column":38},"generated":{"line":1,"column":753}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"cb","original":{"line":80,"column":43},"generated":{"line":1,"column":755}},{"source":"node_modules/ipfs/node_modules/libp2p/src/content-routing.js","name":"callback","original":{"line":81,"column":10},"generated":{"line":1,"column":759}}],"sources":{"node_modules/ipfs/node_modules/libp2p/src/content-routing.js":"'use strict'\n\nconst tryEach = require('async/tryEach')\nconst parallel = require('async/parallel')\nconst errCode = require('err-code')\nconst promisify = require('promisify-es6')\n\nmodule.exports = (node) => {\n  const routers = node._modules.contentRouting || []\n\n  // If we have the dht, make it first\n  if (node._dht) {\n    routers.unshift(node._dht)\n  }\n\n  return {\n    /**\n     * Iterates over all content routers in series to find providers of the given key.\n     * Once a content router succeeds, iteration will stop.\n     *\n     * @param {CID} key The CID key of the content to find\n     * @param {object} options\n     * @param {number} options.maxTimeout How long the query should run\n     * @param {number} options.maxNumProviders - maximum number of providers to find\n     * @param {function(Error, Result<Array>)} callback\n     * @returns {void}\n     */\n    findProviders: promisify((key, options, callback) => {\n      if (typeof options === 'function') {\n        callback = options\n        options = {}\n      } else if (typeof options === 'number') { // This can be deprecated in a future release\n        options = {\n          maxTimeout: options\n        }\n      }\n\n      if (!routers.length) {\n        return callback(errCode(new Error('No content routers available'), 'NO_ROUTERS_AVAILABLE'))\n      }\n\n      const tasks = routers.map((router) => {\n        return (cb) => router.findProviders(key, options, (err, results) => {\n          if (err) {\n            return cb(err)\n          }\n\n          // If we don't have any results, we need to provide an error to keep trying\n          if (!results || Object.keys(results).length === 0) {\n            return cb(errCode(new Error('not found'), 'NOT_FOUND'), null)\n          }\n\n          cb(null, results)\n        })\n      })\n\n      tryEach(tasks, (err, results) => {\n        if (err && err.code !== 'NOT_FOUND') {\n          return callback(err)\n        }\n        results = results || []\n        callback(null, results)\n      })\n    }),\n\n    /**\n     * Iterates over all content routers in parallel to notify it is\n     * a provider of the given key.\n     *\n     * @param {CID} key The CID key of the content to find\n     * @param {function(Error)} callback\n     * @returns {void}\n     */\n    provide: promisify((key, callback) => {\n      if (!routers.length) {\n        return callback(errCode(new Error('No content routers available'), 'NO_ROUTERS_AVAILABLE'))\n      }\n\n      parallel(routers.map((router) => {\n        return (cb) => router.provide(key, cb)\n      }), callback)\n    })\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"d0f085bf3b9e8860ed5c1c869abb0f21","cacheData":{"env":{}}}