{"id":"jAuK","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-keystore/package.json","includedInParent":true,"mtime":1582579778669},{"name":"libp2p-crypto","loc":{"line":2,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/libp2p-crypto/src/index.js"},{"name":"safe-buffer/","loc":{"line":3,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/safe-buffer/index.js"}],"generated":{"js":"\n\"use strict\";const e=require(\"libp2p-crypto\"),r=require(\"safe-buffer/\").Buffer;module.exports={verify:async(i,o,s)=>{if(!i)throw new Error(\"No signature given\");if(!o)throw new Error(\"Given publicKey was undefined\");if(!s)throw new Error(\"Given input data was undefined\");r.isBuffer(s)||(s=r.from(s));let n=!1;try{const f=e.keys.supportedKeys.secp256k1.unmarshalSecp256k1PublicKey(r.from(o,\"hex\"));n=await((e,r,i)=>new Promise((o,s)=>{e.verify(r,i,(e,r)=>{e||o(r),s(r)})}))(f,s,r.from(i,\"hex\"))}catch(t){}return Promise.resolve(n)}};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":1,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":2,"column":0},"generated":{"line":2,"column":13}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":2,"column":0},"generated":{"line":2,"column":19}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":2,"column":0},"generated":{"line":2,"column":21}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":2,"column":0},"generated":{"line":2,"column":29}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":3,"column":0},"generated":{"line":2,"column":46}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":3,"column":0},"generated":{"line":2,"column":48}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":3,"column":0},"generated":{"line":2,"column":56}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":3,"column":0},"generated":{"line":2,"column":72}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":5,"column":0},"generated":{"line":2,"column":79}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":5,"column":0},"generated":{"line":2,"column":86}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":5,"column":0},"generated":{"line":2,"column":94}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":6,"column":0},"generated":{"line":2,"column":95}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":6,"column":0},"generated":{"line":2,"column":102}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":6,"column":0},"generated":{"line":2,"column":108}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":6,"column":0},"generated":{"line":2,"column":110}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":6,"column":0},"generated":{"line":2,"column":112}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":7,"column":0},"generated":{"line":2,"column":117}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":7,"column":0},"generated":{"line":2,"column":121}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":8,"column":0},"generated":{"line":2,"column":123}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":8,"column":0},"generated":{"line":2,"column":129}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":8,"column":0},"generated":{"line":2,"column":133}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":8,"column":0},"generated":{"line":2,"column":139}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":10,"column":0},"generated":{"line":2,"column":161}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":10,"column":0},"generated":{"line":2,"column":165}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":11,"column":0},"generated":{"line":2,"column":167}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":11,"column":0},"generated":{"line":2,"column":173}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":11,"column":0},"generated":{"line":2,"column":177}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":11,"column":0},"generated":{"line":2,"column":183}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":13,"column":0},"generated":{"line":2,"column":216}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":13,"column":0},"generated":{"line":2,"column":220}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":14,"column":0},"generated":{"line":2,"column":222}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":14,"column":0},"generated":{"line":2,"column":228}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":14,"column":0},"generated":{"line":2,"column":232}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":14,"column":0},"generated":{"line":2,"column":238}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":17,"column":0},"generated":{"line":2,"column":272}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":17,"column":0},"generated":{"line":2,"column":274}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":17,"column":0},"generated":{"line":2,"column":283}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":18,"column":0},"generated":{"line":2,"column":288}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":18,"column":0},"generated":{"line":2,"column":290}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":18,"column":0},"generated":{"line":2,"column":292}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":18,"column":0},"generated":{"line":2,"column":297}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":30,"column":0},"generated":{"line":2,"column":301}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":30,"column":0},"generated":{"line":2,"column":305}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":30,"column":0},"generated":{"line":2,"column":308}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":31,"column":0},"generated":{"line":2,"column":310}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":314}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":320}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":322}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":324}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":329}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":343}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":353}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":381}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":383}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":388}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":32,"column":0},"generated":{"line":2,"column":390}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":33,"column":0},"generated":{"line":2,"column":398}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":21,"column":0},"generated":{"line":2,"column":405}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":21,"column":0},"generated":{"line":2,"column":407}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":21,"column":0},"generated":{"line":2,"column":409}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":21,"column":0},"generated":{"line":2,"column":411}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":21,"column":0},"generated":{"line":2,"column":415}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":21,"column":0},"generated":{"line":2,"column":419}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":21,"column":0},"generated":{"line":2,"column":427}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":21,"column":0},"generated":{"line":2,"column":428}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":21,"column":0},"generated":{"line":2,"column":430}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":22,"column":0},"generated":{"line":2,"column":435}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":22,"column":0},"generated":{"line":2,"column":437}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":22,"column":0},"generated":{"line":2,"column":444}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":22,"column":0},"generated":{"line":2,"column":446}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":22,"column":0},"generated":{"line":2,"column":448}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":22,"column":0},"generated":{"line":2,"column":449}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":22,"column":0},"generated":{"line":2,"column":451}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":23,"column":0},"generated":{"line":2,"column":456}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":24,"column":0},"generated":{"line":2,"column":459}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":24,"column":0},"generated":{"line":2,"column":461}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":26,"column":0},"generated":{"line":2,"column":464}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":26,"column":0},"generated":{"line":2,"column":466}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":33,"column":0},"generated":{"line":2,"column":473}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":33,"column":0},"generated":{"line":2,"column":474}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":33,"column":0},"generated":{"line":2,"column":476}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":33,"column":0},"generated":{"line":2,"column":478}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":33,"column":0},"generated":{"line":2,"column":480}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":33,"column":0},"generated":{"line":2,"column":485}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":33,"column":0},"generated":{"line":2,"column":487}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":34,"column":0},"generated":{"line":2,"column":495}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":34,"column":0},"generated":{"line":2,"column":501}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":37,"column":0},"generated":{"line":2,"column":505}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":37,"column":0},"generated":{"line":2,"column":512}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":37,"column":0},"generated":{"line":2,"column":520}},{"source":"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js","original":{"line":37,"column":0},"generated":{"line":2,"column":528}}],"sources":{"node_modules/orbit-db-keystore/src/verifiers/verifierv1.js":"'use strict'\nconst crypto = require('libp2p-crypto')\nconst Buffer = require('safe-buffer/').Buffer\n\nmodule.exports = {\n  verify: async (signature, publicKey, data) => {\n    if (!signature) {\n      throw new Error('No signature given')\n    }\n    if (!publicKey) {\n      throw new Error('Given publicKey was undefined')\n    }\n    if (!data) {\n      throw new Error('Given input data was undefined')\n    }\n\n    if (!Buffer.isBuffer(data)) {\n      data = Buffer.from(data)\n    }\n\n    const isValid = (key, msg, sig) => new Promise((resolve, reject) => {\n      key.verify(msg, sig, (err, valid) => {\n        if (!err) {\n          resolve(valid)\n        }\n        reject(valid)\n      })\n    })\n\n    let res = false\n    try {\n      const pubKey = crypto.keys.supportedKeys.secp256k1.unmarshalSecp256k1PublicKey(Buffer.from(publicKey, 'hex'))\n      res = await isValid(pubKey, data, Buffer.from(signature, 'hex'))\n    } catch (e) {\n      // Catch error: sig length wrong\n    }\n    return Promise.resolve(res)\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"39738ddc807759f05e7943e4347264a7","cacheData":{"env":{}}}