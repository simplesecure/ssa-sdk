{"id":"GFKH","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/package.json","includedInParent":true,"mtime":1582579780206},{"name":"err-code","loc":{"line":3,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/err-code/index.js"},{"name":"./utils/update-tree","loc":{"line":4,"column":27},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/utils/update-tree.js"},{"name":"./utils/update-mfs-root","loc":{"line":5,"column":30},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/utils/update-mfs-root.js"},{"name":"./utils/to-sources","loc":{"line":6,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/utils/to-sources.js"},{"name":"./utils/remove-link","loc":{"line":7,"column":27},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/utils/remove-link.js"},{"name":"./utils/to-mfs-path","loc":{"line":8,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/utils/to-mfs-path.js"},{"name":"./utils/to-trail","loc":{"line":9,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/utils/to-trail.js"},{"name":"./utils/apply-default-options","loc":{"line":10,"column":36},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/utils/apply-default-options.js"},{"name":"./utils/constants","loc":{"line":13,"column":12},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-mfs/src/core/utils/constants.js"}],"generated":{"js":"\"use strict\";const r=require(\"err-code\"),e=require(\"./utils/update-tree\"),t=require(\"./utils/update-mfs-root\"),o=require(\"./utils/to-sources\"),i=require(\"./utils/remove-link\"),s=require(\"./utils/to-mfs-path\"),a=require(\"./utils/to-trail\"),u=require(\"./utils/apply-default-options\"),{FILE_SEPARATOR:n}=require(\"./utils/constants\"),c={recursive:!1,cidVersion:0,hashAlg:\"sha2-256\",format:\"dag-pb\",flush:!0};module.exports=(e=>(async function(){const t=Array.from(arguments),{sources:i}=await o(e,t,c),s=u(t,c);if(!i.length)throw r(new Error(\"Please supply at least one path to remove\"),\"ERR_INVALID_PARAMS\");i.forEach(e=>{if(e.path===n)throw r(new Error(\"Cannot delete root\"),\"ERR_INVALID_PARAMS\")});for(const r of i)await l(e,r.path,s)}));const l=async(o,u,n)=>{const c=await s(o,u),l=await a(o,c.mfsPath,n),h=l.pop(),f=l[l.length-1];if(!f)throw r(new Error(`${u} does not exist`),\"ERR_NOT_FOUND\");if(\"directory\"===h.type&&!n.recursive)throw r(new Error(`${u} is a directory, use -r to remove directories`),\"ERR_WAS_DIR\");const{cid:d}=await i(o,{parentCid:f.cid,name:h.name,format:n.format,hashAlg:n.hashAlg,cidVersion:n.cidVersion,flush:n.flush});f.cid=d;const p=await e(o,l,n);await t(o,p)};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"errCode","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"require","original":{"line":3,"column":16},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":3,"column":24},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"updateTree","original":{"line":4,"column":6},"generated":{"line":1,"column":41}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"require","original":{"line":4,"column":19},"generated":{"line":1,"column":43}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":4,"column":27},"generated":{"line":1,"column":51}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"updateMfsRoot","original":{"line":5,"column":6},"generated":{"line":1,"column":74}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"require","original":{"line":5,"column":22},"generated":{"line":1,"column":76}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":5,"column":30},"generated":{"line":1,"column":84}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"toSources","original":{"line":6,"column":6},"generated":{"line":1,"column":111}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"require","original":{"line":6,"column":18},"generated":{"line":1,"column":113}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":6,"column":26},"generated":{"line":1,"column":121}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"removeLink","original":{"line":7,"column":6},"generated":{"line":1,"column":143}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"require","original":{"line":7,"column":19},"generated":{"line":1,"column":145}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":7,"column":27},"generated":{"line":1,"column":153}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"toMfsPath","original":{"line":8,"column":6},"generated":{"line":1,"column":176}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"require","original":{"line":8,"column":18},"generated":{"line":1,"column":178}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":8,"column":26},"generated":{"line":1,"column":186}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"toTrail","original":{"line":9,"column":6},"generated":{"line":1,"column":209}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"require","original":{"line":9,"column":16},"generated":{"line":1,"column":211}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":9,"column":24},"generated":{"line":1,"column":219}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"applyDefaultOptions","original":{"line":10,"column":6},"generated":{"line":1,"column":239}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"require","original":{"line":10,"column":28},"generated":{"line":1,"column":241}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":10,"column":36},"generated":{"line":1,"column":249}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":11,"column":6},"generated":{"line":1,"column":283}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"FILE_SEPARATOR","original":{"line":12,"column":2},"generated":{"line":1,"column":298}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"require","original":{"line":13,"column":4},"generated":{"line":1,"column":301}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":13,"column":12},"generated":{"line":1,"column":309}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"defaultOptions","original":{"line":15,"column":6},"generated":{"line":1,"column":330}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":15,"column":23},"generated":{"line":1,"column":332}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"recursive","original":{"line":16,"column":2},"generated":{"line":1,"column":333}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":16,"column":13},"generated":{"line":1,"column":344}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"cidVersion","original":{"line":17,"column":2},"generated":{"line":1,"column":346}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":17,"column":14},"generated":{"line":1,"column":357}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"hashAlg","original":{"line":18,"column":2},"generated":{"line":1,"column":359}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":18,"column":11},"generated":{"line":1,"column":367}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"format","original":{"line":19,"column":2},"generated":{"line":1,"column":378}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":19,"column":10},"generated":{"line":1,"column":385}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"flush","original":{"line":20,"column":2},"generated":{"line":1,"column":394}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":20,"column":9},"generated":{"line":1,"column":401}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"module","original":{"line":23,"column":0},"generated":{"line":1,"column":404}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"exports","original":{"line":23,"column":7},"generated":{"line":1,"column":411}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"context","original":{"line":23,"column":18},"generated":{"line":1,"column":419}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"context","original":{"line":23,"column":18},"generated":{"line":1,"column":420}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":24,"column":9},"generated":{"line":1,"column":424}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"args","original":{"line":25,"column":10},"generated":{"line":1,"column":441}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"args","original":{"line":25,"column":10},"generated":{"line":1,"column":447}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"Array","original":{"line":25,"column":17},"generated":{"line":1,"column":449}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"from","original":{"line":25,"column":23},"generated":{"line":1,"column":455}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"arguments","original":{"line":25,"column":28},"generated":{"line":1,"column":460}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":27,"column":10},"generated":{"line":1,"column":472}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"sources","original":{"line":28,"column":6},"generated":{"line":1,"column":480}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"toSources","original":{"line":29,"column":14},"generated":{"line":1,"column":489}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"context","original":{"line":29,"column":24},"generated":{"line":1,"column":491}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"args","original":{"line":29,"column":33},"generated":{"line":1,"column":493}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"defaultOptions","original":{"line":29,"column":39},"generated":{"line":1,"column":495}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"options","original":{"line":30,"column":10},"generated":{"line":1,"column":498}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"applyDefaultOptions","original":{"line":30,"column":20},"generated":{"line":1,"column":500}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"args","original":{"line":30,"column":40},"generated":{"line":1,"column":502}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"defaultOptions","original":{"line":30,"column":46},"generated":{"line":1,"column":504}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":32,"column":8},"generated":{"line":1,"column":507}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"sources","original":{"line":32,"column":9},"generated":{"line":1,"column":511}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"length","original":{"line":32,"column":17},"generated":{"line":1,"column":513}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"errCode","original":{"line":33,"column":12},"generated":{"line":1,"column":520}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"errCode","original":{"line":33,"column":12},"generated":{"line":1,"column":526}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":33,"column":20},"generated":{"line":1,"column":528}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"Error","original":{"line":33,"column":24},"generated":{"line":1,"column":532}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":33,"column":30},"generated":{"line":1,"column":538}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":33,"column":76},"generated":{"line":1,"column":583}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"sources","original":{"line":36,"column":4},"generated":{"line":1,"column":605}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"forEach","original":{"line":36,"column":12},"generated":{"line":1,"column":607}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"source","original":{"line":36,"column":20},"generated":{"line":1,"column":615}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"source","original":{"line":37,"column":10},"generated":{"line":1,"column":619}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"source","original":{"line":37,"column":10},"generated":{"line":1,"column":622}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"path","original":{"line":37,"column":17},"generated":{"line":1,"column":624}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"FILE_SEPARATOR","original":{"line":37,"column":26},"generated":{"line":1,"column":631}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"errCode","original":{"line":38,"column":14},"generated":{"line":1,"column":633}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"errCode","original":{"line":38,"column":14},"generated":{"line":1,"column":639}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":38,"column":22},"generated":{"line":1,"column":641}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"Error","original":{"line":38,"column":26},"generated":{"line":1,"column":645}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":38,"column":32},"generated":{"line":1,"column":651}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":38,"column":55},"generated":{"line":1,"column":673}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":42,"column":9},"generated":{"line":1,"column":697}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":42,"column":9},"generated":{"line":1,"column":701}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"source","original":{"line":42,"column":15},"generated":{"line":1,"column":707}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"sources","original":{"line":42,"column":25},"generated":{"line":1,"column":712}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"removePath","original":{"line":43,"column":12},"generated":{"line":1,"column":720}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"context","original":{"line":43,"column":23},"generated":{"line":1,"column":722}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"source","original":{"line":43,"column":32},"generated":{"line":1,"column":724}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"path","original":{"line":43,"column":39},"generated":{"line":1,"column":726}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"options","original":{"line":43,"column":45},"generated":{"line":1,"column":731}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":48,"column":0},"generated":{"line":1,"column":737}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"removePath","original":{"line":48,"column":6},"generated":{"line":1,"column":743}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":48,"column":19},"generated":{"line":1,"column":745}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"context","original":{"line":48,"column":26},"generated":{"line":1,"column":751}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"path","original":{"line":48,"column":35},"generated":{"line":1,"column":753}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"options","original":{"line":48,"column":41},"generated":{"line":1,"column":755}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"mfsPath","original":{"line":49,"column":8},"generated":{"line":1,"column":760}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"mfsPath","original":{"line":49,"column":8},"generated":{"line":1,"column":766}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"toMfsPath","original":{"line":49,"column":24},"generated":{"line":1,"column":774}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"context","original":{"line":49,"column":34},"generated":{"line":1,"column":776}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"path","original":{"line":49,"column":43},"generated":{"line":1,"column":778}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"trail","original":{"line":50,"column":8},"generated":{"line":1,"column":781}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"toTrail","original":{"line":50,"column":22},"generated":{"line":1,"column":789}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"context","original":{"line":50,"column":30},"generated":{"line":1,"column":791}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"mfsPath","original":{"line":50,"column":39},"generated":{"line":1,"column":793}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"mfsPath","original":{"line":50,"column":47},"generated":{"line":1,"column":795}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"options","original":{"line":50,"column":56},"generated":{"line":1,"column":803}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"child","original":{"line":51,"column":8},"generated":{"line":1,"column":806}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"trail","original":{"line":51,"column":16},"generated":{"line":1,"column":808}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"pop","original":{"line":51,"column":22},"generated":{"line":1,"column":810}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"parent","original":{"line":52,"column":8},"generated":{"line":1,"column":816}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"trail","original":{"line":52,"column":17},"generated":{"line":1,"column":818}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"trail","original":{"line":52,"column":23},"generated":{"line":1,"column":820}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"length","original":{"line":52,"column":29},"generated":{"line":1,"column":822}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":52,"column":38},"generated":{"line":1,"column":829}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":54,"column":6},"generated":{"line":1,"column":832}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"parent","original":{"line":54,"column":7},"generated":{"line":1,"column":836}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"errCode","original":{"line":55,"column":10},"generated":{"line":1,"column":838}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"errCode","original":{"line":55,"column":10},"generated":{"line":1,"column":844}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":55,"column":18},"generated":{"line":1,"column":846}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"Error","original":{"line":55,"column":22},"generated":{"line":1,"column":850}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"path","original":{"line":55,"column":31},"generated":{"line":1,"column":859}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":55,"column":55},"generated":{"line":1,"column":879}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"child","original":{"line":58,"column":6},"generated":{"line":1,"column":896}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":58,"column":21},"generated":{"line":1,"column":899}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"child","original":{"line":58,"column":6},"generated":{"line":1,"column":913}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"type","original":{"line":58,"column":12},"generated":{"line":1,"column":915}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"options","original":{"line":58,"column":37},"generated":{"line":1,"column":922}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"recursive","original":{"line":58,"column":45},"generated":{"line":1,"column":924}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"errCode","original":{"line":59,"column":10},"generated":{"line":1,"column":934}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"errCode","original":{"line":59,"column":10},"generated":{"line":1,"column":940}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":59,"column":18},"generated":{"line":1,"column":942}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"Error","original":{"line":59,"column":22},"generated":{"line":1,"column":946}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"path","original":{"line":59,"column":31},"generated":{"line":1,"column":955}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":59,"column":85},"generated":{"line":1,"column":1005}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":62,"column":8},"generated":{"line":1,"column":1020}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":62,"column":8},"generated":{"line":1,"column":1026}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"cid","original":{"line":63,"column":4},"generated":{"line":1,"column":1030}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"removeLink","original":{"line":64,"column":12},"generated":{"line":1,"column":1039}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"context","original":{"line":64,"column":23},"generated":{"line":1,"column":1041}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","original":{"line":64,"column":32},"generated":{"line":1,"column":1043}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"parentCid","original":{"line":65,"column":4},"generated":{"line":1,"column":1044}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"parent","original":{"line":65,"column":15},"generated":{"line":1,"column":1054}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"cid","original":{"line":65,"column":22},"generated":{"line":1,"column":1056}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"name","original":{"line":66,"column":4},"generated":{"line":1,"column":1060}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"child","original":{"line":66,"column":10},"generated":{"line":1,"column":1065}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"name","original":{"line":66,"column":16},"generated":{"line":1,"column":1067}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"format","original":{"line":67,"column":4},"generated":{"line":1,"column":1072}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"options","original":{"line":67,"column":12},"generated":{"line":1,"column":1079}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"format","original":{"line":67,"column":20},"generated":{"line":1,"column":1081}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"hashAlg","original":{"line":68,"column":4},"generated":{"line":1,"column":1088}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"options","original":{"line":68,"column":13},"generated":{"line":1,"column":1096}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"hashAlg","original":{"line":68,"column":21},"generated":{"line":1,"column":1098}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"cidVersion","original":{"line":69,"column":4},"generated":{"line":1,"column":1106}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"options","original":{"line":69,"column":16},"generated":{"line":1,"column":1117}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"cidVersion","original":{"line":69,"column":24},"generated":{"line":1,"column":1119}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"flush","original":{"line":70,"column":4},"generated":{"line":1,"column":1130}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"options","original":{"line":70,"column":11},"generated":{"line":1,"column":1136}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"flush","original":{"line":70,"column":19},"generated":{"line":1,"column":1138}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"parent","original":{"line":73,"column":2},"generated":{"line":1,"column":1146}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"cid","original":{"line":73,"column":9},"generated":{"line":1,"column":1148}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"cid","original":{"line":73,"column":15},"generated":{"line":1,"column":1152}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"newRootCid","original":{"line":76,"column":8},"generated":{"line":1,"column":1154}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"newRootCid","original":{"line":76,"column":8},"generated":{"line":1,"column":1160}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"updateTree","original":{"line":76,"column":27},"generated":{"line":1,"column":1168}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"context","original":{"line":76,"column":38},"generated":{"line":1,"column":1170}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"trail","original":{"line":76,"column":47},"generated":{"line":1,"column":1172}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"options","original":{"line":76,"column":54},"generated":{"line":1,"column":1174}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"updateMfsRoot","original":{"line":79,"column":8},"generated":{"line":1,"column":1183}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"context","original":{"line":79,"column":22},"generated":{"line":1,"column":1185}},{"source":"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js","name":"newRootCid","original":{"line":79,"column":31},"generated":{"line":1,"column":1187}}],"sources":{"node_modules/ipfs/node_modules/ipfs-mfs/src/core/rm.js":"'use strict'\n\nconst errCode = require('err-code')\nconst updateTree = require('./utils/update-tree')\nconst updateMfsRoot = require('./utils/update-mfs-root')\nconst toSources = require('./utils/to-sources')\nconst removeLink = require('./utils/remove-link')\nconst toMfsPath = require('./utils/to-mfs-path')\nconst toTrail = require('./utils/to-trail')\nconst applyDefaultOptions = require('./utils/apply-default-options')\nconst {\n  FILE_SEPARATOR\n} = require('./utils/constants')\n\nconst defaultOptions = {\n  recursive: false,\n  cidVersion: 0,\n  hashAlg: 'sha2-256',\n  format: 'dag-pb',\n  flush: true\n}\n\nmodule.exports = (context) => {\n  return async function mfsRm () {\n    const args = Array.from(arguments)\n\n    const {\n      sources\n    } = await toSources(context, args, defaultOptions)\n    const options = applyDefaultOptions(args, defaultOptions)\n\n    if (!sources.length) {\n      throw errCode(new Error('Please supply at least one path to remove'), 'ERR_INVALID_PARAMS')\n    }\n\n    sources.forEach(source => {\n      if (source.path === FILE_SEPARATOR) {\n        throw errCode(new Error('Cannot delete root'), 'ERR_INVALID_PARAMS')\n      }\n    })\n\n    for (const source of sources) {\n      await removePath(context, source.path, options)\n    }\n  }\n}\n\nconst removePath = async (context, path, options) => {\n  const mfsPath = await toMfsPath(context, path)\n  const trail = await toTrail(context, mfsPath.mfsPath, options)\n  const child = trail.pop()\n  const parent = trail[trail.length - 1]\n\n  if (!parent) {\n    throw errCode(new Error(`${path} does not exist`), 'ERR_NOT_FOUND')\n  }\n\n  if (child.type === 'directory' && !options.recursive) {\n    throw errCode(new Error(`${path} is a directory, use -r to remove directories`), 'ERR_WAS_DIR')\n  }\n\n  const {\n    cid\n  } = await removeLink(context, {\n    parentCid: parent.cid,\n    name: child.name,\n    format: options.format,\n    hashAlg: options.hashAlg,\n    cidVersion: options.cidVersion,\n    flush: options.flush\n  })\n\n  parent.cid = cid\n\n  // update the tree with the new child\n  const newRootCid = await updateTree(context, trail, options)\n\n  // Update the MFS record with the new CID for the root of the tree\n  await updateMfsRoot(context, newRootCid)\n}\n"},"lineCount":null}},"error":null,"hash":"c2e80df5ad8b822a79a58bd60e6f32a7","cacheData":{"env":{}}}