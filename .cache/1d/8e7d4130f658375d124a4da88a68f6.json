{"id":"H4qF","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/package.json","includedInParent":true,"mtime":1582579778668},{"name":"ipfs-repo","loc":{"line":3,"column":28},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/repo.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo/src/index.js"},{"name":"callbackify","loc":{"line":4,"column":28},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/repo.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/callbackify/index.js"},{"name":"./pin/gc","loc":{"line":41,"column":16},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/repo.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/src/core/components/pin/gc.js"}],"generated":{"js":"\"use strict\";const e=require(\"ipfs-repo\").repoVersion,r=require(\"callbackify\");module.exports=function(t){return{init:r(async(e,r)=>{}),version:r(async()=>{try{await t._repo._checkInitialized()}catch(r){if([/Key not found in database \\[\\/version\\]/,/ENOENT/,/repo is not initialized yet/].some(e=>e.test(r.message)))return e;throw r}return t._repo.version.get()}),gc:require(\"./pin/gc\")(t),stat:r.variadic(async e=>{e=e||{};const r=await t._repo.stat(e);return{numObjects:r.numObjects,repoSize:r.repoSize,repoPath:r.repoPath,version:r.version.toString(),storageMax:r.storageMax}}),path:()=>t._repo.path}};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"repoVersion","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"require","original":{"line":3,"column":20},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":3,"column":28},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"repoVersion","original":{"line":3,"column":41},"generated":{"line":1,"column":42}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"callbackify","original":{"line":4,"column":6},"generated":{"line":1,"column":54}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"require","original":{"line":4,"column":20},"generated":{"line":1,"column":56}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":4,"column":28},"generated":{"line":1,"column":64}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"module","original":{"line":6,"column":0},"generated":{"line":1,"column":79}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"exports","original":{"line":6,"column":7},"generated":{"line":1,"column":86}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":6,"column":17},"generated":{"line":1,"column":94}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"self","original":{"line":6,"column":32},"generated":{"line":1,"column":103}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":7,"column":9},"generated":{"line":1,"column":106}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":7,"column":9},"generated":{"line":1,"column":112}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"init","original":{"line":8,"column":4},"generated":{"line":1,"column":113}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"callbackify","original":{"line":8,"column":10},"generated":{"line":1,"column":118}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":8,"column":22},"generated":{"line":1,"column":120}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"bits","original":{"line":8,"column":29},"generated":{"line":1,"column":126}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"empty","original":{"line":8,"column":35},"generated":{"line":1,"column":128}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"version","original":{"line":19,"column":4},"generated":{"line":1,"column":136}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"callbackify","original":{"line":19,"column":13},"generated":{"line":1,"column":144}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":19,"column":25},"generated":{"line":1,"column":146}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":20,"column":10},"generated":{"line":1,"column":156}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"self","original":{"line":21,"column":14},"generated":{"line":1,"column":166}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"_repo","original":{"line":21,"column":19},"generated":{"line":1,"column":168}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"_checkInitialized","original":{"line":21,"column":25},"generated":{"line":1,"column":174}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":22,"column":8},"generated":{"line":1,"column":194}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"err","original":{"line":22,"column":15},"generated":{"line":1,"column":200}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"match","original":{"line":31,"column":12},"generated":{"line":1,"column":203}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":24,"column":22},"generated":{"line":1,"column":206}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":25,"column":10},"generated":{"line":1,"column":207}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":26,"column":10},"generated":{"line":1,"column":249}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":27,"column":10},"generated":{"line":1,"column":258}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"some","original":{"line":28,"column":10},"generated":{"line":1,"column":289}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"m","original":{"line":28,"column":16},"generated":{"line":1,"column":294}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"m","original":{"line":29,"column":17},"generated":{"line":1,"column":297}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"test","original":{"line":29,"column":19},"generated":{"line":1,"column":299}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"err","original":{"line":29,"column":24},"generated":{"line":1,"column":304}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"message","original":{"line":29,"column":28},"generated":{"line":1,"column":306}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"repoVersion","original":{"line":33,"column":17},"generated":{"line":1,"column":316}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"repoVersion","original":{"line":33,"column":17},"generated":{"line":1,"column":323}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"err","original":{"line":35,"column":14},"generated":{"line":1,"column":325}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"err","original":{"line":35,"column":14},"generated":{"line":1,"column":331}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"self","original":{"line":38,"column":13},"generated":{"line":1,"column":333}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"self","original":{"line":38,"column":13},"generated":{"line":1,"column":340}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"_repo","original":{"line":38,"column":18},"generated":{"line":1,"column":342}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"version","original":{"line":38,"column":24},"generated":{"line":1,"column":348}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"get","original":{"line":38,"column":32},"generated":{"line":1,"column":356}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"gc","original":{"line":41,"column":4},"generated":{"line":1,"column":364}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"require","original":{"line":41,"column":8},"generated":{"line":1,"column":367}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":41,"column":16},"generated":{"line":1,"column":375}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"require","original":{"line":41,"column":8},"generated":{"line":1,"column":386}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"self","original":{"line":41,"column":28},"generated":{"line":1,"column":387}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"stat","original":{"line":43,"column":4},"generated":{"line":1,"column":390}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"callbackify","original":{"line":43,"column":10},"generated":{"line":1,"column":395}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"variadic","original":{"line":43,"column":22},"generated":{"line":1,"column":397}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":43,"column":31},"generated":{"line":1,"column":406}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":43,"column":31},"generated":{"line":1,"column":412}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"options","original":{"line":44,"column":6},"generated":{"line":1,"column":416}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"options","original":{"line":44,"column":16},"generated":{"line":1,"column":418}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":44,"column":27},"generated":{"line":1,"column":421}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"stats","original":{"line":46,"column":12},"generated":{"line":1,"column":424}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"stats","original":{"line":46,"column":12},"generated":{"line":1,"column":430}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"self","original":{"line":46,"column":26},"generated":{"line":1,"column":438}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"_repo","original":{"line":46,"column":31},"generated":{"line":1,"column":440}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"stat","original":{"line":46,"column":37},"generated":{"line":1,"column":446}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"options","original":{"line":46,"column":42},"generated":{"line":1,"column":451}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":48,"column":13},"generated":{"line":1,"column":454}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":48,"column":13},"generated":{"line":1,"column":460}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"numObjects","original":{"line":49,"column":8},"generated":{"line":1,"column":461}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"stats","original":{"line":49,"column":20},"generated":{"line":1,"column":472}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"numObjects","original":{"line":49,"column":26},"generated":{"line":1,"column":474}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"repoSize","original":{"line":50,"column":8},"generated":{"line":1,"column":485}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"stats","original":{"line":50,"column":18},"generated":{"line":1,"column":494}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"repoSize","original":{"line":50,"column":24},"generated":{"line":1,"column":496}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"repoPath","original":{"line":51,"column":8},"generated":{"line":1,"column":505}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"stats","original":{"line":51,"column":18},"generated":{"line":1,"column":514}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"repoPath","original":{"line":51,"column":24},"generated":{"line":1,"column":516}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"version","original":{"line":52,"column":8},"generated":{"line":1,"column":525}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"stats","original":{"line":52,"column":17},"generated":{"line":1,"column":533}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"version","original":{"line":52,"column":23},"generated":{"line":1,"column":535}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"toString","original":{"line":52,"column":31},"generated":{"line":1,"column":543}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"storageMax","original":{"line":53,"column":8},"generated":{"line":1,"column":554}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"stats","original":{"line":53,"column":20},"generated":{"line":1,"column":565}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"storageMax","original":{"line":53,"column":26},"generated":{"line":1,"column":567}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"path","original":{"line":57,"column":4},"generated":{"line":1,"column":581}},{"source":"node_modules/ipfs/src/core/components/repo.js","original":{"line":57,"column":10},"generated":{"line":1,"column":586}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"self","original":{"line":57,"column":16},"generated":{"line":1,"column":590}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"_repo","original":{"line":57,"column":21},"generated":{"line":1,"column":592}},{"source":"node_modules/ipfs/src/core/components/repo.js","name":"path","original":{"line":57,"column":27},"generated":{"line":1,"column":598}}],"sources":{"node_modules/ipfs/src/core/components/repo.js":"'use strict'\n\nconst repoVersion = require('ipfs-repo').repoVersion\nconst callbackify = require('callbackify')\n\nmodule.exports = function repo (self) {\n  return {\n    init: callbackify(async (bits, empty) => {\n      // 1. check if repo already exists\n    }),\n\n    /**\n     * If the repo has been initialized, report the current version.\n     * Otherwise report the version that would be initialized.\n     *\n     * @param {function(Error, Number)} [callback]\n     * @returns {undefined}\n     */\n    version: callbackify(async () => {\n      try {\n        await self._repo._checkInitialized()\n      } catch (err) {\n        // TODO: (dryajov) This is really hacky, there must be a better way\n        const match = [\n          /Key not found in database \\[\\/version\\]/,\n          /ENOENT/,\n          /repo is not initialized yet/\n        ].some((m) => {\n          return m.test(err.message)\n        })\n        if (match) {\n          // this repo has not been initialized\n          return repoVersion\n        }\n        throw err\n      }\n\n      return self._repo.version.get()\n    }),\n\n    gc: require('./pin/gc')(self),\n\n    stat: callbackify.variadic(async (options) => {\n      options = options || {}\n\n      const stats = await self._repo.stat(options)\n\n      return {\n        numObjects: stats.numObjects,\n        repoSize: stats.repoSize,\n        repoPath: stats.repoPath,\n        version: stats.version.toString(),\n        storageMax: stats.storageMax\n      }\n    }),\n\n    path: () => self._repo.path\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"fdf45d2b96e475d7717ac1167a11aa48","cacheData":{"env":{}}}