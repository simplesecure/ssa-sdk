{"id":"lpXY","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-identity-provider/package.json","includedInParent":true,"mtime":1582579778662},{"name":"./identity","loc":{"line":2,"column":25},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-identity-provider/src/identities.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-identity-provider/src/identity.js"},{"name":"./identity-provider-interface.js","loc":{"line":3,"column":33},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-identity-provider/src/identities.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-identity-provider/src/identity-provider-interface.js"},{"name":"./orbit-db-identity-provider","loc":{"line":4,"column":40},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-identity-provider/src/identities.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-identity-provider/src/orbit-db-identity-provider.js"},{"name":"orbit-db-keystore","loc":{"line":5,"column":25},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-identity-provider/src/identities.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-keystore/src/keystore.js"},{"name":"lru","loc":{"line":7,"column":20},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-identity-provider/src/identities.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/lru/index.js"},{"name":"path","loc":{"line":8,"column":21},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-identity-provider/src/identities.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/path-browserify/index.js"}],"generated":{"js":"\"use strict\";const e=require(\"./identity\"),t=require(\"./identity-provider-interface.js\"),i=require(\"./orbit-db-identity-provider\"),r=require(\"orbit-db-keystore\"),s=require(\"lru\"),n=require(\"path\"),y=\"orbitdb\",o=n.join(\"./orbitdb\",\"identity\",\"identitykeys\"),a={orbitdb:i},d=e=>{if(!g.isSupported(e))throw new Error(`IdentityProvider type '${e}' is not supported`);return a[e]};class g{constructor(e){this._keystore=e.keystore,this._signingKeystore=e.signingKeystore||this._keystore,this._knownIdentities=e.cache||new s(e.cacheSize||100)}static get IdentityProvider(){return t}get keystore(){return this._keystore}get signingKeystore(){return this._signingKeystore}async sign(e,t){const i=await this.keystore.getKey(e.id);if(!i)throw new Error(\"Private signing key not found from Keystore\");return await this.keystore.sign(i,t)}async verify(e,t,i,r=\"v1\"){return this.keystore.verify(e,t,i,r)}async createIdentity(t={}){const r=t.keystore||this.keystore,s=t.type||y,n=s===y?new i(t.signingKeystore||r):new(d(s))(t),o=await n.getId(t);t.migrate&&await t.migrate({targetStore:r._store,targetId:o});const{publicKey:a,idSignature:g}=await this.signId(o),u=await n.signIdentity(a+g,t);return new e(o,a,g,u,s,this)}async signId(e){const t=this.keystore,i=await t.getKey(e)||await t.createKey(e);return{publicKey:t.getPublic(i),idSignature:await t.sign(i,e)}}async verifyIdentity(t){if(!e.isIdentity(t))return!1;const i=this._knownIdentities.get(t.signatures.id);if(i)return t.id===i.id&&t.publicKey===i.publicKey&&t.signatures.id===i.signatures.id&&t.signatures.publicKey===i.signatures.publicKey;if(!(await this.keystore.verify(t.signatures.id,t.publicKey,t.id)))return!1;const r=d(t.type),s=await r.verifyIdentity(t);return s&&this._knownIdentities.set(t.signatures.id,e.toJSON(t)),s}static async verifyIdentity(t){if(!e.isIdentity(t))return!1;return!!(await r.verify(t.signatures.id,t.publicKey,t.id))&&d(t.type).verifyIdentity(t)}static async createIdentity(e={}){return e.keystore||(e.keystore=new r(e.identityKeysPath||o)),e.signingKeystore||(e.signingKeysPath?e.signingKeystore=new r(e.signingKeysPath):e.signingKeystore=e.keystore),e=Object.assign({},{type:y},e),new g(e).createIdentity(e)}static isSupported(e){return Object.keys(a).includes(e)}static addIdentityProvider(e){if(!e)throw new Error(\"IdentityProvider class needs to be given as an option\");if(!e.type||\"string\"!=typeof e.type)throw new Error(\"Given IdentityProvider class needs to implement: static get type() { /* return a string */}.\");a[e.type]=e}static removeIdentityProvider(e){delete a[e]}}module.exports=g;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":2,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":2,"column":0},"generated":{"line":1,"column":21}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":2,"column":0},"generated":{"line":1,"column":29}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":3,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":3,"column":0},"generated":{"line":1,"column":45}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":3,"column":0},"generated":{"line":1,"column":53}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":4,"column":0},"generated":{"line":1,"column":89}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":4,"column":0},"generated":{"line":1,"column":91}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":4,"column":0},"generated":{"line":1,"column":99}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":5,"column":0},"generated":{"line":1,"column":131}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":5,"column":0},"generated":{"line":1,"column":133}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":5,"column":0},"generated":{"line":1,"column":141}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":7,"column":0},"generated":{"line":1,"column":162}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":7,"column":0},"generated":{"line":1,"column":164}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":7,"column":0},"generated":{"line":1,"column":172}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":8,"column":0},"generated":{"line":1,"column":179}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":8,"column":0},"generated":{"line":1,"column":181}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":8,"column":0},"generated":{"line":1,"column":189}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":10,"column":0},"generated":{"line":1,"column":197}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":10,"column":0},"generated":{"line":1,"column":199}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":11,"column":0},"generated":{"line":1,"column":209}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":11,"column":0},"generated":{"line":1,"column":211}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":11,"column":0},"generated":{"line":1,"column":213}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":11,"column":0},"generated":{"line":1,"column":218}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":11,"column":0},"generated":{"line":1,"column":230}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":11,"column":0},"generated":{"line":1,"column":241}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":13,"column":0},"generated":{"line":1,"column":257}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":13,"column":0},"generated":{"line":1,"column":259}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":14,"column":0},"generated":{"line":1,"column":260}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":14,"column":0},"generated":{"line":1,"column":268}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":17,"column":0},"generated":{"line":1,"column":271}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":17,"column":0},"generated":{"line":1,"column":273}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":18,"column":0},"generated":{"line":1,"column":277}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":18,"column":0},"generated":{"line":1,"column":281}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":18,"column":0},"generated":{"line":1,"column":283}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":18,"column":0},"generated":{"line":1,"column":295}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":19,"column":0},"generated":{"line":1,"column":298}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":19,"column":0},"generated":{"line":1,"column":304}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":19,"column":0},"generated":{"line":1,"column":308}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":19,"column":0},"generated":{"line":1,"column":340}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":21,"column":0},"generated":{"line":1,"column":363}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":21,"column":0},"generated":{"line":1,"column":370}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":21,"column":0},"generated":{"line":1,"column":372}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":24,"column":0},"generated":{"line":1,"column":376}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":24,"column":0},"generated":{"line":1,"column":382}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":25,"column":0},"generated":{"line":1,"column":384}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":25,"column":0},"generated":{"line":1,"column":396}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":26,"column":0},"generated":{"line":1,"column":399}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":26,"column":0},"generated":{"line":1,"column":404}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":26,"column":0},"generated":{"line":1,"column":414}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":26,"column":0},"generated":{"line":1,"column":416}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":27,"column":0},"generated":{"line":1,"column":425}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":27,"column":0},"generated":{"line":1,"column":430}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":27,"column":0},"generated":{"line":1,"column":447}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":27,"column":0},"generated":{"line":1,"column":449}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":27,"column":0},"generated":{"line":1,"column":466}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":27,"column":0},"generated":{"line":1,"column":471}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":28,"column":0},"generated":{"line":1,"column":481}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":28,"column":0},"generated":{"line":1,"column":486}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":28,"column":0},"generated":{"line":1,"column":503}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":28,"column":0},"generated":{"line":1,"column":505}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":28,"column":0},"generated":{"line":1,"column":512}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":28,"column":0},"generated":{"line":1,"column":516}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":28,"column":0},"generated":{"line":1,"column":518}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":28,"column":0},"generated":{"line":1,"column":520}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":28,"column":0},"generated":{"line":1,"column":531}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":31,"column":0},"generated":{"line":1,"column":536}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":31,"column":0},"generated":{"line":1,"column":566}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":31,"column":0},"generated":{"line":1,"column":573}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":33,"column":0},"generated":{"line":1,"column":575}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":33,"column":0},"generated":{"line":1,"column":590}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":33,"column":0},"generated":{"line":1,"column":597}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":33,"column":0},"generated":{"line":1,"column":602}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":35,"column":0},"generated":{"line":1,"column":612}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":35,"column":0},"generated":{"line":1,"column":634}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":35,"column":0},"generated":{"line":1,"column":641}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":35,"column":0},"generated":{"line":1,"column":646}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":37,"column":0},"generated":{"line":1,"column":663}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":37,"column":0},"generated":{"line":1,"column":674}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":37,"column":0},"generated":{"line":1,"column":676}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":38,"column":0},"generated":{"line":1,"column":679}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":38,"column":0},"generated":{"line":1,"column":685}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":38,"column":0},"generated":{"line":1,"column":693}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":38,"column":0},"generated":{"line":1,"column":698}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":38,"column":0},"generated":{"line":1,"column":707}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":38,"column":0},"generated":{"line":1,"column":714}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":38,"column":0},"generated":{"line":1,"column":716}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":39,"column":0},"generated":{"line":1,"column":720}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":39,"column":0},"generated":{"line":1,"column":724}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":40,"column":0},"generated":{"line":1,"column":726}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":40,"column":0},"generated":{"line":1,"column":732}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":40,"column":0},"generated":{"line":1,"column":736}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":40,"column":0},"generated":{"line":1,"column":742}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":43,"column":0},"generated":{"line":1,"column":789}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":42,"column":0},"generated":{"line":1,"column":802}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":42,"column":0},"generated":{"line":1,"column":807}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":42,"column":0},"generated":{"line":1,"column":816}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":42,"column":0},"generated":{"line":1,"column":821}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":42,"column":0},"generated":{"line":1,"column":823}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":46,"column":0},"generated":{"line":1,"column":826}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":46,"column":0},"generated":{"line":1,"column":839}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":46,"column":0},"generated":{"line":1,"column":841}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":46,"column":0},"generated":{"line":1,"column":843}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":46,"column":0},"generated":{"line":1,"column":845}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":46,"column":0},"generated":{"line":1,"column":847}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":47,"column":0},"generated":{"line":1,"column":853}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":47,"column":0},"generated":{"line":1,"column":860}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":47,"column":0},"generated":{"line":1,"column":865}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":47,"column":0},"generated":{"line":1,"column":874}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":47,"column":0},"generated":{"line":1,"column":881}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":47,"column":0},"generated":{"line":1,"column":883}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":47,"column":0},"generated":{"line":1,"column":885}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":47,"column":0},"generated":{"line":1,"column":887}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":50,"column":0},"generated":{"line":1,"column":890}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":50,"column":0},"generated":{"line":1,"column":911}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":50,"column":0},"generated":{"line":1,"column":913}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":51,"column":0},"generated":{"line":1,"column":917}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":51,"column":0},"generated":{"line":1,"column":923}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":51,"column":0},"generated":{"line":1,"column":925}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":51,"column":0},"generated":{"line":1,"column":927}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":51,"column":0},"generated":{"line":1,"column":937}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":51,"column":0},"generated":{"line":1,"column":942}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":52,"column":0},"generated":{"line":1,"column":951}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":52,"column":0},"generated":{"line":1,"column":953}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":52,"column":0},"generated":{"line":1,"column":955}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":52,"column":0},"generated":{"line":1,"column":961}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":963}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":965}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":969}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":971}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":975}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":977}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":979}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":996}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":999}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":1003}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":1005}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":1008}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":53,"column":0},"generated":{"line":1,"column":1009}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":54,"column":0},"generated":{"line":1,"column":1012}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":54,"column":0},"generated":{"line":1,"column":1020}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":54,"column":0},"generated":{"line":1,"column":1022}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":54,"column":0},"generated":{"line":1,"column":1028}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":56,"column":0},"generated":{"line":1,"column":1031}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":56,"column":0},"generated":{"line":1,"column":1033}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":57,"column":0},"generated":{"line":1,"column":1048}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":57,"column":0},"generated":{"line":1,"column":1050}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":57,"column":0},"generated":{"line":1,"column":1058}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":57,"column":0},"generated":{"line":1,"column":1059}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":57,"column":0},"generated":{"line":1,"column":1071}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":57,"column":0},"generated":{"line":1,"column":1073}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":57,"column":0},"generated":{"line":1,"column":1080}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":57,"column":0},"generated":{"line":1,"column":1089}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1093}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1099}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1109}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1111}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1123}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1132}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1137}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1144}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1147}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1155}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1157}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1170}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1172}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":60,"column":0},"generated":{"line":1,"column":1174}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1177}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1184}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1188}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1190}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1192}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1194}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1196}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1198}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":61,"column":0},"generated":{"line":1,"column":1200}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":64,"column":0},"generated":{"line":1,"column":1206}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":64,"column":0},"generated":{"line":1,"column":1219}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":65,"column":0},"generated":{"line":1,"column":1222}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":65,"column":0},"generated":{"line":1,"column":1228}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":65,"column":0},"generated":{"line":1,"column":1230}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":65,"column":0},"generated":{"line":1,"column":1235}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":66,"column":0},"generated":{"line":1,"column":1244}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":66,"column":0},"generated":{"line":1,"column":1252}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":66,"column":0},"generated":{"line":1,"column":1254}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":66,"column":0},"generated":{"line":1,"column":1261}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":66,"column":0},"generated":{"line":1,"column":1271}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":66,"column":0},"generated":{"line":1,"column":1273}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":66,"column":0},"generated":{"line":1,"column":1283}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1286}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1292}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1293}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":67,"column":0},"generated":{"line":1,"column":1303}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":67,"column":0},"generated":{"line":1,"column":1305}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":67,"column":0},"generated":{"line":1,"column":1315}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1318}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":68,"column":0},"generated":{"line":1,"column":1336}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":68,"column":0},"generated":{"line":1,"column":1338}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":68,"column":0},"generated":{"line":1,"column":1343}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":68,"column":0},"generated":{"line":1,"column":1345}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":72,"column":0},"generated":{"line":1,"column":1349}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":72,"column":0},"generated":{"line":1,"column":1370}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1373}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1377}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1379}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1390}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":74,"column":0},"generated":{"line":1,"column":1393}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":74,"column":0},"generated":{"line":1,"column":1400}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1402}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1408}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1410}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1415}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1432}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1436}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1438}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1449}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":78,"column":0},"generated":{"line":1,"column":1453}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":78,"column":0},"generated":{"line":1,"column":1456}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1458}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1465}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1467}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1472}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1474}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1478}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1480}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1492}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1494}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1505}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1507}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1518}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1523}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1525}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1536}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1540}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1542}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1553}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1565}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1567}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1578}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1588}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":85,"column":0},"generated":{"line":1,"column":1599}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":85,"column":0},"generated":{"line":1,"column":1604}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":85,"column":0},"generated":{"line":1,"column":1613}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1620}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1622}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1633}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1636}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1638}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":88,"column":0},"generated":{"line":1,"column":1648}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":88,"column":0},"generated":{"line":1,"column":1650}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1655}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1662}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1664}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1670}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1672}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1674}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":92,"column":0},"generated":{"line":1,"column":1676}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":93,"column":0},"generated":{"line":1,"column":1682}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":93,"column":0},"generated":{"line":1,"column":1690}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":93,"column":0},"generated":{"line":1,"column":1692}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":93,"column":0},"generated":{"line":1,"column":1707}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1710}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1717}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1720}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1725}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1742}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1746}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1748}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1759}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1762}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1764}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1771}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":98,"column":0},"generated":{"line":1,"column":1775}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":101,"column":0},"generated":{"line":1,"column":1777}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":101,"column":0},"generated":{"line":1,"column":1805}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1808}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1812}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1814}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":102,"column":0},"generated":{"line":1,"column":1825}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":103,"column":0},"generated":{"line":1,"column":1828}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":103,"column":0},"generated":{"line":1,"column":1835}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":112,"column":0},"generated":{"line":1,"column":1837}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":106,"column":0},"generated":{"line":1,"column":1852}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":106,"column":0},"generated":{"line":1,"column":1854}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":107,"column":0},"generated":{"line":1,"column":1861}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":107,"column":0},"generated":{"line":1,"column":1863}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":107,"column":0},"generated":{"line":1,"column":1874}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":108,"column":0},"generated":{"line":1,"column":1877}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":108,"column":0},"generated":{"line":1,"column":1879}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":109,"column":0},"generated":{"line":1,"column":1889}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":109,"column":0},"generated":{"line":1,"column":1891}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":114,"column":0},"generated":{"line":1,"column":1897}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":114,"column":0},"generated":{"line":1,"column":1899}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":114,"column":0},"generated":{"line":1,"column":1901}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":115,"column":0},"generated":{"line":1,"column":1907}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":115,"column":0},"generated":{"line":1,"column":1922}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1925}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1953}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1955}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":131,"column":0},"generated":{"line":1,"column":1959}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":119,"column":0},"generated":{"line":1,"column":1966}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":119,"column":0},"generated":{"line":1,"column":1968}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":120,"column":0},"generated":{"line":1,"column":1979}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":120,"column":0},"generated":{"line":1,"column":1981}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":120,"column":0},"generated":{"line":1,"column":1990}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":120,"column":0},"generated":{"line":1,"column":1994}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":120,"column":0},"generated":{"line":1,"column":1996}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":120,"column":0},"generated":{"line":1,"column":1998}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":120,"column":0},"generated":{"line":1,"column":2016}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":122,"column":0},"generated":{"line":1,"column":2020}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":122,"column":0},"generated":{"line":1,"column":2022}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":123,"column":0},"generated":{"line":1,"column":2040}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":123,"column":0},"generated":{"line":1,"column":2042}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":124,"column":0},"generated":{"line":1,"column":2058}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":124,"column":0},"generated":{"line":1,"column":2060}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":124,"column":0},"generated":{"line":1,"column":2076}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":124,"column":0},"generated":{"line":1,"column":2080}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":124,"column":0},"generated":{"line":1,"column":2082}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":124,"column":0},"generated":{"line":1,"column":2084}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":126,"column":0},"generated":{"line":1,"column":2101}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":126,"column":0},"generated":{"line":1,"column":2103}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":126,"column":0},"generated":{"line":1,"column":2119}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":126,"column":0},"generated":{"line":1,"column":2121}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":129,"column":0},"generated":{"line":1,"column":2131}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":129,"column":0},"generated":{"line":1,"column":2133}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":129,"column":0},"generated":{"line":1,"column":2140}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":129,"column":0},"generated":{"line":1,"column":2147}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":129,"column":0},"generated":{"line":1,"column":2150}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":129,"column":0},"generated":{"line":1,"column":2151}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":129,"column":0},"generated":{"line":1,"column":2156}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":129,"column":0},"generated":{"line":1,"column":2159}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":130,"column":0},"generated":{"line":1,"column":2162}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":130,"column":0},"generated":{"line":1,"column":2166}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":130,"column":0},"generated":{"line":1,"column":2168}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":131,"column":0},"generated":{"line":1,"column":2171}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":131,"column":0},"generated":{"line":1,"column":2186}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":134,"column":0},"generated":{"line":1,"column":2189}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":134,"column":0},"generated":{"line":1,"column":2208}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":135,"column":0},"generated":{"line":1,"column":2211}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":135,"column":0},"generated":{"line":1,"column":2218}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":135,"column":0},"generated":{"line":1,"column":2225}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":135,"column":0},"generated":{"line":1,"column":2230}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":135,"column":0},"generated":{"line":1,"column":2233}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":135,"column":0},"generated":{"line":1,"column":2242}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":138,"column":0},"generated":{"line":1,"column":2245}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":138,"column":0},"generated":{"line":1,"column":2272}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":139,"column":0},"generated":{"line":1,"column":2275}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":139,"column":0},"generated":{"line":1,"column":2279}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":140,"column":0},"generated":{"line":1,"column":2281}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":140,"column":0},"generated":{"line":1,"column":2287}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":140,"column":0},"generated":{"line":1,"column":2291}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":140,"column":0},"generated":{"line":1,"column":2297}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":143,"column":0},"generated":{"line":1,"column":2354}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":143,"column":0},"generated":{"line":1,"column":2358}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":143,"column":0},"generated":{"line":1,"column":2360}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":144,"column":0},"generated":{"line":1,"column":2366}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":144,"column":0},"generated":{"line":1,"column":2383}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":144,"column":0},"generated":{"line":1,"column":2385}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":145,"column":0},"generated":{"line":1,"column":2390}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":145,"column":0},"generated":{"line":1,"column":2396}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":145,"column":0},"generated":{"line":1,"column":2400}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":145,"column":0},"generated":{"line":1,"column":2406}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":148,"column":0},"generated":{"line":1,"column":2502}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":148,"column":0},"generated":{"line":1,"column":2504}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":148,"column":0},"generated":{"line":1,"column":2506}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":148,"column":0},"generated":{"line":1,"column":2512}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":151,"column":0},"generated":{"line":1,"column":2514}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":151,"column":0},"generated":{"line":1,"column":2544}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":152,"column":0},"generated":{"line":1,"column":2554}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":152,"column":0},"generated":{"line":1,"column":2556}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":156,"column":0},"generated":{"line":1,"column":2560}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":156,"column":0},"generated":{"line":1,"column":2567}},{"source":"node_modules/orbit-db-identity-provider/src/identities.js","original":{"line":156,"column":0},"generated":{"line":1,"column":2575}}],"sources":{"node_modules/orbit-db-identity-provider/src/identities.js":"'use strict'\nconst Identity = require('./identity')\nconst IdentityProvider = require('./identity-provider-interface.js')\nconst OrbitDBIdentityProvider = require('./orbit-db-identity-provider')\nconst Keystore = require('orbit-db-keystore')\n\nconst LRU = require('lru')\nconst path = require('path')\n\nconst defaultType = 'orbitdb'\nconst identityKeysPath = path.join('./orbitdb', 'identity', 'identitykeys')\n\nconst supportedTypes = {\n  orbitdb: OrbitDBIdentityProvider\n}\n\nconst getHandlerFor = (type) => {\n  if (!Identities.isSupported(type)) {\n    throw new Error(`IdentityProvider type '${type}' is not supported`)\n  }\n  return supportedTypes[type]\n}\n\nclass Identities {\n  constructor (options) {\n    this._keystore = options.keystore\n    this._signingKeystore = options.signingKeystore || this._keystore\n    this._knownIdentities = options.cache || new LRU(options.cacheSize || 100)\n  }\n\n  static get IdentityProvider () { return IdentityProvider }\n\n  get keystore () { return this._keystore }\n\n  get signingKeystore () { return this._signingKeystore }\n\n  async sign (identity, data) {\n    const signingKey = await this.keystore.getKey(identity.id)\n    if (!signingKey) {\n      throw new Error(`Private signing key not found from Keystore`)\n    }\n    const sig = await this.keystore.sign(signingKey, data)\n    return sig\n  }\n\n  async verify (signature, publicKey, data, verifier = 'v1') {\n    return this.keystore.verify(signature, publicKey, data, verifier)\n  }\n\n  async createIdentity (options = {}) {\n    const keystore = options.keystore || this.keystore\n    const type = options.type || defaultType\n    const identityProvider = type === defaultType ? new OrbitDBIdentityProvider(options.signingKeystore || keystore) : new (getHandlerFor(type))(options)\n    const id = await identityProvider.getId(options)\n\n    if (options.migrate) {\n      await options.migrate({ targetStore: keystore._store, targetId: id })\n    }\n    const { publicKey, idSignature } = await this.signId(id)\n    const pubKeyIdSignature = await identityProvider.signIdentity(publicKey + idSignature, options)\n    return new Identity(id, publicKey, idSignature, pubKeyIdSignature, type, this)\n  }\n\n  async signId (id) {\n    const keystore = this.keystore\n    const key = await keystore.getKey(id) || await keystore.createKey(id)\n    const publicKey = keystore.getPublic(key)\n    const idSignature = await keystore.sign(key, id)\n    return { publicKey, idSignature }\n  }\n\n  async verifyIdentity (identity) {\n    if (!Identity.isIdentity(identity)) {\n      return false\n    }\n\n    const knownID = this._knownIdentities.get(identity.signatures.id)\n    if (knownID) {\n      return identity.id === knownID.id &&\n             identity.publicKey === knownID.publicKey &&\n             identity.signatures.id === knownID.signatures.id &&\n             identity.signatures.publicKey === knownID.signatures.publicKey\n    }\n\n    const verifyIdSig = await this.keystore.verify(\n      identity.signatures.id,\n      identity.publicKey,\n      identity.id\n    )\n    if (!verifyIdSig) return false\n\n    const IdentityProvider = getHandlerFor(identity.type)\n    const verified = await IdentityProvider.verifyIdentity(identity)\n    if (verified) {\n      this._knownIdentities.set(identity.signatures.id, Identity.toJSON(identity))\n    }\n\n    return verified\n  }\n\n  static async verifyIdentity (identity) {\n    if (!Identity.isIdentity(identity)) {\n      return false\n    }\n\n    const verifyIdSig = await Keystore.verify(\n      identity.signatures.id,\n      identity.publicKey,\n      identity.id\n    )\n\n    if (!verifyIdSig) return false\n\n    const IdentityProvider = getHandlerFor(identity.type)\n    return IdentityProvider.verifyIdentity(identity)\n  }\n\n  static async createIdentity (options = {}) {\n    if (!options.keystore) {\n      options.keystore = new Keystore(options.identityKeysPath || identityKeysPath)\n    }\n    if (!options.signingKeystore) {\n      if (options.signingKeysPath) {\n        options.signingKeystore = new Keystore(options.signingKeysPath)\n      } else {\n        options.signingKeystore = options.keystore\n      }\n    }\n    options = Object.assign({}, { type: defaultType }, options)\n    const identities = new Identities(options)\n    return identities.createIdentity(options)\n  }\n\n  static isSupported (type) {\n    return Object.keys(supportedTypes).includes(type)\n  }\n\n  static addIdentityProvider (IdentityProvider) {\n    if (!IdentityProvider) {\n      throw new Error('IdentityProvider class needs to be given as an option')\n    }\n\n    if (!IdentityProvider.type ||\n      typeof IdentityProvider.type !== 'string') {\n      throw new Error('Given IdentityProvider class needs to implement: static get type() { /* return a string */}.')\n    }\n\n    supportedTypes[IdentityProvider.type] = IdentityProvider\n  }\n\n  static removeIdentityProvider (type) {\n    delete supportedTypes[type]\n  }\n}\n\nmodule.exports = Identities\n"},"lineCount":null}},"error":null,"hash":"978c355979b39ca865f50e4f6e69d53b","cacheData":{"env":{}}}