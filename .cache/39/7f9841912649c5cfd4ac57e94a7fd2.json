{"id":"iwQL","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo/package.json","includedInParent":true,"mtime":1582579779530},{"name":"./errors","loc":{"line":3,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo/src/errors/index.js"},{"name":"debug","loc":{"line":4,"column":22},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/debug/src/browser.js"}],"generated":{"js":"\"use strict\";const e=require(\"./errors\"),o=require(\"debug\"),r=o(\"repo:lock\"),c=\"repo.lock\",s={};exports.lock=(async o=>{const n=o+\"/\"+c;if(r(\"locking %s\",n),!0===s[n])throw new e.LockExistsError(`Lock already being held for file: ${n}`);return s[n]=!0,{async close(){s[n]&&delete s[n]}}}),exports.locked=(async e=>{const o=e+\"/\"+c;return r(`checking lock: ${o}`),Boolean(s[o])});"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"errors","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"require","original":{"line":3,"column":15},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":3,"column":23},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"debug","original":{"line":4,"column":6},"generated":{"line":1,"column":41}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"require","original":{"line":4,"column":14},"generated":{"line":1,"column":43}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":4,"column":22},"generated":{"line":1,"column":51}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"log","original":{"line":6,"column":6},"generated":{"line":1,"column":60}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"debug","original":{"line":6,"column":12},"generated":{"line":1,"column":62}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":6,"column":18},"generated":{"line":1,"column":64}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"lockFile","original":{"line":8,"column":6},"generated":{"line":1,"column":77}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":8,"column":17},"generated":{"line":1,"column":79}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"LOCKS","original":{"line":10,"column":6},"generated":{"line":1,"column":91}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":10,"column":14},"generated":{"line":1,"column":93}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"exports","original":{"line":18,"column":0},"generated":{"line":1,"column":96}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"lock","original":{"line":18,"column":8},"generated":{"line":1,"column":104}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":18,"column":15},"generated":{"line":1,"column":109}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":18,"column":15},"generated":{"line":1,"column":116}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":19,"column":8},"generated":{"line":1,"column":120}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":19,"column":8},"generated":{"line":1,"column":126}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"dir","original":{"line":19,"column":15},"generated":{"line":1,"column":128}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":19,"column":21},"generated":{"line":1,"column":130}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"lockFile","original":{"line":19,"column":27},"generated":{"line":1,"column":134}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"LOCKS","original":{"line":22,"column":6},"generated":{"line":1,"column":136}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"log","original":{"line":20,"column":2},"generated":{"line":1,"column":139}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":20,"column":6},"generated":{"line":1,"column":141}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":20,"column":20},"generated":{"line":1,"column":154}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":22,"column":22},"generated":{"line":1,"column":158}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"LOCKS","original":{"line":22,"column":6},"generated":{"line":1,"column":162}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":22,"column":12},"generated":{"line":1,"column":164}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":23,"column":10},"generated":{"line":1,"column":167}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":23,"column":10},"generated":{"line":1,"column":173}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"errors","original":{"line":23,"column":14},"generated":{"line":1,"column":177}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"LockExistsError","original":{"line":23,"column":21},"generated":{"line":1,"column":179}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":23,"column":74},"generated":{"line":1,"column":232}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"closer","original":{"line":34,"column":9},"generated":{"line":1,"column":237}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"LOCKS","original":{"line":26,"column":2},"generated":{"line":1,"column":244}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":26,"column":8},"generated":{"line":1,"column":246}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":26,"column":16},"generated":{"line":1,"column":250}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":27,"column":17},"generated":{"line":1,"column":252}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"close","original":{"line":28,"column":10},"generated":{"line":1,"column":253}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"LOCKS","original":{"line":29,"column":10},"generated":{"line":1,"column":267}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":29,"column":16},"generated":{"line":1,"column":269}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"LOCKS","original":{"line":30,"column":15},"generated":{"line":1,"column":280}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":30,"column":21},"generated":{"line":1,"column":282}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"exports","original":{"line":43,"column":0},"generated":{"line":1,"column":289}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"locked","original":{"line":43,"column":8},"generated":{"line":1,"column":297}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":43,"column":17},"generated":{"line":1,"column":304}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":43,"column":17},"generated":{"line":1,"column":311}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":44,"column":8},"generated":{"line":1,"column":315}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":44,"column":8},"generated":{"line":1,"column":321}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"dir","original":{"line":44,"column":15},"generated":{"line":1,"column":323}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","original":{"line":44,"column":21},"generated":{"line":1,"column":325}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"lockFile","original":{"line":44,"column":27},"generated":{"line":1,"column":329}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"Boolean","original":{"line":47,"column":9},"generated":{"line":1,"column":331}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"log","original":{"line":45,"column":2},"generated":{"line":1,"column":338}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":45,"column":24},"generated":{"line":1,"column":358}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"Boolean","original":{"line":47,"column":9},"generated":{"line":1,"column":363}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"LOCKS","original":{"line":47,"column":17},"generated":{"line":1,"column":371}},{"source":"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js","name":"file","original":{"line":47,"column":23},"generated":{"line":1,"column":373}}],"sources":{"node_modules/ipfs/node_modules/ipfs-repo/src/lock-memory.js":"'use strict'\n\nconst errors = require('./errors')\nconst debug = require('debug')\n\nconst log = debug('repo:lock')\n\nconst lockFile = 'repo.lock'\n\nconst LOCKS = {}\n\n/**\n * Lock the repo in the given dir.\n *\n * @param {string} dir\n * @returns {Promise<Object>}\n */\nexports.lock = async (dir) => { // eslint-disable-line require-await\n  const file = dir + '/' + lockFile\n  log('locking %s', file)\n\n  if (LOCKS[file] === true) {\n    throw new errors.LockExistsError(`Lock already being held for file: ${file}`)\n  }\n\n  LOCKS[file] = true\n  const closer = {\n    async close () { // eslint-disable-line require-await\n      if (LOCKS[file]) {\n        delete LOCKS[file]\n      }\n    }\n  }\n  return closer\n}\n\n/**\n * Check if the repo in the given directory is locked.\n *\n * @param {string} dir\n * @returns {bool}\n */\nexports.locked = async (dir) => { // eslint-disable-line require-await\n  const file = dir + '/' + lockFile\n  log(`checking lock: ${file}`)\n\n  return Boolean(LOCKS[file])\n}\n"},"lineCount":null}},"error":null,"hash":"e3e7c00c838e87d3dd5563e540bbf9f8","cacheData":{"env":{}}}