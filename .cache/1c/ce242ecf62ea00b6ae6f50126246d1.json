{"id":"g3AJ","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-record/package.json","includedInParent":true,"mtime":1582579780694},{"name":"buffer-split","loc":{"line":3,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-record/src/selection.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/buffer-split/index.js"},{"name":"err-code","loc":{"line":4,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-record/src/selection.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-record/node_modules/err-code/index.js"},{"name":"./selectors","loc":{"line":42,"column":21},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-record/src/selection.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-record/src/selectors/index.js"},{"name":"buffer","parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-record/src/selection.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/node-libs-browser/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;const r=require(\"buffer-split\"),o=require(\"err-code\"),t=(t,R,E)=>{if(0===E.length){throw o(\"No records given\",\"ERR_NO_RECORDS_RECEIVED\")}const n=r(R,e.from(\"/\"));if(n.length<3){throw o(\"Record key does not have a selector function\",\"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY\")}const s=t[n[1].toString()];if(!s){const e=`Unrecognized key prefix: ${n[1]}`;throw o(e,\"ERR_UNRECOGNIZED_KEY_PREFIX\")}return s(R,E)};module.exports={bestRecord:t,selectors:require(\"./selectors\")};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":40,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":40,"column":0},"generated":{"line":2,"column":4}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":40,"column":0},"generated":{"line":2,"column":6}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":40,"column":0},"generated":{"line":2,"column":14}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":40,"column":0},"generated":{"line":2,"column":24}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":3,"column":0},"generated":{"line":2,"column":31}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"bsplit","original":{"line":3,"column":6},"generated":{"line":2,"column":37}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"require","original":{"line":3,"column":15},"generated":{"line":2,"column":39}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":3,"column":23},"generated":{"line":2,"column":47}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"errcode","original":{"line":4,"column":6},"generated":{"line":2,"column":63}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"require","original":{"line":4,"column":16},"generated":{"line":2,"column":65}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":4,"column":24},"generated":{"line":2,"column":73}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"bestRecord","original":{"line":14,"column":6},"generated":{"line":2,"column":85}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":14,"column":19},"generated":{"line":2,"column":87}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"selectors","original":{"line":14,"column":20},"generated":{"line":2,"column":88}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"k","original":{"line":14,"column":31},"generated":{"line":2,"column":90}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"records","original":{"line":14,"column":34},"generated":{"line":2,"column":92}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"records","original":{"line":15,"column":6},"generated":{"line":2,"column":97}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":15,"column":25},"generated":{"line":2,"column":100}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"records","original":{"line":15,"column":6},"generated":{"line":2,"column":104}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"length","original":{"line":15,"column":14},"generated":{"line":2,"column":106}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":15,"column":28},"generated":{"line":2,"column":113}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"errcode","original":{"line":18,"column":10},"generated":{"line":2,"column":114}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"errcode","original":{"line":18,"column":10},"generated":{"line":2,"column":120}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":16,"column":20},"generated":{"line":2,"column":122}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":18,"column":26},"generated":{"line":2,"column":141}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"parts","original":{"line":21,"column":8},"generated":{"line":2,"column":168}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"parts","original":{"line":21,"column":8},"generated":{"line":2,"column":174}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"bsplit","original":{"line":21,"column":16},"generated":{"line":2,"column":176}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"k","original":{"line":21,"column":23},"generated":{"line":2,"column":178}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"Buffer","original":{"line":21,"column":26},"generated":{"line":2,"column":180}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"from","original":{"line":21,"column":33},"generated":{"line":2,"column":182}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":21,"column":38},"generated":{"line":2,"column":187}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"parts","original":{"line":23,"column":6},"generated":{"line":2,"column":193}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"parts","original":{"line":23,"column":6},"generated":{"line":2,"column":196}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"length","original":{"line":23,"column":12},"generated":{"line":2,"column":198}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":23,"column":21},"generated":{"line":2,"column":205}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":23,"column":24},"generated":{"line":2,"column":207}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"errcode","original":{"line":26,"column":10},"generated":{"line":2,"column":208}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"errcode","original":{"line":26,"column":10},"generated":{"line":2,"column":214}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":24,"column":20},"generated":{"line":2,"column":216}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":26,"column":26},"generated":{"line":2,"column":263}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"selector","original":{"line":29,"column":8},"generated":{"line":2,"column":306}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"selector","original":{"line":29,"column":8},"generated":{"line":2,"column":312}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"selectors","original":{"line":29,"column":19},"generated":{"line":2,"column":314}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"parts","original":{"line":29,"column":29},"generated":{"line":2,"column":316}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":29,"column":35},"generated":{"line":2,"column":318}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"toString","original":{"line":29,"column":38},"generated":{"line":2,"column":321}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":31,"column":6},"generated":{"line":2,"column":333}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"selector","original":{"line":31,"column":7},"generated":{"line":2,"column":337}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":31,"column":17},"generated":{"line":2,"column":339}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"errMsg","original":{"line":32,"column":10},"generated":{"line":2,"column":340}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"errMsg","original":{"line":32,"column":10},"generated":{"line":2,"column":346}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"parts","original":{"line":32,"column":47},"generated":{"line":2,"column":376}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":32,"column":53},"generated":{"line":2,"column":378}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"errcode","original":{"line":34,"column":10},"generated":{"line":2,"column":383}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"errcode","original":{"line":34,"column":10},"generated":{"line":2,"column":389}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"errMsg","original":{"line":34,"column":18},"generated":{"line":2,"column":391}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":34,"column":26},"generated":{"line":2,"column":393}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"selector","original":{"line":37,"column":9},"generated":{"line":2,"column":424}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"selector","original":{"line":37,"column":9},"generated":{"line":2,"column":431}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"k","original":{"line":37,"column":18},"generated":{"line":2,"column":433}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"records","original":{"line":37,"column":21},"generated":{"line":2,"column":435}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"module","original":{"line":40,"column":0},"generated":{"line":2,"column":439}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"exports","original":{"line":40,"column":7},"generated":{"line":2,"column":446}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":40,"column":17},"generated":{"line":2,"column":454}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"bestRecord","original":{"line":41,"column":2},"generated":{"line":2,"column":455}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"bestRecord","original":{"line":41,"column":14},"generated":{"line":2,"column":466}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"selectors","original":{"line":42,"column":2},"generated":{"line":2,"column":468}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","name":"require","original":{"line":42,"column":13},"generated":{"line":2,"column":478}},{"source":"node_modules/ipfs/node_modules/libp2p-record/src/selection.js","original":{"line":42,"column":21},"generated":{"line":2,"column":486}}],"sources":{"node_modules/ipfs/node_modules/libp2p-record/src/selection.js":"'use strict'\n\nconst bsplit = require('buffer-split')\nconst errcode = require('err-code')\n\n/**\n * Select the best record out of the given records.\n *\n * @param {Object} selectors\n * @param {Buffer} k\n * @param {Array<Buffer>} records\n * @returns {number} - The index of the best record.\n */\nconst bestRecord = (selectors, k, records) => {\n  if (records.length === 0) {\n    const errMsg = `No records given`\n\n    throw errcode(errMsg, 'ERR_NO_RECORDS_RECEIVED')\n  }\n\n  const parts = bsplit(k, Buffer.from('/'))\n\n  if (parts.length < 3) {\n    const errMsg = `Record key does not have a selector function`\n\n    throw errcode(errMsg, 'ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY')\n  }\n\n  const selector = selectors[parts[1].toString()]\n\n  if (!selector) {\n    const errMsg = `Unrecognized key prefix: ${parts[1]}`\n\n    throw errcode(errMsg, 'ERR_UNRECOGNIZED_KEY_PREFIX')\n  }\n\n  return selector(k, records)\n}\n\nmodule.exports = {\n  bestRecord: bestRecord,\n  selectors: require('./selectors')\n}\n"},"lineCount":null}},"error":null,"hash":"3fc973f80ccaa6485e57f20142adf3d6","cacheData":{"env":{}}}