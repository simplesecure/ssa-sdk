{"id":"gHHL","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/latency-monitor/dist/LatencyMonitor.js.map","includedInParent":true,"mtime":1490134783000},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/latency-monitor/package.json","includedInParent":true,"mtime":1582579784258},{"name":"events","loc":{"line":9,"column":22},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/latency-monitor/dist/LatencyMonitor.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/events/events.js"},{"name":"lodash/get","loc":{"line":13,"column":19},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/latency-monitor/dist/LatencyMonitor.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/lodash/get.js"},{"name":"lodash/isFunction","loc":{"line":17,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/latency-monitor/dist/LatencyMonitor.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/lodash/isFunction.js"},{"name":"./VisibilityChangeEmitter","loc":{"line":21,"column":39},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/latency-monitor/dist/LatencyMonitor.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/latency-monitor/dist/VisibilityChangeEmitter.js"},{"name":"debug","loc":{"line":34,"column":20},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/latency-monitor/dist/LatencyMonitor.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/latency-monitor/node_modules/debug/src/browser.js"},{"name":"process","parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/latency-monitor/dist/LatencyMonitor.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/process/browser.js"}],"generated":{"js":"var process = require(\"process\");\nvar t=require(\"process\");Object.defineProperty(exports,\"__esModule\",{value:!0});var e=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),a=require(\"events\"),n=u(a),i=require(\"lodash/get\"),r=u(i),s=require(\"lodash/isFunction\"),c=u(s),l=require(\"./VisibilityChangeEmitter\"),o=u(l);function u(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function m(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function h(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=require(\"debug\")(\"latency-monitor:LatencyMonitor\"),_=function(a){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.latencyCheckIntervalMs,n=e.dataEmitIntervalMs,s=e.asyncTestFn,c=e.latencyRandomPercentage;y(this,i);var l=m(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),u=l;return u.latencyCheckIntervalMs=a||500,u.latencyRandomPercentage=c||10,u._latecyCheckMultiply=u.latencyRandomPercentage/100*2*u.latencyCheckIntervalMs,u._latecyCheckSubtract=u._latecyCheckMultiply/2,u.dataEmitIntervalMs=null===n||0===n?void 0:n||5e3,f(\"latencyCheckIntervalMs: %s dataEmitIntervalMs: %s\",u.latencyCheckIntervalMs,u.dataEmitIntervalMs),u.dataEmitIntervalMs?f(\"Expecting ~%s events per summary\",u.latencyCheckIntervalMs/u.dataEmitIntervalMs):f(\"Not emitting summaries\"),u.asyncTestFn=s,t&&t.hrtime?(f(\"Using process.hrtime for timing\"),u.now=t.hrtime,u.getDeltaMS=function(t){var e=u.now(t);return 1e3*e[0]+e[1]/1e6}):\"undefined\"!=typeof window&&(0,r.default)(window,\"performance.now\")?(f(\"Using performance.now for timing\"),u.now=window.performance.now.bind(window.performance),u.getDeltaMS=function(t){return Math.round(u.now()-t)}):(f(\"Using Date.now for timing\"),u.now=Date.now,u.getDeltaMS=function(t){return u.now()-t}),u._latencyData=u._initLatencyData(),v()&&(u._visibilityChangeEmitter=new o.default,u._visibilityChangeEmitter.on(\"visibilityChange\",function(t){t?u._startTimers():(u._emitSummary(),u._stopTimers())})),u._visibilityChangeEmitter&&!u._visibilityChangeEmitter.isVisible()||u._startTimers(),l}return h(i,n.default),e(i,[{key:\"_startTimers\",value:function(){var t=this;this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval(function(){return t._emitSummary()},this.dataEmitIntervalMs),(0,c.default)(this._emitIntervalID.unref)&&this._emitIntervalID.unref()))}},{key:\"_stopTimers\",value:function(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=void 0),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=void 0)}},{key:\"_emitSummary\",value:function(){var t=this.getSummary();t.events>0&&this.emit(\"data\",t)}},{key:\"getSummary\",value:function(){var t={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),f(\"Summary: %O\",t),t}},{key:\"_checkLatency\",value:function(){var t=this,e=this,a=Math.random()*e._latecyCheckMultiply-e._latecyCheckSubtract,n={deltaOffset:Math.ceil(e.latencyCheckIntervalMs+a),startTime:e.now()},i=function(){if(t._checkLatencyID){var a=e.getDeltaMS(n.startTime)-n.deltaOffset;e._checkLatency(),e._latencyData.events++,e._latencyData.minMs=Math.min(e._latencyData.minMs,a),e._latencyData.maxMs=Math.max(e._latencyData.maxMs,a),e._latencyData.totalMs+=a,f(\"MS: %s Data: %O\",a,e._latencyData)}};f(\"localData: %O\",n),this._checkLatencyID=setTimeout(function(){e.asyncTestFn?(n.deltaOffset=0,n.startTime=e.now(),e.asyncTestFn(i)):(n.deltaOffset-=1,i())},n.deltaOffset),(0,c.default)(this._checkLatencyID.unref)&&this._checkLatencyID.unref()}},{key:\"_initLatencyData\",value:function(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}}]),i}();function v(){return\"undefined\"!=typeof window}exports.default=_;"},"sourceMaps":{"js":{"mappings":[{"source":"LatencyMonitor.js","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":329}},{"source":"LatencyMonitor.js","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":331}},{"source":"LatencyMonitor.js","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":339}},{"source":"LatencyMonitor.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":356}},{"source":"LatencyMonitor.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":358}},{"source":"LatencyMonitor.js","name":null,"original":{"line":3,"column":0},"generated":{"line":2,"column":366}},{"source":"LatencyMonitor.js","name":null,"original":{"line":4,"column":0},"generated":{"line":2,"column":387}},{"source":"LatencyMonitor.js","name":null,"original":{"line":4,"column":0},"generated":{"line":2,"column":389}},{"source":"LatencyMonitor.js","name":null,"original":{"line":4,"column":0},"generated":{"line":2,"column":397}},{"source":"LatencyMonitor.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":425}},{"source":"LatencyMonitor.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":427}},{"source":"LatencyMonitor.js","name":null,"original":{"line":5,"column":0},"generated":{"line":2,"column":435}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":779}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":788}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":790}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":792}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":795}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":798}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":817}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":820}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":827}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":829}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":835}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":839}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":849}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":915}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":918}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":920}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":930}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":937}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":944}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":947}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":949}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":959}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":960}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":972}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":973}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":979}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":981}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":993}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":995}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1005}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1007}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1021}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1026}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1030}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1037}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1052}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1059}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1074}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1076}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1079}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1081}},{"source":"LatencyMonitor.js","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":1091}},{"source":"LatencyMonitor.js","name":null,"original":{"line":7,"column":0},"generated":{"line":2,"column":1094}},{"source":"LatencyMonitor.js","name":"debug","original":{"line":7,"column":6},"generated":{"line":2,"column":1098}},{"source":"LatencyMonitor.js","name":"require","original":{"line":7,"column":14},"generated":{"line":2,"column":1100}},{"source":"LatencyMonitor.js","name":null,"original":{"line":7,"column":22},"generated":{"line":2,"column":1108}},{"source":"LatencyMonitor.js","name":"require","original":{"line":7,"column":14},"generated":{"line":2,"column":1116}},{"source":"LatencyMonitor.js","name":null,"original":{"line":7,"column":31},"generated":{"line":2,"column":1117}},{"source":"LatencyMonitor.js","name":"LatencyMonitor","original":{"line":34,"column":6},"generated":{"line":2,"column":1151}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1165}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1174}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1178}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1182}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1184}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1194}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1201}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1209}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1213}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1223}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1226}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1236}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":101},"generated":{"line":2,"column":1239}},{"source":"LatencyMonitor.js","name":"latencyCheckIntervalMs","original":{"line":41,"column":17},"generated":{"line":2,"column":1242}},{"source":"LatencyMonitor.js","name":"latencyCheckIntervalMs","original":{"line":41,"column":17},"generated":{"line":2,"column":1244}},{"source":"LatencyMonitor.js","name":"latencyCheckIntervalMs","original":{"line":41,"column":17},"generated":{"line":2,"column":1246}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":41,"column":41},"generated":{"line":2,"column":1269}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":41,"column":41},"generated":{"line":2,"column":1271}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":41,"column":41},"generated":{"line":2,"column":1273}},{"source":"LatencyMonitor.js","name":"asyncTestFn","original":{"line":41,"column":61},"generated":{"line":2,"column":1292}},{"source":"LatencyMonitor.js","name":"asyncTestFn","original":{"line":41,"column":61},"generated":{"line":2,"column":1294}},{"source":"LatencyMonitor.js","name":"asyncTestFn","original":{"line":41,"column":61},"generated":{"line":2,"column":1296}},{"source":"LatencyMonitor.js","name":"latencyRandomPercentage","original":{"line":41,"column":74},"generated":{"line":2,"column":1308}},{"source":"LatencyMonitor.js","name":"latencyRandomPercentage","original":{"line":41,"column":74},"generated":{"line":2,"column":1310}},{"source":"LatencyMonitor.js","name":"latencyRandomPercentage","original":{"line":41,"column":74},"generated":{"line":2,"column":1312}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1336}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1338}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1343}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1346}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1350}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1352}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1354}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1360}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1362}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1373}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1380}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1395}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1399}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1404}},{"source":"LatencyMonitor.js","name":"that","original":{"line":43,"column":14},"generated":{"line":2,"column":1411}},{"source":"LatencyMonitor.js","name":null,"original":{"line":43,"column":8},"generated":{"line":2,"column":1413}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":1415}},{"source":"LatencyMonitor.js","name":"latencyCheckIntervalMs","original":{"line":46,"column":13},"generated":{"line":2,"column":1422}},{"source":"LatencyMonitor.js","name":"latencyCheckIntervalMs","original":{"line":46,"column":13},"generated":{"line":2,"column":1424}},{"source":"LatencyMonitor.js","name":"latencyCheckIntervalMs","original":{"line":46,"column":38},"generated":{"line":2,"column":1447}},{"source":"LatencyMonitor.js","name":null,"original":{"line":46,"column":64},"generated":{"line":2,"column":1450}},{"source":"LatencyMonitor.js","name":"latencyRandomPercentage","original":{"line":47,"column":13},"generated":{"line":2,"column":1454}},{"source":"LatencyMonitor.js","name":"latencyRandomPercentage","original":{"line":47,"column":13},"generated":{"line":2,"column":1456}},{"source":"LatencyMonitor.js","name":"latencyRandomPercentage","original":{"line":47,"column":39},"generated":{"line":2,"column":1480}},{"source":"LatencyMonitor.js","name":null,"original":{"line":47,"column":66},"generated":{"line":2,"column":1483}},{"source":"LatencyMonitor.js","name":"_latecyCheckMultiply","original":{"line":48,"column":13},"generated":{"line":2,"column":1486}},{"source":"LatencyMonitor.js","name":"_latecyCheckMultiply","original":{"line":48,"column":13},"generated":{"line":2,"column":1488}},{"source":"LatencyMonitor.js","name":"that","original":{"line":48,"column":41},"generated":{"line":2,"column":1509}},{"source":"LatencyMonitor.js","name":"latencyRandomPercentage","original":{"line":48,"column":46},"generated":{"line":2,"column":1511}},{"source":"LatencyMonitor.js","name":null,"original":{"line":48,"column":72},"generated":{"line":2,"column":1535}},{"source":"LatencyMonitor.js","name":null,"original":{"line":48,"column":36},"generated":{"line":2,"column":1539}},{"source":"LatencyMonitor.js","name":"that","original":{"line":48,"column":81},"generated":{"line":2,"column":1541}},{"source":"LatencyMonitor.js","name":"latencyCheckIntervalMs","original":{"line":48,"column":86},"generated":{"line":2,"column":1543}},{"source":"LatencyMonitor.js","name":"_latecyCheckSubtract","original":{"line":49,"column":13},"generated":{"line":2,"column":1566}},{"source":"LatencyMonitor.js","name":"_latecyCheckSubtract","original":{"line":49,"column":13},"generated":{"line":2,"column":1568}},{"source":"LatencyMonitor.js","name":"that","original":{"line":49,"column":36},"generated":{"line":2,"column":1589}},{"source":"LatencyMonitor.js","name":"_latecyCheckMultiply","original":{"line":49,"column":41},"generated":{"line":2,"column":1591}},{"source":"LatencyMonitor.js","name":null,"original":{"line":49,"column":64},"generated":{"line":2,"column":1612}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":51,"column":13},"generated":{"line":2,"column":1614}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":51,"column":13},"generated":{"line":2,"column":1616}},{"source":"LatencyMonitor.js","name":null,"original":{"line":51,"column":58},"generated":{"line":2,"column":1635}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":51,"column":35},"generated":{"line":2,"column":1642}},{"source":"LatencyMonitor.js","name":null,"original":{"line":51,"column":89},"generated":{"line":2,"column":1645}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":51,"column":66},"generated":{"line":2,"column":1649}},{"source":"LatencyMonitor.js","name":"undefined","original":{"line":51,"column":94},"generated":{"line":2,"column":1656}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":52,"column":14},"generated":{"line":2,"column":1658}},{"source":"LatencyMonitor.js","name":null,"original":{"line":52,"column":36},"generated":{"line":2,"column":1661}},{"source":"LatencyMonitor.js","name":null,"original":{"line":53,"column":14},"generated":{"line":2,"column":1665}},{"source":"LatencyMonitor.js","name":null,"original":{"line":53,"column":14},"generated":{"line":2,"column":1667}},{"source":"LatencyMonitor.js","name":"that","original":{"line":54,"column":12},"generated":{"line":2,"column":1719}},{"source":"LatencyMonitor.js","name":"latencyCheckIntervalMs","original":{"line":54,"column":17},"generated":{"line":2,"column":1721}},{"source":"LatencyMonitor.js","name":"that","original":{"line":54,"column":41},"generated":{"line":2,"column":1744}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":54,"column":46},"generated":{"line":2,"column":1746}},{"source":"LatencyMonitor.js","name":"that","original":{"line":55,"column":12},"generated":{"line":2,"column":1766}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":55,"column":17},"generated":{"line":2,"column":1768}},{"source":"LatencyMonitor.js","name":null,"original":{"line":56,"column":18},"generated":{"line":2,"column":1787}},{"source":"LatencyMonitor.js","name":null,"original":{"line":56,"column":18},"generated":{"line":2,"column":1789}},{"source":"LatencyMonitor.js","name":"that","original":{"line":56,"column":54},"generated":{"line":2,"column":1824}},{"source":"LatencyMonitor.js","name":"latencyCheckIntervalMs","original":{"line":56,"column":59},"generated":{"line":2,"column":1826}},{"source":"LatencyMonitor.js","name":"that","original":{"line":56,"column":84},"generated":{"line":2,"column":1849}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":56,"column":89},"generated":{"line":2,"column":1851}},{"source":"LatencyMonitor.js","name":null,"original":{"line":58,"column":18},"generated":{"line":2,"column":1871}},{"source":"LatencyMonitor.js","name":null,"original":{"line":58,"column":18},"generated":{"line":2,"column":1873}},{"source":"LatencyMonitor.js","name":"asyncTestFn","original":{"line":61,"column":13},"generated":{"line":2,"column":1899}},{"source":"LatencyMonitor.js","name":"asyncTestFn","original":{"line":61,"column":13},"generated":{"line":2,"column":1901}},{"source":"LatencyMonitor.js","name":"asyncTestFn","original":{"line":61,"column":27},"generated":{"line":2,"column":1913}},{"source":"LatencyMonitor.js","name":"process","original":{"line":64,"column":12},"generated":{"line":2,"column":1915}},{"source":"LatencyMonitor.js","name":"process","original":{"line":64,"column":23},"generated":{"line":2,"column":1918}},{"source":"LatencyMonitor.js","name":"hrtime","original":{"line":64,"column":31},"generated":{"line":2,"column":1920}},{"source":"LatencyMonitor.js","name":null,"original":{"line":65,"column":18},"generated":{"line":2,"column":1928}},{"source":"LatencyMonitor.js","name":null,"original":{"line":65,"column":18},"generated":{"line":2,"column":1930}},{"source":"LatencyMonitor.js","name":"now","original":{"line":66,"column":17},"generated":{"line":2,"column":1965}},{"source":"LatencyMonitor.js","name":"now","original":{"line":66,"column":17},"generated":{"line":2,"column":1967}},{"source":"LatencyMonitor.js","name":"process","original":{"line":66,"column":23},"generated":{"line":2,"column":1971}},{"source":"LatencyMonitor.js","name":"hrtime","original":{"line":66,"column":31},"generated":{"line":2,"column":1973}},{"source":"LatencyMonitor.js","name":"getDeltaMS","original":{"line":67,"column":17},"generated":{"line":2,"column":1980}},{"source":"LatencyMonitor.js","name":"getDeltaMS","original":{"line":67,"column":17},"generated":{"line":2,"column":1982}},{"source":"LatencyMonitor.js","name":null,"original":{"line":67,"column":30},"generated":{"line":2,"column":1993}},{"source":"LatencyMonitor.js","name":"startTime","original":{"line":67,"column":31},"generated":{"line":2,"column":2002}},{"source":"LatencyMonitor.js","name":"hrtime","original":{"line":68,"column":22},"generated":{"line":2,"column":2005}},{"source":"LatencyMonitor.js","name":"hrtime","original":{"line":68,"column":22},"generated":{"line":2,"column":2009}},{"source":"LatencyMonitor.js","name":"that","original":{"line":68,"column":31},"generated":{"line":2,"column":2011}},{"source":"LatencyMonitor.js","name":"now","original":{"line":68,"column":36},"generated":{"line":2,"column":2013}},{"source":"LatencyMonitor.js","name":"startTime","original":{"line":68,"column":40},"generated":{"line":2,"column":2017}},{"source":"LatencyMonitor.js","name":"hrtime","original":{"line":69,"column":24},"generated":{"line":2,"column":2020}},{"source":"LatencyMonitor.js","name":null,"original":{"line":69,"column":36},"generated":{"line":2,"column":2027}},{"source":"LatencyMonitor.js","name":"hrtime","original":{"line":69,"column":24},"generated":{"line":2,"column":2031}},{"source":"LatencyMonitor.js","name":null,"original":{"line":69,"column":31},"generated":{"line":2,"column":2033}},{"source":"LatencyMonitor.js","name":"hrtime","original":{"line":69,"column":45},"generated":{"line":2,"column":2036}},{"source":"LatencyMonitor.js","name":null,"original":{"line":69,"column":52},"generated":{"line":2,"column":2038}},{"source":"LatencyMonitor.js","name":null,"original":{"line":69,"column":57},"generated":{"line":2,"column":2041}},{"source":"LatencyMonitor.js","name":null,"original":{"line":72,"column":37},"generated":{"line":2,"column":2047}},{"source":"LatencyMonitor.js","name":"window","original":{"line":72,"column":26},"generated":{"line":2,"column":2067}},{"source":"LatencyMonitor.js","name":null,"original":{"line":72,"column":52},"generated":{"line":2,"column":2076}},{"source":"LatencyMonitor.js","name":"window","original":{"line":72,"column":62},"generated":{"line":2,"column":2078}},{"source":"LatencyMonitor.js","name":"window","original":{"line":72,"column":62},"generated":{"line":2,"column":2080}},{"source":"LatencyMonitor.js","name":"window","original":{"line":72,"column":62},"generated":{"line":2,"column":2089}},{"source":"LatencyMonitor.js","name":null,"original":{"line":72,"column":70},"generated":{"line":2,"column":2096}},{"source":"LatencyMonitor.js","name":null,"original":{"line":73,"column":18},"generated":{"line":2,"column":2116}},{"source":"LatencyMonitor.js","name":null,"original":{"line":73,"column":18},"generated":{"line":2,"column":2118}},{"source":"LatencyMonitor.js","name":"now","original":{"line":74,"column":17},"generated":{"line":2,"column":2154}},{"source":"LatencyMonitor.js","name":"now","original":{"line":74,"column":17},"generated":{"line":2,"column":2156}},{"source":"LatencyMonitor.js","name":"window","original":{"line":74,"column":23},"generated":{"line":2,"column":2160}},{"source":"LatencyMonitor.js","name":"performance","original":{"line":74,"column":30},"generated":{"line":2,"column":2167}},{"source":"LatencyMonitor.js","name":"now","original":{"line":74,"column":42},"generated":{"line":2,"column":2179}},{"source":"LatencyMonitor.js","name":"bind","original":{"line":74,"column":46},"generated":{"line":2,"column":2183}},{"source":"LatencyMonitor.js","name":"window","original":{"line":74,"column":51},"generated":{"line":2,"column":2188}},{"source":"LatencyMonitor.js","name":"performance","original":{"line":74,"column":58},"generated":{"line":2,"column":2195}},{"source":"LatencyMonitor.js","name":"getDeltaMS","original":{"line":75,"column":17},"generated":{"line":2,"column":2208}},{"source":"LatencyMonitor.js","name":"getDeltaMS","original":{"line":75,"column":17},"generated":{"line":2,"column":2210}},{"source":"LatencyMonitor.js","name":null,"original":{"line":75,"column":30},"generated":{"line":2,"column":2221}},{"source":"LatencyMonitor.js","name":"startTime","original":{"line":75,"column":31},"generated":{"line":2,"column":2230}},{"source":"LatencyMonitor.js","name":"Math","original":{"line":75,"column":45},"generated":{"line":2,"column":2233}},{"source":"LatencyMonitor.js","name":"Math","original":{"line":75,"column":45},"generated":{"line":2,"column":2240}},{"source":"LatencyMonitor.js","name":"round","original":{"line":75,"column":50},"generated":{"line":2,"column":2245}},{"source":"LatencyMonitor.js","name":"that","original":{"line":75,"column":56},"generated":{"line":2,"column":2251}},{"source":"LatencyMonitor.js","name":"now","original":{"line":75,"column":61},"generated":{"line":2,"column":2253}},{"source":"LatencyMonitor.js","name":"startTime","original":{"line":75,"column":69},"generated":{"line":2,"column":2259}},{"source":"LatencyMonitor.js","name":null,"original":{"line":77,"column":18},"generated":{"line":2,"column":2265}},{"source":"LatencyMonitor.js","name":null,"original":{"line":77,"column":18},"generated":{"line":2,"column":2267}},{"source":"LatencyMonitor.js","name":"now","original":{"line":78,"column":17},"generated":{"line":2,"column":2296}},{"source":"LatencyMonitor.js","name":"now","original":{"line":78,"column":17},"generated":{"line":2,"column":2298}},{"source":"LatencyMonitor.js","name":"Date","original":{"line":78,"column":23},"generated":{"line":2,"column":2302}},{"source":"LatencyMonitor.js","name":"now","original":{"line":78,"column":28},"generated":{"line":2,"column":2307}},{"source":"LatencyMonitor.js","name":"getDeltaMS","original":{"line":79,"column":17},"generated":{"line":2,"column":2311}},{"source":"LatencyMonitor.js","name":"getDeltaMS","original":{"line":79,"column":17},"generated":{"line":2,"column":2313}},{"source":"LatencyMonitor.js","name":null,"original":{"line":79,"column":30},"generated":{"line":2,"column":2324}},{"source":"LatencyMonitor.js","name":"startTime","original":{"line":79,"column":31},"generated":{"line":2,"column":2333}},{"source":"LatencyMonitor.js","name":"that","original":{"line":79,"column":45},"generated":{"line":2,"column":2336}},{"source":"LatencyMonitor.js","name":"that","original":{"line":79,"column":45},"generated":{"line":2,"column":2343}},{"source":"LatencyMonitor.js","name":"now","original":{"line":79,"column":50},"generated":{"line":2,"column":2345}},{"source":"LatencyMonitor.js","name":"startTime","original":{"line":79,"column":58},"generated":{"line":2,"column":2351}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":82,"column":13},"generated":{"line":2,"column":2355}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":82,"column":13},"generated":{"line":2,"column":2357}},{"source":"LatencyMonitor.js","name":"that","original":{"line":82,"column":28},"generated":{"line":2,"column":2370}},{"source":"LatencyMonitor.js","name":"_initLatencyData","original":{"line":82,"column":33},"generated":{"line":2,"column":2372}},{"source":"LatencyMonitor.js","name":"isBrowser","original":{"line":87,"column":12},"generated":{"line":2,"column":2391}},{"source":"LatencyMonitor.js","name":"_visibilityChangeEmitter","original":{"line":88,"column":17},"generated":{"line":2,"column":2397}},{"source":"LatencyMonitor.js","name":"_visibilityChangeEmitter","original":{"line":88,"column":17},"generated":{"line":2,"column":2399}},{"source":"LatencyMonitor.js","name":null,"original":{"line":88,"column":44},"generated":{"line":2,"column":2424}},{"source":"LatencyMonitor.js","name":null,"original":{"line":88,"column":12},"generated":{"line":2,"column":2428}},{"source":"LatencyMonitor.js","name":null,"original":{"line":88,"column":12},"generated":{"line":2,"column":2430}},{"source":"LatencyMonitor.js","name":"_visibilityChangeEmitter","original":{"line":89,"column":17},"generated":{"line":2,"column":2438}},{"source":"LatencyMonitor.js","name":"_visibilityChangeEmitter","original":{"line":89,"column":17},"generated":{"line":2,"column":2440}},{"source":"LatencyMonitor.js","name":"on","original":{"line":89,"column":42},"generated":{"line":2,"column":2465}},{"source":"LatencyMonitor.js","name":null,"original":{"line":89,"column":45},"generated":{"line":2,"column":2468}},{"source":"LatencyMonitor.js","name":null,"original":{"line":89,"column":65},"generated":{"line":2,"column":2487}},{"source":"LatencyMonitor.js","name":"pageInFocus","original":{"line":89,"column":66},"generated":{"line":2,"column":2496}},{"source":"LatencyMonitor.js","name":"pageInFocus","original":{"line":90,"column":20},"generated":{"line":2,"column":2499}},{"source":"LatencyMonitor.js","name":"_startTimers","original":{"line":91,"column":25},"generated":{"line":2,"column":2501}},{"source":"LatencyMonitor.js","name":"_startTimers","original":{"line":91,"column":25},"generated":{"line":2,"column":2503}},{"source":"LatencyMonitor.js","name":"_emitSummary","original":{"line":93,"column":25},"generated":{"line":2,"column":2519}},{"source":"LatencyMonitor.js","name":"_emitSummary","original":{"line":93,"column":25},"generated":{"line":2,"column":2521}},{"source":"LatencyMonitor.js","name":"_stopTimers","original":{"line":94,"column":25},"generated":{"line":2,"column":2536}},{"source":"LatencyMonitor.js","name":"_stopTimers","original":{"line":94,"column":25},"generated":{"line":2,"column":2538}},{"source":"LatencyMonitor.js","name":"that","original":{"line":99,"column":13},"generated":{"line":2,"column":2556}},{"source":"LatencyMonitor.js","name":"_visibilityChangeEmitter","original":{"line":99,"column":18},"generated":{"line":2,"column":2558}},{"source":"LatencyMonitor.js","name":"that","original":{"line":99,"column":46},"generated":{"line":2,"column":2585}},{"source":"LatencyMonitor.js","name":"_visibilityChangeEmitter","original":{"line":99,"column":51},"generated":{"line":2,"column":2587}},{"source":"LatencyMonitor.js","name":"isVisible","original":{"line":99,"column":76},"generated":{"line":2,"column":2612}},{"source":"LatencyMonitor.js","name":"_startTimers","original":{"line":100,"column":17},"generated":{"line":2,"column":2625}},{"source":"LatencyMonitor.js","name":"_startTimers","original":{"line":100,"column":17},"generated":{"line":2,"column":2627}},{"source":"LatencyMonitor.js","name":null,"original":{"line":41,"column":105},"generated":{"line":2,"column":2642}},{"source":"LatencyMonitor.js","name":null,"original":{"line":108,"column":19},"generated":{"line":2,"column":2691}},{"source":"LatencyMonitor.js","name":null,"original":{"line":108,"column":19},"generated":{"line":2,"column":2697}},{"source":"LatencyMonitor.js","name":null,"original":{"line":108,"column":19},"generated":{"line":2,"column":2708}},{"source":"LatencyMonitor.js","name":null,"original":{"line":108,"column":19},"generated":{"line":2,"column":2712}},{"source":"LatencyMonitor.js","name":null,"original":{"line":108,"column":19},"generated":{"line":2,"column":2714}},{"source":"LatencyMonitor.js","name":null,"original":{"line":110,"column":12},"generated":{"line":2,"column":2719}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":110,"column":17},"generated":{"line":2,"column":2724}},{"source":"LatencyMonitor.js","name":"_checkLatency","original":{"line":113,"column":13},"generated":{"line":2,"column":2742}},{"source":"LatencyMonitor.js","name":"_checkLatency","original":{"line":113,"column":13},"generated":{"line":2,"column":2747}},{"source":"LatencyMonitor.js","name":null,"original":{"line":114,"column":12},"generated":{"line":2,"column":2763}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":114,"column":17},"generated":{"line":2,"column":2768}},{"source":"LatencyMonitor.js","name":"_emitIntervalID","original":{"line":115,"column":17},"generated":{"line":2,"column":2789}},{"source":"LatencyMonitor.js","name":"_emitIntervalID","original":{"line":115,"column":17},"generated":{"line":2,"column":2794}},{"source":"LatencyMonitor.js","name":"setInterval","original":{"line":115,"column":35},"generated":{"line":2,"column":2810}},{"source":"LatencyMonitor.js","name":null,"original":{"line":115,"column":47},"generated":{"line":2,"column":2822}},{"source":"LatencyMonitor.js","name":null,"original":{"line":115,"column":53},"generated":{"line":2,"column":2833}},{"source":"LatencyMonitor.js","name":null,"original":{"line":115,"column":53},"generated":{"line":2,"column":2840}},{"source":"LatencyMonitor.js","name":"_emitSummary","original":{"line":115,"column":58},"generated":{"line":2,"column":2842}},{"source":"LatencyMonitor.js","name":null,"original":{"line":115,"column":74},"generated":{"line":2,"column":2858}},{"source":"LatencyMonitor.js","name":"dataEmitIntervalMs","original":{"line":115,"column":79},"generated":{"line":2,"column":2863}},{"source":"LatencyMonitor.js","name":null,"original":{"line":116,"column":16},"generated":{"line":2,"column":2884}},{"source":"LatencyMonitor.js","name":null,"original":{"line":116,"column":27},"generated":{"line":2,"column":2886}},{"source":"LatencyMonitor.js","name":null,"original":{"line":116,"column":27},"generated":{"line":2,"column":2888}},{"source":"LatencyMonitor.js","name":null,"original":{"line":116,"column":27},"generated":{"line":2,"column":2897}},{"source":"LatencyMonitor.js","name":"_emitIntervalID","original":{"line":116,"column":32},"generated":{"line":2,"column":2902}},{"source":"LatencyMonitor.js","name":"unref","original":{"line":116,"column":48},"generated":{"line":2,"column":2918}},{"source":"LatencyMonitor.js","name":"_emitIntervalID","original":{"line":117,"column":21},"generated":{"line":2,"column":2926}},{"source":"LatencyMonitor.js","name":"_emitIntervalID","original":{"line":117,"column":21},"generated":{"line":2,"column":2931}},{"source":"LatencyMonitor.js","name":"unref","original":{"line":117,"column":37},"generated":{"line":2,"column":2947}},{"source":"LatencyMonitor.js","name":null,"original":{"line":126,"column":18},"generated":{"line":2,"column":2978}},{"source":"LatencyMonitor.js","name":null,"original":{"line":126,"column":18},"generated":{"line":2,"column":2984}},{"source":"LatencyMonitor.js","name":null,"original":{"line":127,"column":12},"generated":{"line":2,"column":2995}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":127,"column":17},"generated":{"line":2,"column":3000}},{"source":"LatencyMonitor.js","name":null,"original":{"line":128,"column":25},"generated":{"line":2,"column":3018}},{"source":"LatencyMonitor.js","name":null,"original":{"line":128,"column":25},"generated":{"line":2,"column":3031}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":128,"column":30},"generated":{"line":2,"column":3036}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":129,"column":17},"generated":{"line":2,"column":3053}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":129,"column":17},"generated":{"line":2,"column":3058}},{"source":"LatencyMonitor.js","name":"undefined","original":{"line":129,"column":35},"generated":{"line":2,"column":3079}},{"source":"LatencyMonitor.js","name":null,"original":{"line":131,"column":12},"generated":{"line":2,"column":3082}},{"source":"LatencyMonitor.js","name":"_emitIntervalID","original":{"line":131,"column":17},"generated":{"line":2,"column":3087}},{"source":"LatencyMonitor.js","name":null,"original":{"line":132,"column":26},"generated":{"line":2,"column":3105}},{"source":"LatencyMonitor.js","name":null,"original":{"line":132,"column":26},"generated":{"line":2,"column":3119}},{"source":"LatencyMonitor.js","name":"_emitIntervalID","original":{"line":132,"column":31},"generated":{"line":2,"column":3124}},{"source":"LatencyMonitor.js","name":"_emitIntervalID","original":{"line":133,"column":17},"generated":{"line":2,"column":3141}},{"source":"LatencyMonitor.js","name":"_emitIntervalID","original":{"line":133,"column":17},"generated":{"line":2,"column":3146}},{"source":"LatencyMonitor.js","name":"undefined","original":{"line":133,"column":35},"generated":{"line":2,"column":3167}},{"source":"LatencyMonitor.js","name":null,"original":{"line":141,"column":19},"generated":{"line":2,"column":3192}},{"source":"LatencyMonitor.js","name":null,"original":{"line":141,"column":19},"generated":{"line":2,"column":3198}},{"source":"LatencyMonitor.js","name":"summary","original":{"line":142,"column":14},"generated":{"line":2,"column":3209}},{"source":"LatencyMonitor.js","name":"summary","original":{"line":142,"column":14},"generated":{"line":2,"column":3213}},{"source":"LatencyMonitor.js","name":null,"original":{"line":142,"column":24},"generated":{"line":2,"column":3215}},{"source":"LatencyMonitor.js","name":"getSummary","original":{"line":142,"column":29},"generated":{"line":2,"column":3220}},{"source":"LatencyMonitor.js","name":"summary","original":{"line":143,"column":12},"generated":{"line":2,"column":3233}},{"source":"LatencyMonitor.js","name":"events","original":{"line":143,"column":20},"generated":{"line":2,"column":3235}},{"source":"LatencyMonitor.js","name":null,"original":{"line":143,"column":29},"generated":{"line":2,"column":3242}},{"source":"LatencyMonitor.js","name":"emit","original":{"line":144,"column":17},"generated":{"line":2,"column":3245}},{"source":"LatencyMonitor.js","name":"emit","original":{"line":144,"column":17},"generated":{"line":2,"column":3250}},{"source":"LatencyMonitor.js","name":null,"original":{"line":144,"column":22},"generated":{"line":2,"column":3255}},{"source":"LatencyMonitor.js","name":"summary","original":{"line":144,"column":30},"generated":{"line":2,"column":3262}},{"source":"LatencyMonitor.js","name":null,"original":{"line":153,"column":17},"generated":{"line":2,"column":3285}},{"source":"LatencyMonitor.js","name":null,"original":{"line":153,"column":17},"generated":{"line":2,"column":3291}},{"source":"LatencyMonitor.js","name":"latency","original":{"line":157,"column":14},"generated":{"line":2,"column":3302}},{"source":"LatencyMonitor.js","name":"latency","original":{"line":157,"column":14},"generated":{"line":2,"column":3306}},{"source":"LatencyMonitor.js","name":null,"original":{"line":157,"column":24},"generated":{"line":2,"column":3308}},{"source":"LatencyMonitor.js","name":null,"original":{"line":158,"column":20},"generated":{"line":2,"column":3309}},{"source":"LatencyMonitor.js","name":null,"original":{"line":158,"column":20},"generated":{"line":2,"column":3316}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":158,"column":25},"generated":{"line":2,"column":3321}},{"source":"LatencyMonitor.js","name":"events","original":{"line":158,"column":38},"generated":{"line":2,"column":3334}},{"source":"LatencyMonitor.js","name":null,"original":{"line":159,"column":19},"generated":{"line":2,"column":3341}},{"source":"LatencyMonitor.js","name":null,"original":{"line":159,"column":19},"generated":{"line":2,"column":3347}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":159,"column":24},"generated":{"line":2,"column":3352}},{"source":"LatencyMonitor.js","name":"minMs","original":{"line":159,"column":37},"generated":{"line":2,"column":3365}},{"source":"LatencyMonitor.js","name":null,"original":{"line":160,"column":19},"generated":{"line":2,"column":3371}},{"source":"LatencyMonitor.js","name":null,"original":{"line":160,"column":19},"generated":{"line":2,"column":3377}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":160,"column":24},"generated":{"line":2,"column":3382}},{"source":"LatencyMonitor.js","name":"maxMs","original":{"line":160,"column":37},"generated":{"line":2,"column":3395}},{"source":"LatencyMonitor.js","name":null,"original":{"line":161,"column":19},"generated":{"line":2,"column":3401}},{"source":"LatencyMonitor.js","name":null,"original":{"line":161,"column":19},"generated":{"line":2,"column":3407}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":161,"column":24},"generated":{"line":2,"column":3412}},{"source":"LatencyMonitor.js","name":"events","original":{"line":161,"column":37},"generated":{"line":2,"column":3425}},{"source":"LatencyMonitor.js","name":null,"original":{"line":161,"column":46},"generated":{"line":2,"column":3432}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":161,"column":51},"generated":{"line":2,"column":3437}},{"source":"LatencyMonitor.js","name":"totalMs","original":{"line":161,"column":64},"generated":{"line":2,"column":3450}},{"source":"LatencyMonitor.js","name":null,"original":{"line":161,"column":74},"generated":{"line":2,"column":3458}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":161,"column":79},"generated":{"line":2,"column":3463}},{"source":"LatencyMonitor.js","name":"events","original":{"line":161,"column":92},"generated":{"line":2,"column":3476}},{"source":"LatencyMonitor.js","name":"Number","original":{"line":162,"column":18},"generated":{"line":2,"column":3483}},{"source":"LatencyMonitor.js","name":"POSITIVE_INFINITY","original":{"line":162,"column":25},"generated":{"line":2,"column":3490}},{"source":"LatencyMonitor.js","name":null,"original":{"line":163,"column":22},"generated":{"line":2,"column":3508}},{"source":"LatencyMonitor.js","name":null,"original":{"line":163,"column":22},"generated":{"line":2,"column":3517}},{"source":"LatencyMonitor.js","name":"getDeltaMS","original":{"line":163,"column":27},"generated":{"line":2,"column":3522}},{"source":"LatencyMonitor.js","name":null,"original":{"line":163,"column":38},"generated":{"line":2,"column":3533}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":163,"column":43},"generated":{"line":2,"column":3538}},{"source":"LatencyMonitor.js","name":"startTime","original":{"line":163,"column":56},"generated":{"line":2,"column":3551}},{"source":"LatencyMonitor.js","name":"latency","original":{"line":168,"column":15},"generated":{"line":2,"column":3563}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":165,"column":13},"generated":{"line":2,"column":3570}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":165,"column":13},"generated":{"line":2,"column":3575}},{"source":"LatencyMonitor.js","name":null,"original":{"line":165,"column":28},"generated":{"line":2,"column":3588}},{"source":"LatencyMonitor.js","name":"_initLatencyData","original":{"line":165,"column":33},"generated":{"line":2,"column":3593}},{"source":"LatencyMonitor.js","name":null,"original":{"line":167,"column":14},"generated":{"line":2,"column":3612}},{"source":"LatencyMonitor.js","name":null,"original":{"line":167,"column":14},"generated":{"line":2,"column":3614}},{"source":"LatencyMonitor.js","name":"latency","original":{"line":167,"column":29},"generated":{"line":2,"column":3628}},{"source":"LatencyMonitor.js","name":"latency","original":{"line":168,"column":15},"generated":{"line":2,"column":3631}},{"source":"LatencyMonitor.js","name":null,"original":{"line":177,"column":20},"generated":{"line":2,"column":3656}},{"source":"LatencyMonitor.js","name":null,"original":{"line":177,"column":20},"generated":{"line":2,"column":3662}},{"source":"LatencyMonitor.js","name":null,"original":{"line":177,"column":20},"generated":{"line":2,"column":3673}},{"source":"LatencyMonitor.js","name":null,"original":{"line":177,"column":20},"generated":{"line":2,"column":3677}},{"source":"LatencyMonitor.js","name":null,"original":{"line":177,"column":20},"generated":{"line":2,"column":3679}},{"source":"LatencyMonitor.js","name":"that","original":{"line":178,"column":14},"generated":{"line":2,"column":3684}},{"source":"LatencyMonitor.js","name":null,"original":{"line":178,"column":21},"generated":{"line":2,"column":3686}},{"source":"LatencyMonitor.js","name":"randomness","original":{"line":180,"column":14},"generated":{"line":2,"column":3691}},{"source":"LatencyMonitor.js","name":"Math","original":{"line":180,"column":28},"generated":{"line":2,"column":3693}},{"source":"LatencyMonitor.js","name":"random","original":{"line":180,"column":33},"generated":{"line":2,"column":3698}},{"source":"LatencyMonitor.js","name":"that","original":{"line":180,"column":44},"generated":{"line":2,"column":3707}},{"source":"LatencyMonitor.js","name":"_latecyCheckMultiply","original":{"line":180,"column":49},"generated":{"line":2,"column":3709}},{"source":"LatencyMonitor.js","name":"that","original":{"line":180,"column":73},"generated":{"line":2,"column":3730}},{"source":"LatencyMonitor.js","name":"_latecyCheckSubtract","original":{"line":180,"column":78},"generated":{"line":2,"column":3732}},{"source":"LatencyMonitor.js","name":"localData","original":{"line":184,"column":14},"generated":{"line":2,"column":3753}},{"source":"LatencyMonitor.js","name":null,"original":{"line":184,"column":26},"generated":{"line":2,"column":3755}},{"source":"LatencyMonitor.js","name":"Math","original":{"line":185,"column":25},"generated":{"line":2,"column":3756}},{"source":"LatencyMonitor.js","name":"Math","original":{"line":185,"column":25},"generated":{"line":2,"column":3768}},{"source":"LatencyMonitor.js","name":"ceil","original":{"line":185,"column":30},"generated":{"line":2,"column":3773}},{"source":"LatencyMonitor.js","name":"that","original":{"line":185,"column":35},"generated":{"line":2,"column":3778}},{"source":"LatencyMonitor.js","name":"latencyCheckIntervalMs","original":{"line":185,"column":40},"generated":{"line":2,"column":3780}},{"source":"LatencyMonitor.js","name":"randomness","original":{"line":185,"column":65},"generated":{"line":2,"column":3803}},{"source":"LatencyMonitor.js","name":"that","original":{"line":186,"column":23},"generated":{"line":2,"column":3806}},{"source":"LatencyMonitor.js","name":"that","original":{"line":186,"column":23},"generated":{"line":2,"column":3816}},{"source":"LatencyMonitor.js","name":"now","original":{"line":186,"column":28},"generated":{"line":2,"column":3818}},{"source":"LatencyMonitor.js","name":"cb","original":{"line":189,"column":14},"generated":{"line":2,"column":3825}},{"source":"LatencyMonitor.js","name":null,"original":{"line":189,"column":19},"generated":{"line":2,"column":3827}},{"source":"LatencyMonitor.js","name":null,"original":{"line":191,"column":16},"generated":{"line":2,"column":3838}},{"source":"LatencyMonitor.js","name":null,"original":{"line":191,"column":17},"generated":{"line":2,"column":3841}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":191,"column":22},"generated":{"line":2,"column":3843}},{"source":"LatencyMonitor.js","name":null,"original":{"line":191,"column":16},"generated":{"line":2,"column":3859}},{"source":"LatencyMonitor.js","name":"deltaMS","original":{"line":194,"column":18},"generated":{"line":2,"column":3860}},{"source":"LatencyMonitor.js","name":"deltaMS","original":{"line":194,"column":18},"generated":{"line":2,"column":3864}},{"source":"LatencyMonitor.js","name":"that","original":{"line":194,"column":28},"generated":{"line":2,"column":3866}},{"source":"LatencyMonitor.js","name":"getDeltaMS","original":{"line":194,"column":33},"generated":{"line":2,"column":3868}},{"source":"LatencyMonitor.js","name":"localData","original":{"line":194,"column":44},"generated":{"line":2,"column":3879}},{"source":"LatencyMonitor.js","name":"startTime","original":{"line":194,"column":54},"generated":{"line":2,"column":3881}},{"source":"LatencyMonitor.js","name":"localData","original":{"line":194,"column":67},"generated":{"line":2,"column":3892}},{"source":"LatencyMonitor.js","name":"deltaOffset","original":{"line":194,"column":77},"generated":{"line":2,"column":3894}},{"source":"LatencyMonitor.js","name":"_checkLatency","original":{"line":195,"column":17},"generated":{"line":2,"column":3906}},{"source":"LatencyMonitor.js","name":"_checkLatency","original":{"line":195,"column":17},"generated":{"line":2,"column":3908}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":198,"column":17},"generated":{"line":2,"column":3924}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":198,"column":17},"generated":{"line":2,"column":3926}},{"source":"LatencyMonitor.js","name":"events","original":{"line":198,"column":30},"generated":{"line":2,"column":3939}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":199,"column":17},"generated":{"line":2,"column":3948}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":199,"column":17},"generated":{"line":2,"column":3950}},{"source":"LatencyMonitor.js","name":"minMs","original":{"line":199,"column":30},"generated":{"line":2,"column":3963}},{"source":"LatencyMonitor.js","name":"Math","original":{"line":199,"column":38},"generated":{"line":2,"column":3969}},{"source":"LatencyMonitor.js","name":"min","original":{"line":199,"column":43},"generated":{"line":2,"column":3974}},{"source":"LatencyMonitor.js","name":"that","original":{"line":199,"column":47},"generated":{"line":2,"column":3978}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":199,"column":52},"generated":{"line":2,"column":3980}},{"source":"LatencyMonitor.js","name":"minMs","original":{"line":199,"column":65},"generated":{"line":2,"column":3993}},{"source":"LatencyMonitor.js","name":"deltaMS","original":{"line":199,"column":72},"generated":{"line":2,"column":3999}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":200,"column":17},"generated":{"line":2,"column":4002}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":200,"column":17},"generated":{"line":2,"column":4004}},{"source":"LatencyMonitor.js","name":"maxMs","original":{"line":200,"column":30},"generated":{"line":2,"column":4017}},{"source":"LatencyMonitor.js","name":"Math","original":{"line":200,"column":38},"generated":{"line":2,"column":4023}},{"source":"LatencyMonitor.js","name":"max","original":{"line":200,"column":43},"generated":{"line":2,"column":4028}},{"source":"LatencyMonitor.js","name":"that","original":{"line":200,"column":47},"generated":{"line":2,"column":4032}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":200,"column":52},"generated":{"line":2,"column":4034}},{"source":"LatencyMonitor.js","name":"maxMs","original":{"line":200,"column":65},"generated":{"line":2,"column":4047}},{"source":"LatencyMonitor.js","name":"deltaMS","original":{"line":200,"column":72},"generated":{"line":2,"column":4053}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":201,"column":17},"generated":{"line":2,"column":4056}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":201,"column":17},"generated":{"line":2,"column":4058}},{"source":"LatencyMonitor.js","name":"totalMs","original":{"line":201,"column":30},"generated":{"line":2,"column":4071}},{"source":"LatencyMonitor.js","name":"deltaMS","original":{"line":201,"column":41},"generated":{"line":2,"column":4080}},{"source":"LatencyMonitor.js","name":null,"original":{"line":202,"column":18},"generated":{"line":2,"column":4082}},{"source":"LatencyMonitor.js","name":null,"original":{"line":202,"column":18},"generated":{"line":2,"column":4084}},{"source":"LatencyMonitor.js","name":"deltaMS","original":{"line":202,"column":37},"generated":{"line":2,"column":4102}},{"source":"LatencyMonitor.js","name":"that","original":{"line":202,"column":46},"generated":{"line":2,"column":4104}},{"source":"LatencyMonitor.js","name":"_latencyData","original":{"line":202,"column":51},"generated":{"line":2,"column":4106}},{"source":"LatencyMonitor.js","name":null,"original":{"line":204,"column":14},"generated":{"line":2,"column":4122}},{"source":"LatencyMonitor.js","name":null,"original":{"line":204,"column":14},"generated":{"line":2,"column":4124}},{"source":"LatencyMonitor.js","name":"localData","original":{"line":204,"column":31},"generated":{"line":2,"column":4140}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":206,"column":13},"generated":{"line":2,"column":4143}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":206,"column":13},"generated":{"line":2,"column":4148}},{"source":"LatencyMonitor.js","name":"setTimeout","original":{"line":206,"column":31},"generated":{"line":2,"column":4164}},{"source":"LatencyMonitor.js","name":null,"original":{"line":206,"column":42},"generated":{"line":2,"column":4175}},{"source":"LatencyMonitor.js","name":"that","original":{"line":208,"column":16},"generated":{"line":2,"column":4186}},{"source":"LatencyMonitor.js","name":"asyncTestFn","original":{"line":208,"column":21},"generated":{"line":2,"column":4188}},{"source":"LatencyMonitor.js","name":"deltaOffset","original":{"line":210,"column":26},"generated":{"line":2,"column":4201}},{"source":"LatencyMonitor.js","name":"deltaOffset","original":{"line":210,"column":26},"generated":{"line":2,"column":4203}},{"source":"LatencyMonitor.js","name":null,"original":{"line":210,"column":40},"generated":{"line":2,"column":4215}},{"source":"LatencyMonitor.js","name":"startTime","original":{"line":211,"column":26},"generated":{"line":2,"column":4217}},{"source":"LatencyMonitor.js","name":"startTime","original":{"line":211,"column":26},"generated":{"line":2,"column":4219}},{"source":"LatencyMonitor.js","name":"that","original":{"line":211,"column":38},"generated":{"line":2,"column":4229}},{"source":"LatencyMonitor.js","name":"now","original":{"line":211,"column":43},"generated":{"line":2,"column":4231}},{"source":"LatencyMonitor.js","name":"asyncTestFn","original":{"line":212,"column":21},"generated":{"line":2,"column":4237}},{"source":"LatencyMonitor.js","name":"asyncTestFn","original":{"line":212,"column":21},"generated":{"line":2,"column":4239}},{"source":"LatencyMonitor.js","name":"cb","original":{"line":212,"column":33},"generated":{"line":2,"column":4251}},{"source":"LatencyMonitor.js","name":"deltaOffset","original":{"line":216,"column":26},"generated":{"line":2,"column":4256}},{"source":"LatencyMonitor.js","name":"deltaOffset","original":{"line":216,"column":26},"generated":{"line":2,"column":4258}},{"source":"LatencyMonitor.js","name":null,"original":{"line":216,"column":41},"generated":{"line":2,"column":4271}},{"source":"LatencyMonitor.js","name":"cb","original":{"line":219,"column":16},"generated":{"line":2,"column":4273}},{"source":"LatencyMonitor.js","name":"localData","original":{"line":221,"column":11},"generated":{"line":2,"column":4279}},{"source":"LatencyMonitor.js","name":"deltaOffset","original":{"line":221,"column":21},"generated":{"line":2,"column":4281}},{"source":"LatencyMonitor.js","name":null,"original":{"line":223,"column":12},"generated":{"line":2,"column":4295}},{"source":"LatencyMonitor.js","name":null,"original":{"line":223,"column":23},"generated":{"line":2,"column":4297}},{"source":"LatencyMonitor.js","name":null,"original":{"line":223,"column":23},"generated":{"line":2,"column":4299}},{"source":"LatencyMonitor.js","name":null,"original":{"line":223,"column":23},"generated":{"line":2,"column":4308}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":223,"column":28},"generated":{"line":2,"column":4313}},{"source":"LatencyMonitor.js","name":"unref","original":{"line":223,"column":44},"generated":{"line":2,"column":4329}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":224,"column":17},"generated":{"line":2,"column":4337}},{"source":"LatencyMonitor.js","name":"_checkLatencyID","original":{"line":224,"column":17},"generated":{"line":2,"column":4342}},{"source":"LatencyMonitor.js","name":"unref","original":{"line":224,"column":33},"generated":{"line":2,"column":4358}},{"source":"LatencyMonitor.js","name":null,"original":{"line":228,"column":23},"generated":{"line":2,"column":4392}},{"source":"LatencyMonitor.js","name":null,"original":{"line":228,"column":23},"generated":{"line":2,"column":4398}},{"source":"LatencyMonitor.js","name":null,"original":{"line":229,"column":15},"generated":{"line":2,"column":4409}},{"source":"LatencyMonitor.js","name":null,"original":{"line":229,"column":15},"generated":{"line":2,"column":4415}},{"source":"LatencyMonitor.js","name":null,"original":{"line":230,"column":23},"generated":{"line":2,"column":4416}},{"source":"LatencyMonitor.js","name":null,"original":{"line":230,"column":23},"generated":{"line":2,"column":4426}},{"source":"LatencyMonitor.js","name":"now","original":{"line":230,"column":28},"generated":{"line":2,"column":4431}},{"source":"LatencyMonitor.js","name":"Number","original":{"line":231,"column":19},"generated":{"line":2,"column":4437}},{"source":"LatencyMonitor.js","name":"Number","original":{"line":231,"column":19},"generated":{"line":2,"column":4443}},{"source":"LatencyMonitor.js","name":"POSITIVE_INFINITY","original":{"line":231,"column":26},"generated":{"line":2,"column":4450}},{"source":"LatencyMonitor.js","name":"Number","original":{"line":232,"column":19},"generated":{"line":2,"column":4468}},{"source":"LatencyMonitor.js","name":"Number","original":{"line":232,"column":19},"generated":{"line":2,"column":4474}},{"source":"LatencyMonitor.js","name":"NEGATIVE_INFINITY","original":{"line":232,"column":26},"generated":{"line":2,"column":4481}},{"source":"LatencyMonitor.js","name":null,"original":{"line":233,"column":20},"generated":{"line":2,"column":4499}},{"source":"LatencyMonitor.js","name":null,"original":{"line":233,"column":20},"generated":{"line":2,"column":4506}},{"source":"LatencyMonitor.js","name":null,"original":{"line":234,"column":21},"generated":{"line":2,"column":4508}},{"source":"LatencyMonitor.js","name":null,"original":{"line":234,"column":21},"generated":{"line":2,"column":4516}},{"source":"LatencyMonitor.js","name":null,"original":{"line":239,"column":0},"generated":{"line":2,"column":4528}},{"source":"LatencyMonitor.js","name":"isBrowser","original":{"line":239,"column":9},"generated":{"line":2,"column":4537}},{"source":"LatencyMonitor.js","name":null,"original":{"line":240,"column":11},"generated":{"line":2,"column":4541}},{"source":"LatencyMonitor.js","name":null,"original":{"line":240,"column":29},"generated":{"line":2,"column":4547}},{"source":"LatencyMonitor.js","name":"window","original":{"line":240,"column":18},"generated":{"line":2,"column":4567}},{"source":"LatencyMonitor.js","name":"LatencyMonitor","original":{"line":243,"column":15},"generated":{"line":2,"column":4574}},{"source":"LatencyMonitor.js","name":"LatencyMonitor","original":{"line":243,"column":15},"generated":{"line":2,"column":4582}},{"source":"LatencyMonitor.js","name":"LatencyMonitor","original":{"line":243,"column":15},"generated":{"line":2,"column":4590}}],"sources":{"LatencyMonitor.js":"/* global window */\nimport EventEmitter from 'events';\nimport lodashGet from 'lodash/get';\nimport isFunction from 'lodash/isFunction';\nimport VisibilityChangeEmitter from './VisibilityChangeEmitter';\n\nconst debug = require('debug')('latency-monitor:LatencyMonitor');\n\n/**\n * @typedef {Object} SummaryObject\n * @property {Number} events How many events were called\n * @property {Number} minMS What was the min time for a cb to be called\n * @property {Number} maxMS What was the max time for a cb to be called\n * @property {Number} avgMs What was the average time for a cb to be called\n * @property {Number} lengthMs How long this interval was in ms\n */\n\n/**\n * A class to monitor latency of any async function which works in a browser or node. This works by periodically calling\n * the asyncTestFn and timing how long it takes the callback to be called. It can also periodically emit stats about this.\n * This can be disabled and stats can be pulled via setting dataEmitIntervalMs = 0.\n *\n * The default implementation is an event loop latency monitor. This works by firing periodic events into the event loop\n * and timing how long it takes to get back.\n *\n * @example\n * const monitor = new LatencyMonitor();\n * monitor.on('data', (summary) => console.log('Event Loop Latency: %O', summary));\n *\n * @example\n * const monitor = new LatencyMonitor({latencyCheckIntervalMs: 1000, dataEmitIntervalMs: 60000, asyncTestFn:ping});\n * monitor.on('data', (summary) => console.log('Ping Pong Latency: %O', summary));\n */\nclass LatencyMonitor extends EventEmitter {\n    /**\n     * @param {Number} [latencyCheckIntervalMs=500] How often to add a latency check event (ms)\n     * @param {Number} [dataEmitIntervalMs=5000] How often to summarize latency check events. null or 0 disables event firing\n     * @param {function} [asyncTestFn] What cb-style async function to use\n     * @param {Number} [latencyRandomPercentage=5] What percent (+/-) of latencyCheckIntervalMs should we randomly use? This helps avoid alignment to other events.\n     */\n    constructor({latencyCheckIntervalMs, dataEmitIntervalMs, asyncTestFn, latencyRandomPercentage} = {}) {\n        super();\n        const that = this;\n\n        // 0 isn't valid here, so its ok to use ||\n        that.latencyCheckIntervalMs = latencyCheckIntervalMs || 500; // 0.5s\n        that.latencyRandomPercentage = latencyRandomPercentage || 10;\n        that._latecyCheckMultiply = 2 * (that.latencyRandomPercentage / 100.0) * that.latencyCheckIntervalMs;\n        that._latecyCheckSubtract = that._latecyCheckMultiply / 2;\n\n        that.dataEmitIntervalMs = (dataEmitIntervalMs === null || dataEmitIntervalMs === 0) ? undefined\n            : dataEmitIntervalMs || 5 * 1000; // 5s\n        debug('latencyCheckIntervalMs: %s dataEmitIntervalMs: %s',\n            that.latencyCheckIntervalMs, that.dataEmitIntervalMs);\n        if (that.dataEmitIntervalMs) {\n            debug('Expecting ~%s events per summary', that.latencyCheckIntervalMs / that.dataEmitIntervalMs);\n        } else {\n            debug('Not emitting summaries');\n        }\n\n        that.asyncTestFn = asyncTestFn; // If there is no asyncFn, we measure latency\n\n        // If process: use high resolution timer\n        if (process && process.hrtime) {\n            debug('Using process.hrtime for timing');\n            that.now = process.hrtime;\n            that.getDeltaMS = (startTime) => {\n                const hrtime = that.now(startTime);\n                return (hrtime[0] * 1000) + (hrtime[1] / 1000000);\n            };\n            // Let's try for a timer that only monotonically increases\n        } else if (typeof window !== 'undefined' && lodashGet(window, 'performance.now')) {\n            debug('Using performance.now for timing');\n            that.now = window.performance.now.bind(window.performance);\n            that.getDeltaMS = (startTime) => Math.round(that.now() - startTime);\n        } else {\n            debug('Using Date.now for timing');\n            that.now = Date.now;\n            that.getDeltaMS = (startTime) => that.now() - startTime;\n        }\n\n        that._latencyData = that._initLatencyData();\n\n        // We check for isBrowser because of browsers set max rates of timeouts when a page is hidden,\n        // so we fall back to another library\n        // See: http://stackoverflow.com/questions/6032429/chrome-timeouts-interval-suspended-in-background-tabs\n        if (isBrowser()) {\n            that._visibilityChangeEmitter = new VisibilityChangeEmitter();\n            that._visibilityChangeEmitter.on('visibilityChange', (pageInFocus) => {\n                if (pageInFocus) {\n                    that._startTimers();\n                } else {\n                    that._emitSummary();\n                    that._stopTimers();\n                }\n            });\n        }\n\n        if (!that._visibilityChangeEmitter || that._visibilityChangeEmitter.isVisible()) {\n            that._startTimers();\n        }\n    }\n\n    /**\n     * Start internal timers\n     * @private\n     */\n    _startTimers() {\n        // Timer already started, ignore this\n        if (this._checkLatencyID) {\n            return;\n        }\n        this._checkLatency();\n        if (this.dataEmitIntervalMs) {\n            this._emitIntervalID = setInterval(() => this._emitSummary(), this.dataEmitIntervalMs);\n            if (isFunction(this._emitIntervalID.unref)) {\n                this._emitIntervalID.unref(); // Doesn't block exit\n            }\n        }\n    }\n\n    /**\n     * Stop internal timers\n     * @private\n     */\n    _stopTimers() {\n        if (this._checkLatencyID) {\n            clearTimeout(this._checkLatencyID);\n            this._checkLatencyID = undefined;\n        }\n        if (this._emitIntervalID) {\n            clearInterval(this._emitIntervalID);\n            this._emitIntervalID = undefined;\n        }\n    }\n\n    /**\n     * Emit summary only if there were events. It might not have any events if it was forced via a page hidden/show\n     * @private\n     */\n    _emitSummary() {\n        const summary = this.getSummary();\n        if (summary.events > 0) {\n            this.emit('data', summary);\n        }\n    }\n\n    /**\n     * Calling this function will end the collection period. If a timing event was already fired and somewhere in the queue,\n     * it will not count for this time period\n     * @returns {SummaryObject}\n     */\n    getSummary() {\n        // We might want to adjust for the number of expected events\n        // Example: first 1 event it comes back, then such a long blocker that the next emit check comes\n        // Then this fires - looks like no latency!!\n        const latency = {\n            events: this._latencyData.events,\n            minMs: this._latencyData.minMs,\n            maxMs: this._latencyData.maxMs,\n            avgMs: this._latencyData.events ? this._latencyData.totalMs / this._latencyData.events\n                : Number.POSITIVE_INFINITY,\n            lengthMs: this.getDeltaMS(this._latencyData.startTime)\n        };\n        this._latencyData = this._initLatencyData(); // Clear\n\n        debug('Summary: %O', latency);\n        return latency;\n    }\n\n    /**\n     * Randomly calls an async fn every roughly latencyCheckIntervalMs (plus some randomness). If no async fn is found,\n     * it will simply report on event loop latency.\n     *\n     * @private\n     */\n    _checkLatency() {\n        const that = this;\n        // Randomness is needed to avoid alignment by accident to regular things in the event loop\n        const randomness = (Math.random() * that._latecyCheckMultiply) - that._latecyCheckSubtract;\n\n\n        // We use this to ensure that in case some overlap somehow, we don't take the wrong startTime/offset\n        const localData = {\n            deltaOffset: Math.ceil(that.latencyCheckIntervalMs + randomness),\n            startTime: that.now()\n        };\n\n        const cb = () => {\n            // We are already stopped, ignore this datapoint\n            if (!this._checkLatencyID) {\n                return;\n            }\n            const deltaMS = that.getDeltaMS(localData.startTime) - localData.deltaOffset;\n            that._checkLatency();  // Start again ASAP\n\n            // Add the data point. If this gets complex, refactor it\n            that._latencyData.events++;\n            that._latencyData.minMs = Math.min(that._latencyData.minMs, deltaMS);\n            that._latencyData.maxMs = Math.max(that._latencyData.maxMs, deltaMS);\n            that._latencyData.totalMs += deltaMS;\n            debug('MS: %s Data: %O', deltaMS, that._latencyData);\n        };\n        debug('localData: %O', localData);\n\n        this._checkLatencyID = setTimeout(() => {\n            // This gets rid of including event loop\n            if (that.asyncTestFn) {\n                // Clear timing related things\n                localData.deltaOffset = 0;\n                localData.startTime = that.now();\n                that.asyncTestFn(cb);\n            } else {\n                // setTimeout is not more accurate than 1ms, so this will ensure positive numbers. Add 1 to emitted data to remove.\n                // This is not the best, but for now it'll be just fine. This isn't meant to be sub ms accurate.\n                localData.deltaOffset -= 1;\n                // If there is no function to test, we mean check latency which is a special case that is really cb => cb()\n                // We avoid that for the few extra function all overheads. Also, we want to keep the timers different\n                cb();\n            }\n        }, localData.deltaOffset);\n\n        if (isFunction(this._checkLatencyID.unref)) {\n            this._checkLatencyID.unref(); // Doesn't block exit\n        }\n    }\n\n    _initLatencyData() {\n        return {\n            startTime: this.now(),\n            minMs: Number.POSITIVE_INFINITY,\n            maxMs: Number.NEGATIVE_INFINITY,\n            events: 0,\n            totalMs: 0\n        };\n    }\n}\n\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\n\nexport default LatencyMonitor;\n"},"lineCount":null}},"error":null,"hash":"ea4400a1a11e37d38d98ce7d1a6b933b","cacheData":{"env":{}}}