{"id":"WGVy","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-websockets/package.json","includedInParent":true,"mtime":1582579780801},{"name":"interface-connection","loc":{"line":3,"column":27},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/interface-connection/src/index.js"},{"name":"multiaddr","loc":{"line":4,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/multiaddr/src/index.js"},{"name":"os","loc":{"line":5,"column":19},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/os-browserify/browser.js"},{"name":"pull-ws/server","loc":{"line":9,"column":29},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/parcel-bundler/src/builtins/_empty.js"}],"generated":{"js":"\"use strict\";const e=require(\"interface-connection\").Connection,t=require(\"multiaddr\"),r=require(\"os\");function n(){}const s=require(\"pull-ws/server\")||n;module.exports=((i,o)=>{const c=s(i,t=>{t.getObservedAddrs=(e=>e(null,[])),o(new e(t))});let l;return c._listen=c.listen,c.listen=((e,t)=>{t=t||n,l=e,c._listen(e.toOptions(),t)}),c.getAddrs=(e=>{const n=[],s=c.address();if(!s)return e(new Error(\"Listener is not ready yet\"));const i=l.getPeerId();if(-1!==l.toString().indexOf(\"ip4\")){let e=l.decapsulate(\"tcp\");if(e=e.encapsulate(\"/tcp/\"+s.port+\"/ws\"),l.getPeerId()&&(e=e.encapsulate(\"/ipfs/\"+i)),-1!==e.toString().indexOf(\"0.0.0.0\")){const s=r.networkInterfaces();Object.keys(s).forEach(r=>{s[r].forEach(r=>{\"IPv4\"===r.family&&n.push(t(e.toString().replace(\"0.0.0.0\",r.address)))})})}else n.push(e)}e(null,n)}),c});"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":3,"column":0},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":3,"column":0},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":3,"column":0},"generated":{"line":1,"column":53}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":4,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":4,"column":0},"generated":{"line":1,"column":66}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":4,"column":0},"generated":{"line":1,"column":74}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":5,"column":0},"generated":{"line":1,"column":87}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":5,"column":0},"generated":{"line":1,"column":89}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":5,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":7,"column":0},"generated":{"line":1,"column":103}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":7,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":9,"column":0},"generated":{"line":1,"column":117}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":9,"column":0},"generated":{"line":1,"column":123}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":9,"column":0},"generated":{"line":1,"column":125}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":9,"column":0},"generated":{"line":1,"column":133}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":9,"column":0},"generated":{"line":1,"column":152}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":11,"column":0},"generated":{"line":1,"column":154}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":11,"column":0},"generated":{"line":1,"column":161}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":11,"column":0},"generated":{"line":1,"column":169}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":11,"column":0},"generated":{"line":1,"column":171}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":11,"column":0},"generated":{"line":1,"column":173}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":12,"column":0},"generated":{"line":1,"column":178}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":12,"column":0},"generated":{"line":1,"column":184}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":12,"column":0},"generated":{"line":1,"column":186}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":12,"column":0},"generated":{"line":1,"column":188}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":12,"column":0},"generated":{"line":1,"column":190}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":13,"column":0},"generated":{"line":1,"column":194}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":13,"column":0},"generated":{"line":1,"column":196}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":13,"column":0},"generated":{"line":1,"column":213}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":13,"column":0},"generated":{"line":1,"column":214}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":15,"column":0},"generated":{"line":1,"column":217}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":15,"column":0},"generated":{"line":1,"column":219}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":15,"column":0},"generated":{"line":1,"column":224}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":18,"column":0},"generated":{"line":1,"column":229}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":18,"column":0},"generated":{"line":1,"column":231}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":18,"column":0},"generated":{"line":1,"column":235}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":18,"column":0},"generated":{"line":1,"column":237}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":21,"column":0},"generated":{"line":1,"column":243}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":21,"column":0},"generated":{"line":1,"column":247}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":67,"column":0},"generated":{"line":1,"column":249}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":23,"column":0},"generated":{"line":1,"column":256}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":23,"column":0},"generated":{"line":1,"column":258}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":23,"column":0},"generated":{"line":1,"column":266}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":23,"column":0},"generated":{"line":1,"column":268}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":24,"column":0},"generated":{"line":1,"column":275}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":24,"column":0},"generated":{"line":1,"column":277}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":24,"column":0},"generated":{"line":1,"column":284}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":24,"column":0},"generated":{"line":1,"column":286}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":24,"column":0},"generated":{"line":1,"column":288}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":25,"column":0},"generated":{"line":1,"column":293}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":25,"column":0},"generated":{"line":1,"column":295}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":25,"column":0},"generated":{"line":1,"column":298}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":26,"column":0},"generated":{"line":1,"column":300}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":26,"column":0},"generated":{"line":1,"column":302}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":28,"column":0},"generated":{"line":1,"column":304}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":28,"column":0},"generated":{"line":1,"column":306}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":28,"column":0},"generated":{"line":1,"column":314}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":28,"column":0},"generated":{"line":1,"column":316}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":28,"column":0},"generated":{"line":1,"column":328}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":31,"column":0},"generated":{"line":1,"column":333}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":31,"column":0},"generated":{"line":1,"column":335}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":31,"column":0},"generated":{"line":1,"column":344}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":31,"column":0},"generated":{"line":1,"column":345}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":32,"column":0},"generated":{"line":1,"column":349}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":32,"column":0},"generated":{"line":1,"column":355}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":32,"column":0},"generated":{"line":1,"column":357}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":33,"column":0},"generated":{"line":1,"column":360}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":33,"column":0},"generated":{"line":1,"column":362}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":33,"column":0},"generated":{"line":1,"column":364}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":35,"column":0},"generated":{"line":1,"column":374}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":35,"column":0},"generated":{"line":1,"column":378}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":36,"column":0},"generated":{"line":1,"column":380}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":36,"column":0},"generated":{"line":1,"column":387}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":36,"column":0},"generated":{"line":1,"column":389}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":36,"column":0},"generated":{"line":1,"column":393}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":36,"column":0},"generated":{"line":1,"column":399}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":39,"column":0},"generated":{"line":1,"column":429}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":39,"column":0},"generated":{"line":1,"column":435}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":39,"column":0},"generated":{"line":1,"column":437}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":39,"column":0},"generated":{"line":1,"column":439}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":43,"column":0},"generated":{"line":1,"column":451}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":43,"column":0},"generated":{"line":1,"column":455}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":43,"column":0},"generated":{"line":1,"column":459}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":43,"column":0},"generated":{"line":1,"column":461}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":43,"column":0},"generated":{"line":1,"column":472}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":43,"column":0},"generated":{"line":1,"column":480}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":43,"column":0},"generated":{"line":1,"column":487}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":44,"column":0},"generated":{"line":1,"column":488}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":44,"column":0},"generated":{"line":1,"column":492}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":44,"column":0},"generated":{"line":1,"column":494}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":44,"column":0},"generated":{"line":1,"column":496}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":44,"column":0},"generated":{"line":1,"column":508}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":50,"column":0},"generated":{"line":1,"column":515}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":45,"column":0},"generated":{"line":1,"column":518}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":45,"column":0},"generated":{"line":1,"column":520}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":45,"column":0},"generated":{"line":1,"column":522}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":45,"column":0},"generated":{"line":1,"column":534}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":45,"column":0},"generated":{"line":1,"column":542}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":45,"column":0},"generated":{"line":1,"column":544}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":45,"column":0},"generated":{"line":1,"column":549}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":46,"column":0},"generated":{"line":1,"column":556}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":46,"column":0},"generated":{"line":1,"column":558}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":47,"column":0},"generated":{"line":1,"column":572}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":47,"column":0},"generated":{"line":1,"column":574}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":47,"column":0},"generated":{"line":1,"column":576}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":47,"column":0},"generated":{"line":1,"column":588}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":47,"column":0},"generated":{"line":1,"column":597}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":50,"column":0},"generated":{"line":1,"column":602}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":50,"column":0},"generated":{"line":1,"column":606}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":50,"column":0},"generated":{"line":1,"column":608}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":50,"column":0},"generated":{"line":1,"column":619}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":50,"column":0},"generated":{"line":1,"column":627}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":50,"column":0},"generated":{"line":1,"column":638}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":51,"column":0},"generated":{"line":1,"column":639}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":51,"column":0},"generated":{"line":1,"column":645}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":51,"column":0},"generated":{"line":1,"column":647}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":51,"column":0},"generated":{"line":1,"column":649}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":52,"column":0},"generated":{"line":1,"column":669}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":52,"column":0},"generated":{"line":1,"column":676}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":52,"column":0},"generated":{"line":1,"column":681}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":52,"column":0},"generated":{"line":1,"column":684}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":52,"column":0},"generated":{"line":1,"column":692}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":53,"column":0},"generated":{"line":1,"column":696}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":53,"column":0},"generated":{"line":1,"column":698}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":53,"column":0},"generated":{"line":1,"column":701}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":53,"column":0},"generated":{"line":1,"column":709}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":54,"column":0},"generated":{"line":1,"column":713}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":54,"column":0},"generated":{"line":1,"column":722}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":54,"column":0},"generated":{"line":1,"column":724}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":55,"column":0},"generated":{"line":1,"column":732}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":55,"column":0},"generated":{"line":1,"column":734}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":55,"column":0},"generated":{"line":1,"column":739}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":55,"column":0},"generated":{"line":1,"column":741}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":55,"column":0},"generated":{"line":1,"column":743}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":55,"column":0},"generated":{"line":1,"column":754}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":55,"column":0},"generated":{"line":1,"column":762}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":55,"column":0},"generated":{"line":1,"column":772}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":55,"column":0},"generated":{"line":1,"column":774}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":60,"column":0},"generated":{"line":1,"column":794}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":60,"column":0},"generated":{"line":1,"column":796}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":60,"column":0},"generated":{"line":1,"column":801}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":64,"column":0},"generated":{"line":1,"column":804}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":64,"column":0},"generated":{"line":1,"column":806}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":64,"column":0},"generated":{"line":1,"column":811}},{"source":"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js","original":{"line":67,"column":0},"generated":{"line":1,"column":816}}],"sources":{"node_modules/ipfs/node_modules/libp2p-websockets/src/listener.js":"'use strict'\n\nconst Connection = require('interface-connection').Connection\nconst multiaddr = require('multiaddr')\nconst os = require('os')\n\nfunction noop () {}\n\nconst createServer = require('pull-ws/server') || noop\n\nmodule.exports = (options, handler) => {\n  const listener = createServer(options, (socket) => {\n    socket.getObservedAddrs = (callback) => {\n      // TODO research if we can reuse the address in anyway\n      return callback(null, [])\n    }\n\n    handler(new Connection(socket))\n  })\n\n  let listeningMultiaddr\n\n  listener._listen = listener.listen\n  listener.listen = (ma, callback) => {\n    callback = callback || noop\n    listeningMultiaddr = ma\n\n    listener._listen(ma.toOptions(), callback)\n  }\n\n  listener.getAddrs = (callback) => {\n    const multiaddrs = []\n    const address = listener.address()\n\n    if (!address) {\n      return callback(new Error('Listener is not ready yet'))\n    }\n\n    const ipfsId = listeningMultiaddr.getPeerId()\n\n    // Because TCP will only return the IPv6 version\n    // we need to capture from the passed multiaddr\n    if (listeningMultiaddr.toString().indexOf('ip4') !== -1) {\n      let m = listeningMultiaddr.decapsulate('tcp')\n      m = m.encapsulate('/tcp/' + address.port + '/ws')\n      if (listeningMultiaddr.getPeerId()) {\n        m = m.encapsulate('/ipfs/' + ipfsId)\n      }\n\n      if (m.toString().indexOf('0.0.0.0') !== -1) {\n        const netInterfaces = os.networkInterfaces()\n        Object.keys(netInterfaces).forEach((niKey) => {\n          netInterfaces[niKey].forEach((ni) => {\n            if (ni.family === 'IPv4') {\n              multiaddrs.push(multiaddr(m.toString().replace('0.0.0.0', ni.address)))\n            }\n          })\n        })\n      } else {\n        multiaddrs.push(m)\n      }\n    }\n\n    callback(null, multiaddrs)\n  }\n\n  return listener\n}\n"},"lineCount":null}},"error":null,"hash":"0ef53baeedc08e9151477703fd5ba6c7","cacheData":{"env":{}}}