{"id":"Jdiy","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/package.json","includedInParent":true,"mtime":1582579778660},{"name":"just-safe-get","loc":{"line":3,"column":21},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/just-safe-get/index.js"},{"name":"assert","loc":{"line":4,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/assert/assert.js"},{"name":"path","loc":{"line":5,"column":21},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/path-browserify/index.js"},{"name":"debug","loc":{"line":6,"column":22},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/node_modules/debug/src/browser.js"},{"name":"bignumber.js","loc":{"line":7,"column":20},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/bignumber.js/bignumber.js"},{"name":"err-code","loc":{"line":8,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/node_modules/err-code/index.js"},{"name":"ipfs-repo-migrations","loc":{"line":9,"column":25},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo-migrations/src/index.js"},{"name":"bytes","loc":{"line":10,"column":22},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/bytes/index.js"},{"name":"./constants","loc":{"line":12,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/constants.js"},{"name":"./backends","loc":{"line":13,"column":25},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/backends.js"},{"name":"./version","loc":{"line":14,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/version.js"},{"name":"./config","loc":{"line":15,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/config.js"},{"name":"./spec","loc":{"line":16,"column":21},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/spec.js"},{"name":"./api-addr","loc":{"line":17,"column":24},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/api-addr.js"},{"name":"./blockstore","loc":{"line":18,"column":27},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/blockstore.js"},{"name":"./default-options","loc":{"line":19,"column":31},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/default-options-browser.js"},{"name":"./default-datastore","loc":{"line":20,"column":33},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/default-datastore.js"},{"name":"./errors","loc":{"line":21,"column":23},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/errors/index.js"},{"name":"./lock-memory","loc":{"line":29,"column":18},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/lock-memory.js"},{"name":"./lock","loc":{"line":30,"column":14},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/lock-memory.js"},{"name":"./blockstore-utils","loc":{"line":337,"column":45},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/index.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs-repo/src/blockstore-utils.js"}],"generated":{"js":"\"use strict\";const t=require(\"just-safe-get\"),e=require(\"assert\"),o=require(\"path\"),i=require(\"debug\"),s=require(\"bignumber.js\"),r=require(\"err-code\"),a=require(\"ipfs-repo-migrations\"),n=require(\"bytes\"),c=require(\"./constants\"),h=require(\"./backends\"),p=require(\"./version\"),l=require(\"./config\"),u=require(\"./spec\"),d=require(\"./api-addr\"),g=require(\"./blockstore\"),k=require(\"./default-options\"),y=require(\"./default-datastore\"),w=require(\"./errors\"),_=i(\"repo\"),f=Number.MAX_SAFE_INTEGER,m=\"repoAutoMigrate\",E={memory:require(\"./lock-memory\"),fs:require(\"./lock\")};class b{constructor(t,o){e.strictEqual(typeof t,\"string\",\"missing repoPath\"),this.options=R(o),this.closed=!0,this.path=t,this._locker=this._getLocker(),this.root=h.create(\"root\",this.path,this.options),this.version=p(this.root),this.config=l(this.root),this.spec=u(this.root),this.apiAddr=d(this.root)}async init(t){_(\"initializing at: %s\",this.path),await this._openRoot(),await this.config.set(q(t)),await this.spec.set(v(t)),await this.version.set(c.repoVersion)}async open(){if(!this.closed)throw r(new Error(\"repo is already open\"),w.ERR_REPO_ALREADY_OPEN);_(\"opening at: %s\",this.path);try{await this._openRoot(),await this._checkInitialized(),this.lockfile=await this._openLock(this.path),_(\"acquired repo.lock\"),_(\"creating datastore\"),this.datastore=h.create(\"datastore\",o.join(this.path,\"datastore\"),this.options),_(\"creating blocks\");const i=h.create(\"blocks\",o.join(this.path,\"blocks\"),this.options);if(this.blocks=await g(i,this.options.storageBackendOptions.blocks),_(\"creating keystore\"),this.keys=h.create(\"keys\",o.join(this.path,\"keys\"),this.options),!(await this.version.check(c.repoVersion))){if(!(await this._isAutoMigrationEnabled()))throw new w.InvalidRepoVersionError(\"Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.\");await this._migrate(c.repoVersion)}this.closed=!1,_(\"all opened\")}catch(t){if(this.lockfile)try{await this._closeLock(),this.lockfile=null}catch(e){_(\"error removing lock\",e)}throw t}}_getLocker(){return\"string\"==typeof this.options.lock?(e(E[this.options.lock],\"Unknown lock type: \"+this.options.lock),E[this.options.lock]):(e(this.options.lock,\"No lock provided\"),this.options.lock)}async _openRoot(){try{await this.root.open()}catch(t){if(\"Already open\"!==t.message)throw t}}async _openLock(t){const e=await this._locker.lock(t);if(\"function\"!=typeof e.close)throw r(new Error(\"Locks must have a close method\"),\"ERR_NO_CLOSE_FUNCTION\");return e}_closeLock(){return this.lockfile.close()}async _checkInitialized(){let t;_(\"init check\");try{[t]=await Promise.all([this.config.exists(),this.spec.exists(),this.version.exists()])}catch(e){if(\"ERR_NOT_FOUND\"===e.code)throw r(new Error(\"repo is not initialized yet\"),w.ERR_REPO_NOT_INITIALIZED,{path:this.path});throw e}if(!t)throw r(new Error(\"repo is not initialized yet\"),w.ERR_REPO_NOT_INITIALIZED,{path:this.path})}async close(){if(this.closed)throw r(new Error(\"repo is already closed\"),w.ERR_REPO_ALREADY_CLOSED);_(\"closing at: %s\",this.path);try{await this.apiAddr.delete()}catch(t){if(t.code!==w.ERR_REPO_NOT_INITIALIZED&&!t.message.startsWith(\"ENOENT\"))throw t}await Promise.all([this.root,this.blocks,this.keys,this.datastore].map(t=>t.close())),_(\"unlocking\"),this.closed=!0,await this._closeLock(),this.lockfile=null}async exists(){return this.version.exists()}async stat(){const[t,e,o,i,s]=await Promise.all([this._storageMaxStat(),this._blockStat(),this.version.get(),O(this.datastore),O(this.keys)]),r=e.size.plus(i).plus(s);return{repoPath:this.path,storageMax:t,version:o,numObjects:e.count,repoSize:r}}async _isAutoMigrationEnabled(){if(void 0!==this.options.autoMigrate)return this.options.autoMigrate;let t;try{t=await this.config.get(m)}catch(e){if(e.code!==w.NotFoundError.code)throw e;t=!0}return t}async _migrate(t){return await this.version.get()>t?(_(\"reverting to version \"+t),a.revert(this.path,t,{ignoreLock:!0,repoOptions:this.options})):(_(\"migrating to version \"+t),a.migrate(this.path,t,{ignoreLock:!0,repoOptions:this.options}))}async _storageMaxStat(){try{const e=await this.config.get(\"Datastore.StorageMax\");return new s(n(e))}catch(t){return new s(f)}}async _blockStat(){let t=new s(0),e=new s(0);for await(const o of this.blocks.query({}))t=t.plus(1),e=e.plus(o.value.byteLength).plus(o.key._buf.byteLength);return{count:t,size:e}}}async function O(t){const e=new s(0);for await(const o of t.query({}))e.plus(o.value.byteLength).plus(o.key._buf.byteLength);return e}function R(t){const e=Object.assign({},k,t);return e.storageBackends=Object.assign({},k.storageBackends,e.storageBackends),e.storageBackendOptions=Object.assign({},k.storageBackendOptions,e.storageBackendOptions),e}function q(e){return e.datastore=Object.assign({},y,t(e,\"datastore\",{})),e}function v(e){const o=Object.assign({},y.Spec,t(e,\"datastore.Spec\",{}));return{type:o.type,mounts:o.mounts.map(t=>({mountpoint:t.mountpoint,type:t.child.type,path:t.child.path,shardFunc:t.child.shardFunc}))}}module.exports=b,module.exports.utils={blockstore:require(\"./blockstore-utils\")},module.exports.repoVersion=c.repoVersion,module.exports.errors=w;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_get","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":3,"column":13},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":3,"column":21},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs-repo/src/index.js","name":"assert","original":{"line":4,"column":6},"generated":{"line":1,"column":46}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":4,"column":15},"generated":{"line":1,"column":48}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":4,"column":23},"generated":{"line":1,"column":56}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":5,"column":6},"generated":{"line":1,"column":66}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":5,"column":13},"generated":{"line":1,"column":68}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":5,"column":21},"generated":{"line":1,"column":76}},{"source":"node_modules/ipfs-repo/src/index.js","name":"debug","original":{"line":6,"column":6},"generated":{"line":1,"column":84}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":6,"column":14},"generated":{"line":1,"column":86}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":6,"column":22},"generated":{"line":1,"column":94}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Big","original":{"line":7,"column":6},"generated":{"line":1,"column":103}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":7,"column":12},"generated":{"line":1,"column":105}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":7,"column":20},"generated":{"line":1,"column":113}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":8,"column":6},"generated":{"line":1,"column":129}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":8,"column":16},"generated":{"line":1,"column":131}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":8,"column":24},"generated":{"line":1,"column":139}},{"source":"node_modules/ipfs-repo/src/index.js","name":"migrator","original":{"line":9,"column":6},"generated":{"line":1,"column":151}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":9,"column":17},"generated":{"line":1,"column":153}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":9,"column":25},"generated":{"line":1,"column":161}},{"source":"node_modules/ipfs-repo/src/index.js","name":"bytes","original":{"line":10,"column":6},"generated":{"line":1,"column":185}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":10,"column":14},"generated":{"line":1,"column":187}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":10,"column":22},"generated":{"line":1,"column":195}},{"source":"node_modules/ipfs-repo/src/index.js","name":"constants","original":{"line":12,"column":6},"generated":{"line":1,"column":204}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":12,"column":18},"generated":{"line":1,"column":206}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":12,"column":26},"generated":{"line":1,"column":214}},{"source":"node_modules/ipfs-repo/src/index.js","name":"backends","original":{"line":13,"column":6},"generated":{"line":1,"column":229}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":13,"column":17},"generated":{"line":1,"column":231}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":13,"column":25},"generated":{"line":1,"column":239}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":14,"column":6},"generated":{"line":1,"column":253}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":14,"column":16},"generated":{"line":1,"column":255}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":14,"column":24},"generated":{"line":1,"column":263}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":15,"column":6},"generated":{"line":1,"column":276}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":15,"column":15},"generated":{"line":1,"column":278}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":15,"column":23},"generated":{"line":1,"column":286}},{"source":"node_modules/ipfs-repo/src/index.js","name":"spec","original":{"line":16,"column":6},"generated":{"line":1,"column":298}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":16,"column":13},"generated":{"line":1,"column":300}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":16,"column":21},"generated":{"line":1,"column":308}},{"source":"node_modules/ipfs-repo/src/index.js","name":"apiAddr","original":{"line":17,"column":6},"generated":{"line":1,"column":318}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":17,"column":16},"generated":{"line":1,"column":320}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":17,"column":24},"generated":{"line":1,"column":328}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blockstore","original":{"line":18,"column":6},"generated":{"line":1,"column":342}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":18,"column":19},"generated":{"line":1,"column":344}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":18,"column":27},"generated":{"line":1,"column":352}},{"source":"node_modules/ipfs-repo/src/index.js","name":"defaultOptions","original":{"line":19,"column":6},"generated":{"line":1,"column":368}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":19,"column":23},"generated":{"line":1,"column":370}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":19,"column":31},"generated":{"line":1,"column":378}},{"source":"node_modules/ipfs-repo/src/index.js","name":"defaultDatastore","original":{"line":20,"column":6},"generated":{"line":1,"column":399}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":20,"column":25},"generated":{"line":1,"column":401}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":20,"column":33},"generated":{"line":1,"column":409}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERRORS","original":{"line":21,"column":6},"generated":{"line":1,"column":432}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":21,"column":15},"generated":{"line":1,"column":434}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":21,"column":23},"generated":{"line":1,"column":442}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":23,"column":6},"generated":{"line":1,"column":454}},{"source":"node_modules/ipfs-repo/src/index.js","name":"debug","original":{"line":23,"column":12},"generated":{"line":1,"column":456}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":23,"column":18},"generated":{"line":1,"column":458}},{"source":"node_modules/ipfs-repo/src/index.js","name":"noLimit","original":{"line":25,"column":6},"generated":{"line":1,"column":466}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Number","original":{"line":25,"column":16},"generated":{"line":1,"column":468}},{"source":"node_modules/ipfs-repo/src/index.js","name":"MAX_SAFE_INTEGER","original":{"line":25,"column":23},"generated":{"line":1,"column":475}},{"source":"node_modules/ipfs-repo/src/index.js","name":"AUTO_MIGRATE_CONFIG_KEY","original":{"line":26,"column":6},"generated":{"line":1,"column":492}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":26,"column":32},"generated":{"line":1,"column":494}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockers","original":{"line":28,"column":6},"generated":{"line":1,"column":512}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":28,"column":16},"generated":{"line":1,"column":514}},{"source":"node_modules/ipfs-repo/src/index.js","name":"memory","original":{"line":29,"column":2},"generated":{"line":1,"column":515}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":29,"column":10},"generated":{"line":1,"column":522}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":29,"column":18},"generated":{"line":1,"column":530}},{"source":"node_modules/ipfs-repo/src/index.js","name":"fs","original":{"line":30,"column":2},"generated":{"line":1,"column":547}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":30,"column":6},"generated":{"line":1,"column":550}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":30,"column":14},"generated":{"line":1,"column":558}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":37,"column":0},"generated":{"line":1,"column":569}},{"source":"node_modules/ipfs-repo/src/index.js","name":"IpfsRepo","original":{"line":37,"column":6},"generated":{"line":1,"column":575}},{"source":"node_modules/ipfs-repo/src/index.js","name":"constructor","original":{"line":42,"column":2},"generated":{"line":1,"column":577}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoPath","original":{"line":42,"column":15},"generated":{"line":1,"column":589}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":42,"column":25},"generated":{"line":1,"column":591}},{"source":"node_modules/ipfs-repo/src/index.js","name":"assert","original":{"line":43,"column":4},"generated":{"line":1,"column":594}},{"source":"node_modules/ipfs-repo/src/index.js","name":"strictEqual","original":{"line":43,"column":11},"generated":{"line":1,"column":596}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoPath","original":{"line":43,"column":30},"generated":{"line":1,"column":615}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":43,"column":40},"generated":{"line":1,"column":617}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":43,"column":50},"generated":{"line":1,"column":626}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":45,"column":9},"generated":{"line":1,"column":646}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":45,"column":9},"generated":{"line":1,"column":651}},{"source":"node_modules/ipfs-repo/src/index.js","name":"buildOptions","original":{"line":45,"column":19},"generated":{"line":1,"column":659}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":45,"column":32},"generated":{"line":1,"column":661}},{"source":"node_modules/ipfs-repo/src/index.js","name":"closed","original":{"line":46,"column":9},"generated":{"line":1,"column":664}},{"source":"node_modules/ipfs-repo/src/index.js","name":"closed","original":{"line":46,"column":9},"generated":{"line":1,"column":669}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":46,"column":18},"generated":{"line":1,"column":677}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":47,"column":9},"generated":{"line":1,"column":679}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":47,"column":9},"generated":{"line":1,"column":684}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoPath","original":{"line":47,"column":16},"generated":{"line":1,"column":689}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_locker","original":{"line":49,"column":9},"generated":{"line":1,"column":691}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_locker","original":{"line":49,"column":9},"generated":{"line":1,"column":696}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":49,"column":19},"generated":{"line":1,"column":704}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_getLocker","original":{"line":49,"column":24},"generated":{"line":1,"column":709}},{"source":"node_modules/ipfs-repo/src/index.js","name":"root","original":{"line":51,"column":9},"generated":{"line":1,"column":722}},{"source":"node_modules/ipfs-repo/src/index.js","name":"root","original":{"line":51,"column":9},"generated":{"line":1,"column":727}},{"source":"node_modules/ipfs-repo/src/index.js","name":"backends","original":{"line":51,"column":16},"generated":{"line":1,"column":732}},{"source":"node_modules/ipfs-repo/src/index.js","name":"create","original":{"line":51,"column":25},"generated":{"line":1,"column":734}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":51,"column":32},"generated":{"line":1,"column":741}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":51,"column":40},"generated":{"line":1,"column":748}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":51,"column":45},"generated":{"line":1,"column":753}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":51,"column":51},"generated":{"line":1,"column":758}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":51,"column":56},"generated":{"line":1,"column":763}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":52,"column":9},"generated":{"line":1,"column":772}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":52,"column":9},"generated":{"line":1,"column":777}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":52,"column":19},"generated":{"line":1,"column":785}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":52,"column":27},"generated":{"line":1,"column":787}},{"source":"node_modules/ipfs-repo/src/index.js","name":"root","original":{"line":52,"column":32},"generated":{"line":1,"column":792}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":53,"column":9},"generated":{"line":1,"column":798}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":53,"column":9},"generated":{"line":1,"column":803}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":53,"column":18},"generated":{"line":1,"column":810}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":53,"column":25},"generated":{"line":1,"column":812}},{"source":"node_modules/ipfs-repo/src/index.js","name":"root","original":{"line":53,"column":30},"generated":{"line":1,"column":817}},{"source":"node_modules/ipfs-repo/src/index.js","name":"spec","original":{"line":54,"column":9},"generated":{"line":1,"column":823}},{"source":"node_modules/ipfs-repo/src/index.js","name":"spec","original":{"line":54,"column":9},"generated":{"line":1,"column":828}},{"source":"node_modules/ipfs-repo/src/index.js","name":"spec","original":{"line":54,"column":16},"generated":{"line":1,"column":833}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":54,"column":21},"generated":{"line":1,"column":835}},{"source":"node_modules/ipfs-repo/src/index.js","name":"root","original":{"line":54,"column":26},"generated":{"line":1,"column":840}},{"source":"node_modules/ipfs-repo/src/index.js","name":"apiAddr","original":{"line":55,"column":9},"generated":{"line":1,"column":846}},{"source":"node_modules/ipfs-repo/src/index.js","name":"apiAddr","original":{"line":55,"column":9},"generated":{"line":1,"column":851}},{"source":"node_modules/ipfs-repo/src/index.js","name":"apiAddr","original":{"line":55,"column":19},"generated":{"line":1,"column":859}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":55,"column":27},"generated":{"line":1,"column":861}},{"source":"node_modules/ipfs-repo/src/index.js","name":"root","original":{"line":55,"column":32},"generated":{"line":1,"column":866}},{"source":"node_modules/ipfs-repo/src/index.js","name":"init","original":{"line":64,"column":8},"generated":{"line":1,"column":872}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":64,"column":14},"generated":{"line":1,"column":883}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":65,"column":4},"generated":{"line":1,"column":886}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":65,"column":8},"generated":{"line":1,"column":888}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":65,"column":31},"generated":{"line":1,"column":910}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":65,"column":36},"generated":{"line":1,"column":915}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":66,"column":10},"generated":{"line":1,"column":927}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_openRoot","original":{"line":66,"column":15},"generated":{"line":1,"column":932}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":67,"column":10},"generated":{"line":1,"column":950}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":67,"column":15},"generated":{"line":1,"column":955}},{"source":"node_modules/ipfs-repo/src/index.js","name":"set","original":{"line":67,"column":22},"generated":{"line":1,"column":962}},{"source":"node_modules/ipfs-repo/src/index.js","name":"buildConfig","original":{"line":67,"column":26},"generated":{"line":1,"column":966}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":67,"column":38},"generated":{"line":1,"column":968}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":68,"column":10},"generated":{"line":1,"column":978}},{"source":"node_modules/ipfs-repo/src/index.js","name":"spec","original":{"line":68,"column":15},"generated":{"line":1,"column":983}},{"source":"node_modules/ipfs-repo/src/index.js","name":"set","original":{"line":68,"column":20},"generated":{"line":1,"column":988}},{"source":"node_modules/ipfs-repo/src/index.js","name":"buildDatastoreSpec","original":{"line":68,"column":24},"generated":{"line":1,"column":992}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":68,"column":43},"generated":{"line":1,"column":994}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":69,"column":10},"generated":{"line":1,"column":1004}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":69,"column":15},"generated":{"line":1,"column":1009}},{"source":"node_modules/ipfs-repo/src/index.js","name":"set","original":{"line":69,"column":23},"generated":{"line":1,"column":1017}},{"source":"node_modules/ipfs-repo/src/index.js","name":"constants","original":{"line":69,"column":27},"generated":{"line":1,"column":1021}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoVersion","original":{"line":69,"column":37},"generated":{"line":1,"column":1023}},{"source":"node_modules/ipfs-repo/src/index.js","name":"open","original":{"line":78,"column":8},"generated":{"line":1,"column":1036}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":79,"column":8},"generated":{"line":1,"column":1049}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":79,"column":9},"generated":{"line":1,"column":1053}},{"source":"node_modules/ipfs-repo/src/index.js","name":"closed","original":{"line":79,"column":14},"generated":{"line":1,"column":1058}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":80,"column":12},"generated":{"line":1,"column":1065}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":80,"column":12},"generated":{"line":1,"column":1071}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":80,"column":20},"generated":{"line":1,"column":1073}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Error","original":{"line":80,"column":24},"generated":{"line":1,"column":1077}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":80,"column":30},"generated":{"line":1,"column":1083}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERRORS","original":{"line":80,"column":55},"generated":{"line":1,"column":1107}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERR_REPO_ALREADY_OPEN","original":{"line":80,"column":62},"generated":{"line":1,"column":1109}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":82,"column":4},"generated":{"line":1,"column":1132}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":82,"column":8},"generated":{"line":1,"column":1134}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":82,"column":26},"generated":{"line":1,"column":1151}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":82,"column":31},"generated":{"line":1,"column":1156}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":85,"column":8},"generated":{"line":1,"column":1162}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":86,"column":12},"generated":{"line":1,"column":1172}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_openRoot","original":{"line":86,"column":17},"generated":{"line":1,"column":1177}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":87,"column":12},"generated":{"line":1,"column":1195}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_checkInitialized","original":{"line":87,"column":17},"generated":{"line":1,"column":1200}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":88,"column":11},"generated":{"line":1,"column":1220}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":88,"column":11},"generated":{"line":1,"column":1225}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":88,"column":28},"generated":{"line":1,"column":1240}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_openLock","original":{"line":88,"column":33},"generated":{"line":1,"column":1245}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":88,"column":43},"generated":{"line":1,"column":1255}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":88,"column":48},"generated":{"line":1,"column":1260}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":89,"column":6},"generated":{"line":1,"column":1266}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":89,"column":10},"generated":{"line":1,"column":1268}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":90,"column":6},"generated":{"line":1,"column":1290}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":90,"column":10},"generated":{"line":1,"column":1292}},{"source":"node_modules/ipfs-repo/src/index.js","name":"datastore","original":{"line":91,"column":11},"generated":{"line":1,"column":1314}},{"source":"node_modules/ipfs-repo/src/index.js","name":"datastore","original":{"line":91,"column":11},"generated":{"line":1,"column":1319}},{"source":"node_modules/ipfs-repo/src/index.js","name":"backends","original":{"line":91,"column":23},"generated":{"line":1,"column":1329}},{"source":"node_modules/ipfs-repo/src/index.js","name":"create","original":{"line":91,"column":32},"generated":{"line":1,"column":1331}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":91,"column":39},"generated":{"line":1,"column":1338}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":91,"column":52},"generated":{"line":1,"column":1350}},{"source":"node_modules/ipfs-repo/src/index.js","name":"join","original":{"line":91,"column":57},"generated":{"line":1,"column":1352}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":91,"column":62},"generated":{"line":1,"column":1357}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":91,"column":67},"generated":{"line":1,"column":1362}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":91,"column":73},"generated":{"line":1,"column":1367}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":91,"column":87},"generated":{"line":1,"column":1380}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":91,"column":92},"generated":{"line":1,"column":1385}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":92,"column":6},"generated":{"line":1,"column":1394}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":92,"column":10},"generated":{"line":1,"column":1396}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocksBaseStore","original":{"line":93,"column":12},"generated":{"line":1,"column":1415}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocksBaseStore","original":{"line":93,"column":12},"generated":{"line":1,"column":1421}},{"source":"node_modules/ipfs-repo/src/index.js","name":"backends","original":{"line":93,"column":30},"generated":{"line":1,"column":1423}},{"source":"node_modules/ipfs-repo/src/index.js","name":"create","original":{"line":93,"column":39},"generated":{"line":1,"column":1425}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":93,"column":46},"generated":{"line":1,"column":1432}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":93,"column":56},"generated":{"line":1,"column":1441}},{"source":"node_modules/ipfs-repo/src/index.js","name":"join","original":{"line":93,"column":61},"generated":{"line":1,"column":1443}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":93,"column":66},"generated":{"line":1,"column":1448}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":93,"column":71},"generated":{"line":1,"column":1453}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":93,"column":77},"generated":{"line":1,"column":1458}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":93,"column":88},"generated":{"line":1,"column":1468}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":93,"column":93},"generated":{"line":1,"column":1473}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":99,"column":10},"generated":{"line":1,"column":1482}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocks","original":{"line":94,"column":11},"generated":{"line":1,"column":1485}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocks","original":{"line":94,"column":11},"generated":{"line":1,"column":1490}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blockstore","original":{"line":94,"column":26},"generated":{"line":1,"column":1503}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocksBaseStore","original":{"line":94,"column":37},"generated":{"line":1,"column":1505}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":94,"column":54},"generated":{"line":1,"column":1507}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":94,"column":59},"generated":{"line":1,"column":1512}},{"source":"node_modules/ipfs-repo/src/index.js","name":"storageBackendOptions","original":{"line":94,"column":67},"generated":{"line":1,"column":1520}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocks","original":{"line":94,"column":89},"generated":{"line":1,"column":1542}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":95,"column":6},"generated":{"line":1,"column":1550}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":95,"column":10},"generated":{"line":1,"column":1552}},{"source":"node_modules/ipfs-repo/src/index.js","name":"keys","original":{"line":96,"column":11},"generated":{"line":1,"column":1573}},{"source":"node_modules/ipfs-repo/src/index.js","name":"keys","original":{"line":96,"column":11},"generated":{"line":1,"column":1578}},{"source":"node_modules/ipfs-repo/src/index.js","name":"backends","original":{"line":96,"column":18},"generated":{"line":1,"column":1583}},{"source":"node_modules/ipfs-repo/src/index.js","name":"create","original":{"line":96,"column":27},"generated":{"line":1,"column":1585}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":96,"column":34},"generated":{"line":1,"column":1592}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":96,"column":42},"generated":{"line":1,"column":1599}},{"source":"node_modules/ipfs-repo/src/index.js","name":"join","original":{"line":96,"column":47},"generated":{"line":1,"column":1601}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":96,"column":52},"generated":{"line":1,"column":1606}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":96,"column":57},"generated":{"line":1,"column":1611}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":96,"column":63},"generated":{"line":1,"column":1616}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":96,"column":72},"generated":{"line":1,"column":1624}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":96,"column":77},"generated":{"line":1,"column":1629}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":98,"column":33},"generated":{"line":1,"column":1646}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":98,"column":38},"generated":{"line":1,"column":1651}},{"source":"node_modules/ipfs-repo/src/index.js","name":"check","original":{"line":98,"column":46},"generated":{"line":1,"column":1659}},{"source":"node_modules/ipfs-repo/src/index.js","name":"constants","original":{"line":98,"column":52},"generated":{"line":1,"column":1665}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoVersion","original":{"line":98,"column":62},"generated":{"line":1,"column":1667}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":99,"column":25},"generated":{"line":1,"column":1681}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":100,"column":12},"generated":{"line":1,"column":1682}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":100,"column":18},"generated":{"line":1,"column":1693}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_isAutoMigrationEnabled","original":{"line":100,"column":23},"generated":{"line":1,"column":1698}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":103,"column":16},"generated":{"line":1,"column":1725}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":103,"column":16},"generated":{"line":1,"column":1731}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERRORS","original":{"line":103,"column":20},"generated":{"line":1,"column":1735}},{"source":"node_modules/ipfs-repo/src/index.js","name":"InvalidRepoVersionError","original":{"line":103,"column":27},"generated":{"line":1,"column":1737}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":103,"column":51},"generated":{"line":1,"column":1761}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":101,"column":16},"generated":{"line":1,"column":1863}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_migrate","original":{"line":101,"column":21},"generated":{"line":1,"column":1868}},{"source":"node_modules/ipfs-repo/src/index.js","name":"constants","original":{"line":101,"column":30},"generated":{"line":1,"column":1877}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoVersion","original":{"line":101,"column":40},"generated":{"line":1,"column":1879}},{"source":"node_modules/ipfs-repo/src/index.js","name":"closed","original":{"line":107,"column":11},"generated":{"line":1,"column":1892}},{"source":"node_modules/ipfs-repo/src/index.js","name":"closed","original":{"line":107,"column":11},"generated":{"line":1,"column":1897}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":107,"column":20},"generated":{"line":1,"column":1905}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":108,"column":6},"generated":{"line":1,"column":1907}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":108,"column":10},"generated":{"line":1,"column":1909}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":109,"column":6},"generated":{"line":1,"column":1923}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":109,"column":13},"generated":{"line":1,"column":1929}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":110,"column":10},"generated":{"line":1,"column":1932}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":110,"column":10},"generated":{"line":1,"column":1935}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":110,"column":15},"generated":{"line":1,"column":1940}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":111,"column":12},"generated":{"line":1,"column":1949}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":112,"column":16},"generated":{"line":1,"column":1959}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_closeLock","original":{"line":112,"column":21},"generated":{"line":1,"column":1964}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":113,"column":15},"generated":{"line":1,"column":1977}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":113,"column":15},"generated":{"line":1,"column":1982}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":113,"column":26},"generated":{"line":1,"column":1991}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":114,"column":10},"generated":{"line":1,"column":1996}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err2","original":{"line":114,"column":17},"generated":{"line":1,"column":2002}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":115,"column":10},"generated":{"line":1,"column":2005}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":115,"column":14},"generated":{"line":1,"column":2007}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err2","original":{"line":115,"column":37},"generated":{"line":1,"column":2029}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":119,"column":12},"generated":{"line":1,"column":2032}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":119,"column":12},"generated":{"line":1,"column":2038}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_getLocker","original":{"line":129,"column":2},"generated":{"line":1,"column":2041}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":130,"column":8},"generated":{"line":1,"column":2054}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":130,"column":37},"generated":{"line":1,"column":2060}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":130,"column":15},"generated":{"line":1,"column":2077}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":130,"column":20},"generated":{"line":1,"column":2082}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lock","original":{"line":130,"column":28},"generated":{"line":1,"column":2090}},{"source":"node_modules/ipfs-repo/src/index.js","name":"assert","original":{"line":131,"column":6},"generated":{"line":1,"column":2096}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockers","original":{"line":131,"column":13},"generated":{"line":1,"column":2098}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":131,"column":21},"generated":{"line":1,"column":2100}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":131,"column":26},"generated":{"line":1,"column":2105}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lock","original":{"line":131,"column":34},"generated":{"line":1,"column":2113}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":131,"column":41},"generated":{"line":1,"column":2119}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":131,"column":65},"generated":{"line":1,"column":2141}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":131,"column":70},"generated":{"line":1,"column":2146}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lock","original":{"line":131,"column":78},"generated":{"line":1,"column":2154}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockers","original":{"line":132,"column":13},"generated":{"line":1,"column":2160}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":132,"column":21},"generated":{"line":1,"column":2162}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":132,"column":26},"generated":{"line":1,"column":2167}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lock","original":{"line":132,"column":34},"generated":{"line":1,"column":2175}},{"source":"node_modules/ipfs-repo/src/index.js","name":"assert","original":{"line":135,"column":4},"generated":{"line":1,"column":2183}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":135,"column":11},"generated":{"line":1,"column":2185}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":135,"column":16},"generated":{"line":1,"column":2190}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lock","original":{"line":135,"column":24},"generated":{"line":1,"column":2198}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":135,"column":30},"generated":{"line":1,"column":2203}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":136,"column":11},"generated":{"line":1,"column":2223}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":136,"column":16},"generated":{"line":1,"column":2228}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lock","original":{"line":136,"column":24},"generated":{"line":1,"column":2236}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_openRoot","original":{"line":143,"column":8},"generated":{"line":1,"column":2242}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":144,"column":8},"generated":{"line":1,"column":2260}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":145,"column":12},"generated":{"line":1,"column":2270}},{"source":"node_modules/ipfs-repo/src/index.js","name":"root","original":{"line":145,"column":17},"generated":{"line":1,"column":2275}},{"source":"node_modules/ipfs-repo/src/index.js","name":"open","original":{"line":145,"column":22},"generated":{"line":1,"column":2280}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":146,"column":6},"generated":{"line":1,"column":2287}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":146,"column":13},"generated":{"line":1,"column":2293}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":147,"column":10},"generated":{"line":1,"column":2296}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":147,"column":26},"generated":{"line":1,"column":2299}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":147,"column":10},"generated":{"line":1,"column":2316}},{"source":"node_modules/ipfs-repo/src/index.js","name":"message","original":{"line":147,"column":14},"generated":{"line":1,"column":2318}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":148,"column":14},"generated":{"line":1,"column":2326}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":148,"column":14},"generated":{"line":1,"column":2332}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_openLock","original":{"line":160,"column":8},"generated":{"line":1,"column":2335}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":160,"column":19},"generated":{"line":1,"column":2351}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":161,"column":10},"generated":{"line":1,"column":2354}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":161,"column":10},"generated":{"line":1,"column":2360}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":161,"column":27},"generated":{"line":1,"column":2368}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_locker","original":{"line":161,"column":32},"generated":{"line":1,"column":2373}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lock","original":{"line":161,"column":40},"generated":{"line":1,"column":2381}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":161,"column":45},"generated":{"line":1,"column":2386}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":163,"column":8},"generated":{"line":1,"column":2389}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":163,"column":34},"generated":{"line":1,"column":2392}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":163,"column":15},"generated":{"line":1,"column":2411}},{"source":"node_modules/ipfs-repo/src/index.js","name":"close","original":{"line":163,"column":24},"generated":{"line":1,"column":2413}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":164,"column":12},"generated":{"line":1,"column":2419}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":164,"column":12},"generated":{"line":1,"column":2425}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":164,"column":20},"generated":{"line":1,"column":2427}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Error","original":{"line":164,"column":24},"generated":{"line":1,"column":2431}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":164,"column":30},"generated":{"line":1,"column":2437}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":164,"column":65},"generated":{"line":1,"column":2471}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":167,"column":11},"generated":{"line":1,"column":2496}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":167,"column":11},"generated":{"line":1,"column":2503}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_closeLock","original":{"line":175,"column":2},"generated":{"line":1,"column":2505}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":176,"column":11},"generated":{"line":1,"column":2518}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":176,"column":11},"generated":{"line":1,"column":2525}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":176,"column":16},"generated":{"line":1,"column":2530}},{"source":"node_modules/ipfs-repo/src/index.js","name":"close","original":{"line":176,"column":25},"generated":{"line":1,"column":2539}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_checkInitialized","original":{"line":184,"column":8},"generated":{"line":1,"column":2547}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":186,"column":8},"generated":{"line":1,"column":2573}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":186,"column":8},"generated":{"line":1,"column":2577}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":185,"column":4},"generated":{"line":1,"column":2579}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":185,"column":8},"generated":{"line":1,"column":2581}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":187,"column":8},"generated":{"line":1,"column":2595}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":188,"column":7},"generated":{"line":1,"column":2600}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Promise","original":{"line":188,"column":23},"generated":{"line":1,"column":2609}},{"source":"node_modules/ipfs-repo/src/index.js","name":"all","original":{"line":188,"column":31},"generated":{"line":1,"column":2617}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":188,"column":35},"generated":{"line":1,"column":2621}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":189,"column":8},"generated":{"line":1,"column":2622}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":189,"column":13},"generated":{"line":1,"column":2627}},{"source":"node_modules/ipfs-repo/src/index.js","name":"exists","original":{"line":189,"column":20},"generated":{"line":1,"column":2634}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":190,"column":8},"generated":{"line":1,"column":2643}},{"source":"node_modules/ipfs-repo/src/index.js","name":"spec","original":{"line":190,"column":13},"generated":{"line":1,"column":2648}},{"source":"node_modules/ipfs-repo/src/index.js","name":"exists","original":{"line":190,"column":18},"generated":{"line":1,"column":2653}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":191,"column":8},"generated":{"line":1,"column":2662}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":191,"column":13},"generated":{"line":1,"column":2667}},{"source":"node_modules/ipfs-repo/src/index.js","name":"exists","original":{"line":191,"column":21},"generated":{"line":1,"column":2675}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":193,"column":6},"generated":{"line":1,"column":2686}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":193,"column":13},"generated":{"line":1,"column":2692}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":194,"column":10},"generated":{"line":1,"column":2695}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":194,"column":23},"generated":{"line":1,"column":2698}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":194,"column":10},"generated":{"line":1,"column":2716}},{"source":"node_modules/ipfs-repo/src/index.js","name":"code","original":{"line":194,"column":14},"generated":{"line":1,"column":2718}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":195,"column":14},"generated":{"line":1,"column":2723}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":195,"column":14},"generated":{"line":1,"column":2729}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":195,"column":22},"generated":{"line":1,"column":2731}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Error","original":{"line":195,"column":26},"generated":{"line":1,"column":2735}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":195,"column":32},"generated":{"line":1,"column":2741}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERRORS","original":{"line":195,"column":64},"generated":{"line":1,"column":2772}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERR_REPO_NOT_INITIALIZED","original":{"line":195,"column":71},"generated":{"line":1,"column":2774}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":195,"column":97},"generated":{"line":1,"column":2799}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":196,"column":10},"generated":{"line":1,"column":2800}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":196,"column":16},"generated":{"line":1,"column":2805}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":196,"column":21},"generated":{"line":1,"column":2810}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":200,"column":12},"generated":{"line":1,"column":2817}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":200,"column":12},"generated":{"line":1,"column":2823}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":203,"column":8},"generated":{"line":1,"column":2825}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":203,"column":9},"generated":{"line":1,"column":2829}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":204,"column":12},"generated":{"line":1,"column":2831}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":204,"column":12},"generated":{"line":1,"column":2837}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":204,"column":20},"generated":{"line":1,"column":2839}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Error","original":{"line":204,"column":24},"generated":{"line":1,"column":2843}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":204,"column":30},"generated":{"line":1,"column":2849}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERRORS","original":{"line":204,"column":62},"generated":{"line":1,"column":2880}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERR_REPO_NOT_INITIALIZED","original":{"line":204,"column":69},"generated":{"line":1,"column":2882}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":204,"column":95},"generated":{"line":1,"column":2907}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":205,"column":8},"generated":{"line":1,"column":2908}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":205,"column":14},"generated":{"line":1,"column":2913}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":205,"column":19},"generated":{"line":1,"column":2918}},{"source":"node_modules/ipfs-repo/src/index.js","name":"close","original":{"line":215,"column":8},"generated":{"line":1,"column":2925}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":216,"column":8},"generated":{"line":1,"column":2939}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":216,"column":8},"generated":{"line":1,"column":2942}},{"source":"node_modules/ipfs-repo/src/index.js","name":"closed","original":{"line":216,"column":13},"generated":{"line":1,"column":2947}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":217,"column":12},"generated":{"line":1,"column":2954}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errcode","original":{"line":217,"column":12},"generated":{"line":1,"column":2960}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":217,"column":20},"generated":{"line":1,"column":2962}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Error","original":{"line":217,"column":24},"generated":{"line":1,"column":2966}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":217,"column":30},"generated":{"line":1,"column":2972}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERRORS","original":{"line":217,"column":57},"generated":{"line":1,"column":2998}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERR_REPO_ALREADY_CLOSED","original":{"line":217,"column":64},"generated":{"line":1,"column":3000}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":219,"column":4},"generated":{"line":1,"column":3025}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":219,"column":8},"generated":{"line":1,"column":3027}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":219,"column":26},"generated":{"line":1,"column":3044}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":219,"column":31},"generated":{"line":1,"column":3049}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":221,"column":8},"generated":{"line":1,"column":3055}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":223,"column":12},"generated":{"line":1,"column":3065}},{"source":"node_modules/ipfs-repo/src/index.js","name":"apiAddr","original":{"line":223,"column":17},"generated":{"line":1,"column":3070}},{"source":"node_modules/ipfs-repo/src/index.js","name":"delete","original":{"line":223,"column":25},"generated":{"line":1,"column":3078}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":224,"column":6},"generated":{"line":1,"column":3087}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":224,"column":13},"generated":{"line":1,"column":3093}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":225,"column":10},"generated":{"line":1,"column":3096}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":225,"column":10},"generated":{"line":1,"column":3099}},{"source":"node_modules/ipfs-repo/src/index.js","name":"code","original":{"line":225,"column":14},"generated":{"line":1,"column":3101}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERRORS","original":{"line":225,"column":23},"generated":{"line":1,"column":3108}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERR_REPO_NOT_INITIALIZED","original":{"line":225,"column":30},"generated":{"line":1,"column":3110}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":225,"column":59},"generated":{"line":1,"column":3137}},{"source":"node_modules/ipfs-repo/src/index.js","name":"message","original":{"line":225,"column":63},"generated":{"line":1,"column":3139}},{"source":"node_modules/ipfs-repo/src/index.js","name":"startsWith","original":{"line":225,"column":71},"generated":{"line":1,"column":3147}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":225,"column":82},"generated":{"line":1,"column":3158}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":226,"column":14},"generated":{"line":1,"column":3168}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":226,"column":14},"generated":{"line":1,"column":3174}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Promise","original":{"line":230,"column":10},"generated":{"line":1,"column":3182}},{"source":"node_modules/ipfs-repo/src/index.js","name":"all","original":{"line":230,"column":18},"generated":{"line":1,"column":3190}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":230,"column":22},"generated":{"line":1,"column":3194}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":230,"column":23},"generated":{"line":1,"column":3195}},{"source":"node_modules/ipfs-repo/src/index.js","name":"root","original":{"line":230,"column":28},"generated":{"line":1,"column":3200}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":230,"column":34},"generated":{"line":1,"column":3205}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocks","original":{"line":230,"column":39},"generated":{"line":1,"column":3210}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":230,"column":47},"generated":{"line":1,"column":3217}},{"source":"node_modules/ipfs-repo/src/index.js","name":"keys","original":{"line":230,"column":52},"generated":{"line":1,"column":3222}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":230,"column":58},"generated":{"line":1,"column":3227}},{"source":"node_modules/ipfs-repo/src/index.js","name":"datastore","original":{"line":230,"column":63},"generated":{"line":1,"column":3232}},{"source":"node_modules/ipfs-repo/src/index.js","name":"map","original":{"line":230,"column":74},"generated":{"line":1,"column":3243}},{"source":"node_modules/ipfs-repo/src/index.js","name":"store","original":{"line":230,"column":79},"generated":{"line":1,"column":3247}},{"source":"node_modules/ipfs-repo/src/index.js","name":"store","original":{"line":230,"column":89},"generated":{"line":1,"column":3250}},{"source":"node_modules/ipfs-repo/src/index.js","name":"close","original":{"line":230,"column":95},"generated":{"line":1,"column":3252}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":231,"column":4},"generated":{"line":1,"column":3262}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":231,"column":8},"generated":{"line":1,"column":3264}},{"source":"node_modules/ipfs-repo/src/index.js","name":"closed","original":{"line":232,"column":9},"generated":{"line":1,"column":3277}},{"source":"node_modules/ipfs-repo/src/index.js","name":"closed","original":{"line":232,"column":9},"generated":{"line":1,"column":3282}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":232,"column":18},"generated":{"line":1,"column":3290}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":233,"column":10},"generated":{"line":1,"column":3298}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_closeLock","original":{"line":233,"column":15},"generated":{"line":1,"column":3303}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":234,"column":9},"generated":{"line":1,"column":3316}},{"source":"node_modules/ipfs-repo/src/index.js","name":"lockfile","original":{"line":234,"column":9},"generated":{"line":1,"column":3321}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":234,"column":20},"generated":{"line":1,"column":3330}},{"source":"node_modules/ipfs-repo/src/index.js","name":"exists","original":{"line":242,"column":8},"generated":{"line":1,"column":3335}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":243,"column":11},"generated":{"line":1,"column":3350}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":243,"column":11},"generated":{"line":1,"column":3357}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":243,"column":16},"generated":{"line":1,"column":3362}},{"source":"node_modules/ipfs-repo/src/index.js","name":"exists","original":{"line":243,"column":24},"generated":{"line":1,"column":3370}},{"source":"node_modules/ipfs-repo/src/index.js","name":"stat","original":{"line":251,"column":8},"generated":{"line":1,"column":3379}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":252,"column":10},"generated":{"line":1,"column":3392}},{"source":"node_modules/ipfs-repo/src/index.js","name":"storageMax","original":{"line":252,"column":11},"generated":{"line":1,"column":3398}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocks","original":{"line":252,"column":23},"generated":{"line":1,"column":3400}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":252,"column":31},"generated":{"line":1,"column":3402}},{"source":"node_modules/ipfs-repo/src/index.js","name":"datastore","original":{"line":252,"column":40},"generated":{"line":1,"column":3404}},{"source":"node_modules/ipfs-repo/src/index.js","name":"keys","original":{"line":252,"column":51},"generated":{"line":1,"column":3406}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Promise","original":{"line":252,"column":65},"generated":{"line":1,"column":3415}},{"source":"node_modules/ipfs-repo/src/index.js","name":"all","original":{"line":252,"column":73},"generated":{"line":1,"column":3423}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":252,"column":77},"generated":{"line":1,"column":3427}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":253,"column":6},"generated":{"line":1,"column":3428}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_storageMaxStat","original":{"line":253,"column":11},"generated":{"line":1,"column":3433}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":254,"column":6},"generated":{"line":1,"column":3451}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_blockStat","original":{"line":254,"column":11},"generated":{"line":1,"column":3456}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":255,"column":6},"generated":{"line":1,"column":3469}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":255,"column":11},"generated":{"line":1,"column":3474}},{"source":"node_modules/ipfs-repo/src/index.js","name":"get","original":{"line":255,"column":19},"generated":{"line":1,"column":3482}},{"source":"node_modules/ipfs-repo/src/index.js","name":"getSize","original":{"line":256,"column":6},"generated":{"line":1,"column":3488}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":256,"column":14},"generated":{"line":1,"column":3490}},{"source":"node_modules/ipfs-repo/src/index.js","name":"datastore","original":{"line":256,"column":19},"generated":{"line":1,"column":3495}},{"source":"node_modules/ipfs-repo/src/index.js","name":"getSize","original":{"line":257,"column":6},"generated":{"line":1,"column":3506}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":257,"column":14},"generated":{"line":1,"column":3508}},{"source":"node_modules/ipfs-repo/src/index.js","name":"keys","original":{"line":257,"column":19},"generated":{"line":1,"column":3513}},{"source":"node_modules/ipfs-repo/src/index.js","name":"size","original":{"line":259,"column":10},"generated":{"line":1,"column":3521}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocks","original":{"line":259,"column":17},"generated":{"line":1,"column":3523}},{"source":"node_modules/ipfs-repo/src/index.js","name":"size","original":{"line":259,"column":24},"generated":{"line":1,"column":3525}},{"source":"node_modules/ipfs-repo/src/index.js","name":"plus","original":{"line":260,"column":7},"generated":{"line":1,"column":3530}},{"source":"node_modules/ipfs-repo/src/index.js","name":"datastore","original":{"line":260,"column":12},"generated":{"line":1,"column":3535}},{"source":"node_modules/ipfs-repo/src/index.js","name":"plus","original":{"line":261,"column":7},"generated":{"line":1,"column":3538}},{"source":"node_modules/ipfs-repo/src/index.js","name":"keys","original":{"line":261,"column":12},"generated":{"line":1,"column":3543}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":263,"column":11},"generated":{"line":1,"column":3546}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":263,"column":11},"generated":{"line":1,"column":3552}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoPath","original":{"line":264,"column":6},"generated":{"line":1,"column":3553}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":264,"column":16},"generated":{"line":1,"column":3562}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":264,"column":21},"generated":{"line":1,"column":3567}},{"source":"node_modules/ipfs-repo/src/index.js","name":"storageMax","original":{"line":265,"column":6},"generated":{"line":1,"column":3572}},{"source":"node_modules/ipfs-repo/src/index.js","name":"storageMax","original":{"line":265,"column":6},"generated":{"line":1,"column":3583}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":266,"column":6},"generated":{"line":1,"column":3585}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":266,"column":15},"generated":{"line":1,"column":3593}},{"source":"node_modules/ipfs-repo/src/index.js","name":"numObjects","original":{"line":267,"column":6},"generated":{"line":1,"column":3595}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocks","original":{"line":267,"column":18},"generated":{"line":1,"column":3606}},{"source":"node_modules/ipfs-repo/src/index.js","name":"count","original":{"line":267,"column":25},"generated":{"line":1,"column":3608}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoSize","original":{"line":268,"column":6},"generated":{"line":1,"column":3614}},{"source":"node_modules/ipfs-repo/src/index.js","name":"size","original":{"line":268,"column":16},"generated":{"line":1,"column":3623}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_isAutoMigrationEnabled","original":{"line":272,"column":8},"generated":{"line":1,"column":3626}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":273,"column":8},"generated":{"line":1,"column":3658}},{"source":"node_modules/ipfs-repo/src/index.js","name":"undefined","original":{"line":273,"column":37},"generated":{"line":1,"column":3666}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":273,"column":8},"generated":{"line":1,"column":3670}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":273,"column":13},"generated":{"line":1,"column":3675}},{"source":"node_modules/ipfs-repo/src/index.js","name":"autoMigrate","original":{"line":273,"column":21},"generated":{"line":1,"column":3683}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":274,"column":13},"generated":{"line":1,"column":3695}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":274,"column":13},"generated":{"line":1,"column":3702}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":274,"column":18},"generated":{"line":1,"column":3707}},{"source":"node_modules/ipfs-repo/src/index.js","name":"autoMigrate","original":{"line":274,"column":26},"generated":{"line":1,"column":3715}},{"source":"node_modules/ipfs-repo/src/index.js","name":"autoMigrateConfig","original":{"line":277,"column":8},"generated":{"line":1,"column":3727}},{"source":"node_modules/ipfs-repo/src/index.js","name":"autoMigrateConfig","original":{"line":277,"column":8},"generated":{"line":1,"column":3731}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":278,"column":8},"generated":{"line":1,"column":3733}},{"source":"node_modules/ipfs-repo/src/index.js","name":"autoMigrateConfig","original":{"line":279,"column":6},"generated":{"line":1,"column":3737}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":279,"column":32},"generated":{"line":1,"column":3745}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":279,"column":37},"generated":{"line":1,"column":3750}},{"source":"node_modules/ipfs-repo/src/index.js","name":"get","original":{"line":279,"column":44},"generated":{"line":1,"column":3757}},{"source":"node_modules/ipfs-repo/src/index.js","name":"AUTO_MIGRATE_CONFIG_KEY","original":{"line":279,"column":48},"generated":{"line":1,"column":3761}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":280,"column":6},"generated":{"line":1,"column":3764}},{"source":"node_modules/ipfs-repo/src/index.js","name":"e","original":{"line":280,"column":13},"generated":{"line":1,"column":3770}},{"source":"node_modules/ipfs-repo/src/index.js","name":"e","original":{"line":281,"column":10},"generated":{"line":1,"column":3773}},{"source":"node_modules/ipfs-repo/src/index.js","name":"e","original":{"line":281,"column":10},"generated":{"line":1,"column":3776}},{"source":"node_modules/ipfs-repo/src/index.js","name":"code","original":{"line":281,"column":12},"generated":{"line":1,"column":3778}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERRORS","original":{"line":281,"column":21},"generated":{"line":1,"column":3785}},{"source":"node_modules/ipfs-repo/src/index.js","name":"NotFoundError","original":{"line":281,"column":28},"generated":{"line":1,"column":3787}},{"source":"node_modules/ipfs-repo/src/index.js","name":"code","original":{"line":281,"column":42},"generated":{"line":1,"column":3801}},{"source":"node_modules/ipfs-repo/src/index.js","name":"e","original":{"line":284,"column":14},"generated":{"line":1,"column":3806}},{"source":"node_modules/ipfs-repo/src/index.js","name":"e","original":{"line":284,"column":14},"generated":{"line":1,"column":3812}},{"source":"node_modules/ipfs-repo/src/index.js","name":"autoMigrateConfig","original":{"line":282,"column":8},"generated":{"line":1,"column":3814}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":282,"column":28},"generated":{"line":1,"column":3817}},{"source":"node_modules/ipfs-repo/src/index.js","name":"autoMigrateConfig","original":{"line":288,"column":11},"generated":{"line":1,"column":3819}},{"source":"node_modules/ipfs-repo/src/index.js","name":"autoMigrateConfig","original":{"line":288,"column":11},"generated":{"line":1,"column":3826}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_migrate","original":{"line":291,"column":8},"generated":{"line":1,"column":3828}},{"source":"node_modules/ipfs-repo/src/index.js","name":"toVersion","original":{"line":291,"column":18},"generated":{"line":1,"column":3843}},{"source":"node_modules/ipfs-repo/src/index.js","name":"currentRepoVersion","original":{"line":294,"column":8},"generated":{"line":1,"column":3846}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":292,"column":37},"generated":{"line":1,"column":3859}},{"source":"node_modules/ipfs-repo/src/index.js","name":"version","original":{"line":292,"column":42},"generated":{"line":1,"column":3864}},{"source":"node_modules/ipfs-repo/src/index.js","name":"get","original":{"line":292,"column":50},"generated":{"line":1,"column":3872}},{"source":"node_modules/ipfs-repo/src/index.js","name":"toVersion","original":{"line":294,"column":29},"generated":{"line":1,"column":3878}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":295,"column":6},"generated":{"line":1,"column":3881}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":295,"column":10},"generated":{"line":1,"column":3883}},{"source":"node_modules/ipfs-repo/src/index.js","name":"toVersion","original":{"line":295,"column":36},"generated":{"line":1,"column":3907}},{"source":"node_modules/ipfs-repo/src/index.js","name":"migrator","original":{"line":296,"column":13},"generated":{"line":1,"column":3910}},{"source":"node_modules/ipfs-repo/src/index.js","name":"revert","original":{"line":296,"column":22},"generated":{"line":1,"column":3912}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":296,"column":29},"generated":{"line":1,"column":3919}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":296,"column":34},"generated":{"line":1,"column":3924}},{"source":"node_modules/ipfs-repo/src/index.js","name":"toVersion","original":{"line":296,"column":40},"generated":{"line":1,"column":3929}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":296,"column":51},"generated":{"line":1,"column":3931}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ignoreLock","original":{"line":296,"column":53},"generated":{"line":1,"column":3932}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":296,"column":65},"generated":{"line":1,"column":3944}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoOptions","original":{"line":296,"column":71},"generated":{"line":1,"column":3946}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":296,"column":84},"generated":{"line":1,"column":3958}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":296,"column":89},"generated":{"line":1,"column":3963}},{"source":"node_modules/ipfs-repo/src/index.js","name":"log","original":{"line":298,"column":6},"generated":{"line":1,"column":3975}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":298,"column":10},"generated":{"line":1,"column":3977}},{"source":"node_modules/ipfs-repo/src/index.js","name":"toVersion","original":{"line":298,"column":36},"generated":{"line":1,"column":4001}},{"source":"node_modules/ipfs-repo/src/index.js","name":"migrator","original":{"line":299,"column":13},"generated":{"line":1,"column":4004}},{"source":"node_modules/ipfs-repo/src/index.js","name":"migrate","original":{"line":299,"column":22},"generated":{"line":1,"column":4006}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":299,"column":30},"generated":{"line":1,"column":4014}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":299,"column":35},"generated":{"line":1,"column":4019}},{"source":"node_modules/ipfs-repo/src/index.js","name":"toVersion","original":{"line":299,"column":41},"generated":{"line":1,"column":4024}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":299,"column":52},"generated":{"line":1,"column":4026}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ignoreLock","original":{"line":299,"column":54},"generated":{"line":1,"column":4027}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":299,"column":66},"generated":{"line":1,"column":4039}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoOptions","original":{"line":299,"column":72},"generated":{"line":1,"column":4041}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":299,"column":85},"generated":{"line":1,"column":4053}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":299,"column":90},"generated":{"line":1,"column":4058}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_storageMaxStat","original":{"line":303,"column":8},"generated":{"line":1,"column":4069}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":304,"column":8},"generated":{"line":1,"column":4093}},{"source":"node_modules/ipfs-repo/src/index.js","name":"max","original":{"line":305,"column":12},"generated":{"line":1,"column":4097}},{"source":"node_modules/ipfs-repo/src/index.js","name":"max","original":{"line":305,"column":12},"generated":{"line":1,"column":4103}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":305,"column":24},"generated":{"line":1,"column":4111}},{"source":"node_modules/ipfs-repo/src/index.js","name":"config","original":{"line":305,"column":29},"generated":{"line":1,"column":4116}},{"source":"node_modules/ipfs-repo/src/index.js","name":"get","original":{"line":305,"column":36},"generated":{"line":1,"column":4123}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":305,"column":40},"generated":{"line":1,"column":4127}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":306,"column":13},"generated":{"line":1,"column":4151}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":306,"column":13},"generated":{"line":1,"column":4158}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Big","original":{"line":306,"column":17},"generated":{"line":1,"column":4162}},{"source":"node_modules/ipfs-repo/src/index.js","name":"bytes","original":{"line":306,"column":21},"generated":{"line":1,"column":4164}},{"source":"node_modules/ipfs-repo/src/index.js","name":"max","original":{"line":306,"column":27},"generated":{"line":1,"column":4166}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":307,"column":6},"generated":{"line":1,"column":4170}},{"source":"node_modules/ipfs-repo/src/index.js","name":"err","original":{"line":307,"column":13},"generated":{"line":1,"column":4176}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":308,"column":13},"generated":{"line":1,"column":4179}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":308,"column":13},"generated":{"line":1,"column":4186}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Big","original":{"line":308,"column":17},"generated":{"line":1,"column":4190}},{"source":"node_modules/ipfs-repo/src/index.js","name":"noLimit","original":{"line":308,"column":21},"generated":{"line":1,"column":4192}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_blockStat","original":{"line":312,"column":8},"generated":{"line":1,"column":4196}},{"source":"node_modules/ipfs-repo/src/index.js","name":"count","original":{"line":313,"column":8},"generated":{"line":1,"column":4215}},{"source":"node_modules/ipfs-repo/src/index.js","name":"count","original":{"line":313,"column":8},"generated":{"line":1,"column":4219}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":313,"column":16},"generated":{"line":1,"column":4221}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Big","original":{"line":313,"column":20},"generated":{"line":1,"column":4225}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":313,"column":24},"generated":{"line":1,"column":4227}},{"source":"node_modules/ipfs-repo/src/index.js","name":"size","original":{"line":314,"column":8},"generated":{"line":1,"column":4230}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":314,"column":15},"generated":{"line":1,"column":4232}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Big","original":{"line":314,"column":19},"generated":{"line":1,"column":4236}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":314,"column":23},"generated":{"line":1,"column":4238}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":316,"column":15},"generated":{"line":1,"column":4241}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":316,"column":15},"generated":{"line":1,"column":4251}},{"source":"node_modules/ipfs-repo/src/index.js","name":"block","original":{"line":316,"column":21},"generated":{"line":1,"column":4257}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":316,"column":30},"generated":{"line":1,"column":4262}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blocks","original":{"line":316,"column":35},"generated":{"line":1,"column":4267}},{"source":"node_modules/ipfs-repo/src/index.js","name":"query","original":{"line":316,"column":42},"generated":{"line":1,"column":4274}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":316,"column":48},"generated":{"line":1,"column":4280}},{"source":"node_modules/ipfs-repo/src/index.js","name":"count","original":{"line":317,"column":6},"generated":{"line":1,"column":4284}},{"source":"node_modules/ipfs-repo/src/index.js","name":"count","original":{"line":317,"column":14},"generated":{"line":1,"column":4286}},{"source":"node_modules/ipfs-repo/src/index.js","name":"plus","original":{"line":317,"column":20},"generated":{"line":1,"column":4288}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":317,"column":25},"generated":{"line":1,"column":4293}},{"source":"node_modules/ipfs-repo/src/index.js","name":"size","original":{"line":318,"column":6},"generated":{"line":1,"column":4296}},{"source":"node_modules/ipfs-repo/src/index.js","name":"size","original":{"line":318,"column":13},"generated":{"line":1,"column":4298}},{"source":"node_modules/ipfs-repo/src/index.js","name":"plus","original":{"line":319,"column":9},"generated":{"line":1,"column":4300}},{"source":"node_modules/ipfs-repo/src/index.js","name":"block","original":{"line":319,"column":14},"generated":{"line":1,"column":4305}},{"source":"node_modules/ipfs-repo/src/index.js","name":"value","original":{"line":319,"column":20},"generated":{"line":1,"column":4307}},{"source":"node_modules/ipfs-repo/src/index.js","name":"byteLength","original":{"line":319,"column":26},"generated":{"line":1,"column":4313}},{"source":"node_modules/ipfs-repo/src/index.js","name":"plus","original":{"line":320,"column":9},"generated":{"line":1,"column":4325}},{"source":"node_modules/ipfs-repo/src/index.js","name":"block","original":{"line":320,"column":14},"generated":{"line":1,"column":4330}},{"source":"node_modules/ipfs-repo/src/index.js","name":"key","original":{"line":320,"column":20},"generated":{"line":1,"column":4332}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_buf","original":{"line":320,"column":24},"generated":{"line":1,"column":4336}},{"source":"node_modules/ipfs-repo/src/index.js","name":"byteLength","original":{"line":320,"column":29},"generated":{"line":1,"column":4341}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":323,"column":11},"generated":{"line":1,"column":4353}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":323,"column":11},"generated":{"line":1,"column":4359}},{"source":"node_modules/ipfs-repo/src/index.js","name":"count","original":{"line":323,"column":13},"generated":{"line":1,"column":4360}},{"source":"node_modules/ipfs-repo/src/index.js","name":"count","original":{"line":323,"column":13},"generated":{"line":1,"column":4366}},{"source":"node_modules/ipfs-repo/src/index.js","name":"size","original":{"line":323,"column":20},"generated":{"line":1,"column":4368}},{"source":"node_modules/ipfs-repo/src/index.js","name":"size","original":{"line":323,"column":20},"generated":{"line":1,"column":4373}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":327,"column":0},"generated":{"line":1,"column":4377}},{"source":"node_modules/ipfs-repo/src/index.js","name":"getSize","original":{"line":327,"column":15},"generated":{"line":1,"column":4392}},{"source":"node_modules/ipfs-repo/src/index.js","name":"queryFn","original":{"line":327,"column":24},"generated":{"line":1,"column":4394}},{"source":"node_modules/ipfs-repo/src/index.js","name":"sum","original":{"line":328,"column":8},"generated":{"line":1,"column":4397}},{"source":"node_modules/ipfs-repo/src/index.js","name":"sum","original":{"line":328,"column":8},"generated":{"line":1,"column":4403}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":328,"column":14},"generated":{"line":1,"column":4405}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Big","original":{"line":328,"column":18},"generated":{"line":1,"column":4409}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":328,"column":22},"generated":{"line":1,"column":4411}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":329,"column":13},"generated":{"line":1,"column":4414}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":329,"column":13},"generated":{"line":1,"column":4424}},{"source":"node_modules/ipfs-repo/src/index.js","name":"block","original":{"line":329,"column":19},"generated":{"line":1,"column":4430}},{"source":"node_modules/ipfs-repo/src/index.js","name":"queryFn","original":{"line":329,"column":28},"generated":{"line":1,"column":4435}},{"source":"node_modules/ipfs-repo/src/index.js","name":"query","original":{"line":329,"column":36},"generated":{"line":1,"column":4437}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":329,"column":42},"generated":{"line":1,"column":4443}},{"source":"node_modules/ipfs-repo/src/index.js","name":"sum","original":{"line":330,"column":4},"generated":{"line":1,"column":4447}},{"source":"node_modules/ipfs-repo/src/index.js","name":"plus","original":{"line":330,"column":8},"generated":{"line":1,"column":4449}},{"source":"node_modules/ipfs-repo/src/index.js","name":"block","original":{"line":330,"column":13},"generated":{"line":1,"column":4454}},{"source":"node_modules/ipfs-repo/src/index.js","name":"value","original":{"line":330,"column":19},"generated":{"line":1,"column":4456}},{"source":"node_modules/ipfs-repo/src/index.js","name":"byteLength","original":{"line":330,"column":25},"generated":{"line":1,"column":4462}},{"source":"node_modules/ipfs-repo/src/index.js","name":"plus","original":{"line":331,"column":7},"generated":{"line":1,"column":4474}},{"source":"node_modules/ipfs-repo/src/index.js","name":"block","original":{"line":331,"column":12},"generated":{"line":1,"column":4479}},{"source":"node_modules/ipfs-repo/src/index.js","name":"key","original":{"line":331,"column":18},"generated":{"line":1,"column":4481}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_buf","original":{"line":331,"column":22},"generated":{"line":1,"column":4485}},{"source":"node_modules/ipfs-repo/src/index.js","name":"byteLength","original":{"line":331,"column":27},"generated":{"line":1,"column":4490}},{"source":"node_modules/ipfs-repo/src/index.js","name":"sum","original":{"line":333,"column":9},"generated":{"line":1,"column":4502}},{"source":"node_modules/ipfs-repo/src/index.js","name":"sum","original":{"line":333,"column":9},"generated":{"line":1,"column":4509}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":341,"column":0},"generated":{"line":1,"column":4511}},{"source":"node_modules/ipfs-repo/src/index.js","name":"buildOptions","original":{"line":341,"column":9},"generated":{"line":1,"column":4520}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_options","original":{"line":341,"column":23},"generated":{"line":1,"column":4522}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":342,"column":8},"generated":{"line":1,"column":4525}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":342,"column":8},"generated":{"line":1,"column":4531}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Object","original":{"line":342,"column":18},"generated":{"line":1,"column":4533}},{"source":"node_modules/ipfs-repo/src/index.js","name":"assign","original":{"line":342,"column":25},"generated":{"line":1,"column":4540}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":342,"column":32},"generated":{"line":1,"column":4547}},{"source":"node_modules/ipfs-repo/src/index.js","name":"defaultOptions","original":{"line":342,"column":36},"generated":{"line":1,"column":4550}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_options","original":{"line":342,"column":52},"generated":{"line":1,"column":4552}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":354,"column":9},"generated":{"line":1,"column":4555}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":344,"column":2},"generated":{"line":1,"column":4562}},{"source":"node_modules/ipfs-repo/src/index.js","name":"storageBackends","original":{"line":344,"column":10},"generated":{"line":1,"column":4564}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Object","original":{"line":344,"column":28},"generated":{"line":1,"column":4580}},{"source":"node_modules/ipfs-repo/src/index.js","name":"assign","original":{"line":344,"column":35},"generated":{"line":1,"column":4587}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":345,"column":4},"generated":{"line":1,"column":4594}},{"source":"node_modules/ipfs-repo/src/index.js","name":"defaultOptions","original":{"line":346,"column":4},"generated":{"line":1,"column":4597}},{"source":"node_modules/ipfs-repo/src/index.js","name":"storageBackends","original":{"line":346,"column":19},"generated":{"line":1,"column":4599}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":347,"column":4},"generated":{"line":1,"column":4615}},{"source":"node_modules/ipfs-repo/src/index.js","name":"storageBackends","original":{"line":347,"column":12},"generated":{"line":1,"column":4617}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":349,"column":2},"generated":{"line":1,"column":4634}},{"source":"node_modules/ipfs-repo/src/index.js","name":"storageBackendOptions","original":{"line":349,"column":10},"generated":{"line":1,"column":4636}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Object","original":{"line":349,"column":34},"generated":{"line":1,"column":4658}},{"source":"node_modules/ipfs-repo/src/index.js","name":"assign","original":{"line":349,"column":41},"generated":{"line":1,"column":4665}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":350,"column":4},"generated":{"line":1,"column":4672}},{"source":"node_modules/ipfs-repo/src/index.js","name":"defaultOptions","original":{"line":351,"column":4},"generated":{"line":1,"column":4675}},{"source":"node_modules/ipfs-repo/src/index.js","name":"storageBackendOptions","original":{"line":351,"column":19},"generated":{"line":1,"column":4677}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":352,"column":4},"generated":{"line":1,"column":4699}},{"source":"node_modules/ipfs-repo/src/index.js","name":"storageBackendOptions","original":{"line":352,"column":12},"generated":{"line":1,"column":4701}},{"source":"node_modules/ipfs-repo/src/index.js","name":"options","original":{"line":354,"column":9},"generated":{"line":1,"column":4724}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":358,"column":0},"generated":{"line":1,"column":4726}},{"source":"node_modules/ipfs-repo/src/index.js","name":"buildConfig","original":{"line":358,"column":9},"generated":{"line":1,"column":4735}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_config","original":{"line":358,"column":22},"generated":{"line":1,"column":4737}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_config","original":{"line":361,"column":9},"generated":{"line":1,"column":4740}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_config","original":{"line":359,"column":2},"generated":{"line":1,"column":4747}},{"source":"node_modules/ipfs-repo/src/index.js","name":"datastore","original":{"line":359,"column":10},"generated":{"line":1,"column":4749}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Object","original":{"line":359,"column":22},"generated":{"line":1,"column":4759}},{"source":"node_modules/ipfs-repo/src/index.js","name":"assign","original":{"line":359,"column":29},"generated":{"line":1,"column":4766}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":359,"column":36},"generated":{"line":1,"column":4773}},{"source":"node_modules/ipfs-repo/src/index.js","name":"defaultDatastore","original":{"line":359,"column":40},"generated":{"line":1,"column":4776}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_get","original":{"line":359,"column":58},"generated":{"line":1,"column":4778}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_config","original":{"line":359,"column":63},"generated":{"line":1,"column":4780}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":359,"column":72},"generated":{"line":1,"column":4782}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":359,"column":85},"generated":{"line":1,"column":4794}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_config","original":{"line":361,"column":9},"generated":{"line":1,"column":4799}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":364,"column":0},"generated":{"line":1,"column":4801}},{"source":"node_modules/ipfs-repo/src/index.js","name":"buildDatastoreSpec","original":{"line":364,"column":9},"generated":{"line":1,"column":4810}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_config","original":{"line":364,"column":29},"generated":{"line":1,"column":4812}},{"source":"node_modules/ipfs-repo/src/index.js","name":"spec","original":{"line":365,"column":8},"generated":{"line":1,"column":4815}},{"source":"node_modules/ipfs-repo/src/index.js","name":"spec","original":{"line":365,"column":8},"generated":{"line":1,"column":4821}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Object","original":{"line":365,"column":15},"generated":{"line":1,"column":4823}},{"source":"node_modules/ipfs-repo/src/index.js","name":"assign","original":{"line":365,"column":22},"generated":{"line":1,"column":4830}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":365,"column":29},"generated":{"line":1,"column":4837}},{"source":"node_modules/ipfs-repo/src/index.js","name":"defaultDatastore","original":{"line":365,"column":33},"generated":{"line":1,"column":4840}},{"source":"node_modules/ipfs-repo/src/index.js","name":"Spec","original":{"line":365,"column":50},"generated":{"line":1,"column":4842}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_get","original":{"line":365,"column":56},"generated":{"line":1,"column":4847}},{"source":"node_modules/ipfs-repo/src/index.js","name":"_config","original":{"line":365,"column":61},"generated":{"line":1,"column":4849}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":365,"column":70},"generated":{"line":1,"column":4851}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":365,"column":88},"generated":{"line":1,"column":4868}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":367,"column":9},"generated":{"line":1,"column":4873}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":367,"column":9},"generated":{"line":1,"column":4879}},{"source":"node_modules/ipfs-repo/src/index.js","name":"type","original":{"line":368,"column":4},"generated":{"line":1,"column":4880}},{"source":"node_modules/ipfs-repo/src/index.js","name":"spec","original":{"line":368,"column":10},"generated":{"line":1,"column":4885}},{"source":"node_modules/ipfs-repo/src/index.js","name":"type","original":{"line":368,"column":15},"generated":{"line":1,"column":4887}},{"source":"node_modules/ipfs-repo/src/index.js","name":"mounts","original":{"line":369,"column":4},"generated":{"line":1,"column":4892}},{"source":"node_modules/ipfs-repo/src/index.js","name":"spec","original":{"line":369,"column":12},"generated":{"line":1,"column":4899}},{"source":"node_modules/ipfs-repo/src/index.js","name":"mounts","original":{"line":369,"column":17},"generated":{"line":1,"column":4901}},{"source":"node_modules/ipfs-repo/src/index.js","name":"map","original":{"line":369,"column":24},"generated":{"line":1,"column":4908}},{"source":"node_modules/ipfs-repo/src/index.js","name":"mounting","original":{"line":369,"column":29},"generated":{"line":1,"column":4912}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":369,"column":43},"generated":{"line":1,"column":4916}},{"source":"node_modules/ipfs-repo/src/index.js","name":"mountpoint","original":{"line":370,"column":6},"generated":{"line":1,"column":4917}},{"source":"node_modules/ipfs-repo/src/index.js","name":"mounting","original":{"line":370,"column":18},"generated":{"line":1,"column":4928}},{"source":"node_modules/ipfs-repo/src/index.js","name":"mountpoint","original":{"line":370,"column":27},"generated":{"line":1,"column":4930}},{"source":"node_modules/ipfs-repo/src/index.js","name":"type","original":{"line":371,"column":6},"generated":{"line":1,"column":4941}},{"source":"node_modules/ipfs-repo/src/index.js","name":"mounting","original":{"line":371,"column":12},"generated":{"line":1,"column":4946}},{"source":"node_modules/ipfs-repo/src/index.js","name":"child","original":{"line":371,"column":21},"generated":{"line":1,"column":4948}},{"source":"node_modules/ipfs-repo/src/index.js","name":"type","original":{"line":371,"column":27},"generated":{"line":1,"column":4954}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":372,"column":6},"generated":{"line":1,"column":4959}},{"source":"node_modules/ipfs-repo/src/index.js","name":"mounting","original":{"line":372,"column":12},"generated":{"line":1,"column":4964}},{"source":"node_modules/ipfs-repo/src/index.js","name":"child","original":{"line":372,"column":21},"generated":{"line":1,"column":4966}},{"source":"node_modules/ipfs-repo/src/index.js","name":"path","original":{"line":372,"column":27},"generated":{"line":1,"column":4972}},{"source":"node_modules/ipfs-repo/src/index.js","name":"shardFunc","original":{"line":373,"column":6},"generated":{"line":1,"column":4977}},{"source":"node_modules/ipfs-repo/src/index.js","name":"mounting","original":{"line":373,"column":17},"generated":{"line":1,"column":4987}},{"source":"node_modules/ipfs-repo/src/index.js","name":"child","original":{"line":373,"column":26},"generated":{"line":1,"column":4989}},{"source":"node_modules/ipfs-repo/src/index.js","name":"shardFunc","original":{"line":373,"column":32},"generated":{"line":1,"column":4995}},{"source":"node_modules/ipfs-repo/src/index.js","name":"module","original":{"line":336,"column":0},"generated":{"line":1,"column":5009}},{"source":"node_modules/ipfs-repo/src/index.js","name":"exports","original":{"line":336,"column":7},"generated":{"line":1,"column":5016}},{"source":"node_modules/ipfs-repo/src/index.js","name":"IpfsRepo","original":{"line":336,"column":17},"generated":{"line":1,"column":5024}},{"source":"node_modules/ipfs-repo/src/index.js","name":"module","original":{"line":337,"column":0},"generated":{"line":1,"column":5026}},{"source":"node_modules/ipfs-repo/src/index.js","name":"exports","original":{"line":337,"column":7},"generated":{"line":1,"column":5033}},{"source":"node_modules/ipfs-repo/src/index.js","name":"utils","original":{"line":337,"column":15},"generated":{"line":1,"column":5041}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":337,"column":23},"generated":{"line":1,"column":5047}},{"source":"node_modules/ipfs-repo/src/index.js","name":"blockstore","original":{"line":337,"column":25},"generated":{"line":1,"column":5048}},{"source":"node_modules/ipfs-repo/src/index.js","name":"require","original":{"line":337,"column":37},"generated":{"line":1,"column":5059}},{"source":"node_modules/ipfs-repo/src/index.js","original":{"line":337,"column":45},"generated":{"line":1,"column":5067}},{"source":"node_modules/ipfs-repo/src/index.js","name":"module","original":{"line":338,"column":0},"generated":{"line":1,"column":5090}},{"source":"node_modules/ipfs-repo/src/index.js","name":"exports","original":{"line":338,"column":7},"generated":{"line":1,"column":5097}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoVersion","original":{"line":338,"column":15},"generated":{"line":1,"column":5105}},{"source":"node_modules/ipfs-repo/src/index.js","name":"constants","original":{"line":338,"column":29},"generated":{"line":1,"column":5117}},{"source":"node_modules/ipfs-repo/src/index.js","name":"repoVersion","original":{"line":338,"column":39},"generated":{"line":1,"column":5119}},{"source":"node_modules/ipfs-repo/src/index.js","name":"module","original":{"line":339,"column":0},"generated":{"line":1,"column":5131}},{"source":"node_modules/ipfs-repo/src/index.js","name":"exports","original":{"line":339,"column":7},"generated":{"line":1,"column":5138}},{"source":"node_modules/ipfs-repo/src/index.js","name":"errors","original":{"line":339,"column":15},"generated":{"line":1,"column":5146}},{"source":"node_modules/ipfs-repo/src/index.js","name":"ERRORS","original":{"line":339,"column":24},"generated":{"line":1,"column":5153}}],"sources":{"node_modules/ipfs-repo/src/index.js":"'use strict'\n\nconst _get = require('just-safe-get')\nconst assert = require('assert')\nconst path = require('path')\nconst debug = require('debug')\nconst Big = require('bignumber.js')\nconst errcode = require('err-code')\nconst migrator = require('ipfs-repo-migrations')\nconst bytes = require('bytes')\n\nconst constants = require('./constants')\nconst backends = require('./backends')\nconst version = require('./version')\nconst config = require('./config')\nconst spec = require('./spec')\nconst apiAddr = require('./api-addr')\nconst blockstore = require('./blockstore')\nconst defaultOptions = require('./default-options')\nconst defaultDatastore = require('./default-datastore')\nconst ERRORS = require('./errors')\n\nconst log = debug('repo')\n\nconst noLimit = Number.MAX_SAFE_INTEGER\nconst AUTO_MIGRATE_CONFIG_KEY = 'repoAutoMigrate'\n\nconst lockers = {\n  memory: require('./lock-memory'),\n  fs: require('./lock')\n}\n\n/**\n * IpfsRepo implements all required functionality to read and write to an ipfs repo.\n *\n */\nclass IpfsRepo {\n  /**\n   * @param {string} repoPath - path where the repo is stored\n   * @param {object} options - Configuration\n   */\n  constructor (repoPath, options) {\n    assert.strictEqual(typeof repoPath, 'string', 'missing repoPath')\n\n    this.options = buildOptions(options)\n    this.closed = true\n    this.path = repoPath\n\n    this._locker = this._getLocker()\n\n    this.root = backends.create('root', this.path, this.options)\n    this.version = version(this.root)\n    this.config = config(this.root)\n    this.spec = spec(this.root)\n    this.apiAddr = apiAddr(this.root)\n  }\n\n  /**\n   * Initialize a new repo.\n   *\n   * @param {Object} config - config to write into `config`.\n   * @returns {Promise<void>}\n   */\n  async init (config) {\n    log('initializing at: %s', this.path)\n    await this._openRoot()\n    await this.config.set(buildConfig(config))\n    await this.spec.set(buildDatastoreSpec(config))\n    await this.version.set(constants.repoVersion)\n  }\n\n  /**\n   * Open the repo. If the repo is already open an error will be thrown.\n   * If the repo is not initialized it will throw an error.\n   *\n   * @returns {Promise<void>}\n   */\n  async open () {\n    if (!this.closed) {\n      throw errcode(new Error('repo is already open'), ERRORS.ERR_REPO_ALREADY_OPEN)\n    }\n    log('opening at: %s', this.path)\n\n    // check if the repo is already initialized\n    try {\n      await this._openRoot()\n      await this._checkInitialized()\n      this.lockfile = await this._openLock(this.path)\n      log('acquired repo.lock')\n      log('creating datastore')\n      this.datastore = backends.create('datastore', path.join(this.path, 'datastore'), this.options)\n      log('creating blocks')\n      const blocksBaseStore = backends.create('blocks', path.join(this.path, 'blocks'), this.options)\n      this.blocks = await blockstore(blocksBaseStore, this.options.storageBackendOptions.blocks)\n      log('creating keystore')\n      this.keys = backends.create('keys', path.join(this.path, 'keys'), this.options)\n\n      const isCompatible = await this.version.check(constants.repoVersion)\n      if (!isCompatible) {\n        if (await this._isAutoMigrationEnabled()) {\n          await this._migrate(constants.repoVersion)\n        } else {\n          throw new ERRORS.InvalidRepoVersionError('Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.')\n        }\n      }\n\n      this.closed = false\n      log('all opened')\n    } catch (err) {\n      if (this.lockfile) {\n        try {\n          await this._closeLock()\n          this.lockfile = null\n        } catch (err2) {\n          log('error removing lock', err2)\n        }\n      }\n\n      throw err\n    }\n  }\n\n  /**\n   * Returns the repo locker to be used. Null will be returned if no locker is requested\n   *\n   * @private\n   * @returns {Locker}\n   */\n  _getLocker () {\n    if (typeof this.options.lock === 'string') {\n      assert(lockers[this.options.lock], 'Unknown lock type: ' + this.options.lock)\n      return lockers[this.options.lock]\n    }\n\n    assert(this.options.lock, 'No lock provided')\n    return this.options.lock\n  }\n\n  /**\n   * Opens the root backend, catching and ignoring an 'Already open' error\n   * @returns {Promise}\n   */\n  async _openRoot () {\n    try {\n      await this.root.open()\n    } catch (err) {\n      if (err.message !== 'Already open') {\n        throw err\n      }\n    }\n  }\n\n  /**\n   * Creates a lock on the repo if a locker is specified. The lockfile object will\n   * be returned in the callback if one has been created.\n   *\n   * @param {string} path\n   * @returns {Promise<lockfile>}\n   */\n  async _openLock (path) {\n    const lockfile = await this._locker.lock(path)\n\n    if (typeof lockfile.close !== 'function') {\n      throw errcode(new Error('Locks must have a close method'), 'ERR_NO_CLOSE_FUNCTION')\n    }\n\n    return lockfile\n  }\n\n  /**\n   * Closes the lock on the repo\n   *\n   * @returns {Promise<void>}\n   */\n  _closeLock () {\n    return this.lockfile.close()\n  }\n\n  /**\n   * Check if the repo is already initialized.\n   * @private\n   * @returns {Promise}\n   */\n  async _checkInitialized () {\n    log('init check')\n    let config\n    try {\n      [config] = await Promise.all([\n        this.config.exists(),\n        this.spec.exists(),\n        this.version.exists()\n      ])\n    } catch (err) {\n      if (err.code === 'ERR_NOT_FOUND') {\n        throw errcode(new Error('repo is not initialized yet'), ERRORS.ERR_REPO_NOT_INITIALIZED, {\n          path: this.path\n        })\n      }\n\n      throw err\n    }\n\n    if (!config) {\n      throw errcode(new Error('repo is not initialized yet'), ERRORS.ERR_REPO_NOT_INITIALIZED, {\n        path: this.path\n      })\n    }\n  }\n\n  /**\n   * Close the repo and cleanup.\n   *\n   * @returns {Promise<void>}\n   */\n  async close () {\n    if (this.closed) {\n      throw errcode(new Error('repo is already closed'), ERRORS.ERR_REPO_ALREADY_CLOSED)\n    }\n    log('closing at: %s', this.path)\n\n    try {\n      // Delete api, ignoring irrelevant errors\n      await this.apiAddr.delete()\n    } catch (err) {\n      if (err.code !== ERRORS.ERR_REPO_NOT_INITIALIZED && !err.message.startsWith('ENOENT')) {\n        throw err\n      }\n    }\n\n    await Promise.all([this.root, this.blocks, this.keys, this.datastore].map((store) => store.close()))\n    log('unlocking')\n    this.closed = true\n    await this._closeLock()\n    this.lockfile = null\n  }\n\n  /**\n   * Check if a repo exists.\n   *\n   * @returns {Promise<bool>}\n   */\n  async exists () { // eslint-disable-line require-await\n    return this.version.exists()\n  }\n\n  /**\n   * Get repo status.\n   *\n   * @returns {Object}\n   */\n  async stat () {\n    const [storageMax, blocks, version, datastore, keys] = await Promise.all([\n      this._storageMaxStat(),\n      this._blockStat(),\n      this.version.get(),\n      getSize(this.datastore),\n      getSize(this.keys)\n    ])\n    const size = blocks.size\n      .plus(datastore)\n      .plus(keys)\n\n    return {\n      repoPath: this.path,\n      storageMax,\n      version: version,\n      numObjects: blocks.count,\n      repoSize: size\n    }\n  }\n\n  async _isAutoMigrationEnabled () {\n    if (this.options.autoMigrate !== undefined) {\n      return this.options.autoMigrate\n    }\n\n    let autoMigrateConfig\n    try {\n      autoMigrateConfig = await this.config.get(AUTO_MIGRATE_CONFIG_KEY)\n    } catch (e) {\n      if (e.code === ERRORS.NotFoundError.code) {\n        autoMigrateConfig = true // Config's default value is True\n      } else {\n        throw e\n      }\n    }\n\n    return autoMigrateConfig\n  }\n\n  async _migrate (toVersion) {\n    const currentRepoVersion = await this.version.get()\n\n    if (currentRepoVersion > toVersion) {\n      log('reverting to version ' + toVersion)\n      return migrator.revert(this.path, toVersion, { ignoreLock: true, repoOptions: this.options })\n    } else {\n      log('migrating to version ' + toVersion)\n      return migrator.migrate(this.path, toVersion, { ignoreLock: true, repoOptions: this.options })\n    }\n  }\n\n  async _storageMaxStat () {\n    try {\n      const max = await this.config.get('Datastore.StorageMax')\n      return new Big(bytes(max))\n    } catch (err) {\n      return new Big(noLimit)\n    }\n  }\n\n  async _blockStat () {\n    let count = new Big(0)\n    let size = new Big(0)\n\n    for await (const block of this.blocks.query({})) {\n      count = count.plus(1)\n      size = size\n        .plus(block.value.byteLength)\n        .plus(block.key._buf.byteLength)\n    }\n\n    return { count, size }\n  }\n}\n\nasync function getSize (queryFn) {\n  const sum = new Big(0)\n  for await (const block of queryFn.query({})) {\n    sum.plus(block.value.byteLength)\n      .plus(block.key._buf.byteLength)\n  }\n  return sum\n}\n\nmodule.exports = IpfsRepo\nmodule.exports.utils = { blockstore: require('./blockstore-utils') }\nmodule.exports.repoVersion = constants.repoVersion\nmodule.exports.errors = ERRORS\n\nfunction buildOptions (_options) {\n  const options = Object.assign({}, defaultOptions, _options)\n\n  options.storageBackends = Object.assign(\n    {},\n    defaultOptions.storageBackends,\n    options.storageBackends)\n\n  options.storageBackendOptions = Object.assign(\n    {},\n    defaultOptions.storageBackendOptions,\n    options.storageBackendOptions)\n\n  return options\n}\n\n// TODO this should come from js-ipfs instead\nfunction buildConfig (_config) {\n  _config.datastore = Object.assign({}, defaultDatastore, _get(_config, 'datastore', {}))\n\n  return _config\n}\n\nfunction buildDatastoreSpec (_config) {\n  const spec = Object.assign({}, defaultDatastore.Spec, _get(_config, 'datastore.Spec', {}))\n\n  return {\n    type: spec.type,\n    mounts: spec.mounts.map((mounting) => ({\n      mountpoint: mounting.mountpoint,\n      type: mounting.child.type,\n      path: mounting.child.path,\n      shardFunc: mounting.child.shardFunc\n    }))\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"f61f4c3d611406750ad1bd06a86f4d12","cacheData":{"env":{}}}