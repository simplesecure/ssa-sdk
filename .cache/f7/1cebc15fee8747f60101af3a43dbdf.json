{"id":"x0o4","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-docstore/package.json","includedInParent":true,"mtime":1582579778661},{"name":"orbit-db-store","loc":{"line":3,"column":22},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-docstore/src/DocumentStore.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-store/src/Store.js"},{"name":"./DocumentIndex","loc":{"line":4,"column":30},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-docstore/src/DocumentStore.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-docstore/src/DocumentIndex.js"},{"name":"p-map","loc":{"line":5,"column":21},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-docstore/src/DocumentStore.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-docstore/node_modules/p-map/index.js"},{"name":"readable-stream","loc":{"line":6,"column":25},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/orbit-db-docstore/src/DocumentStore.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/readable-stream/readable-browser.js"}],"generated":{"js":"\"use strict\";const e=require(\"orbit-db-store\"),t=require(\"./DocumentIndex\"),i=require(\"p-map\"),n=require(\"readable-stream\"),r=(e,t,i)=>e.toString().split(t).join(i);class o extends e{constructor(e,i,n,r){r||(r={}),r.indexBy||Object.assign(r,{indexBy:\"_id\"}),r.Index||Object.assign(r,{Index:t}),super(e,i,n,r),this._type=\"docstore\"}get(e,t=!1){const i=(e=e.toString()).split(\" \");e=i.length>1?r(e,\".\",\" \").toLowerCase():e.toLowerCase();return Object.keys(this._index._index).filter(n=>t?-1!==n.indexOf(e):(t=>i.length>1?-1!==r(t,\".\",\" \").toLowerCase().indexOf(e):-1!==t.toLowerCase().indexOf(e))(n)).map(e=>this._index.get(e))}query(e,t={}){const i=t.fullOp||!1;return Object.keys(this._index._index).map(e=>this._index.get(e,i)).filter(e)}batchPut(e,t){return i(e,(i,n)=>this._addOperationBatch({op:\"PUT\",key:i[this.options.indexBy],value:i},!0,n===e.length-1,t),{concurrency:1}).then(()=>this.saveSnapshot())}put(e,t={}){if(!e[this.options.indexBy])throw new Error(`The provided document doesn't contain field '${this.options.indexBy}'`);return this._addOperation({op:\"PUT\",key:e[this.options.indexBy],value:e},t)}del(e,t={}){if(!this._index.get(e))throw new Error(`No entry with key '${e}' in the database`);return this._addOperation({op:\"DEL\",key:e,value:null},t)}}module.exports=o;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":3,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":3,"column":0},"generated":{"line":1,"column":21}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":3,"column":0},"generated":{"line":1,"column":29}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":4,"column":0},"generated":{"line":1,"column":47}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":4,"column":0},"generated":{"line":1,"column":49}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":4,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":5,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":5,"column":0},"generated":{"line":1,"column":78}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":5,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":6,"column":0},"generated":{"line":1,"column":95}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":6,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":6,"column":0},"generated":{"line":1,"column":105}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":124}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":127}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":129}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":131}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":135}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":137}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":148}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":154}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":157}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":8,"column":0},"generated":{"line":1,"column":162}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":10,"column":0},"generated":{"line":1,"column":165}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":10,"column":0},"generated":{"line":1,"column":171}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":10,"column":0},"generated":{"line":1,"column":181}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":11,"column":0},"generated":{"line":1,"column":183}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":11,"column":0},"generated":{"line":1,"column":195}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":11,"column":0},"generated":{"line":1,"column":197}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":11,"column":0},"generated":{"line":1,"column":199}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":11,"column":0},"generated":{"line":1,"column":201}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":12,"column":0},"generated":{"line":1,"column":204}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":12,"column":0},"generated":{"line":1,"column":208}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":12,"column":0},"generated":{"line":1,"column":210}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":13,"column":0},"generated":{"line":1,"column":214}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":13,"column":0},"generated":{"line":1,"column":216}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":13,"column":0},"generated":{"line":1,"column":225}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":13,"column":0},"generated":{"line":1,"column":232}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":13,"column":0},"generated":{"line":1,"column":239}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":13,"column":0},"generated":{"line":1,"column":241}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":13,"column":0},"generated":{"line":1,"column":242}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":13,"column":0},"generated":{"line":1,"column":250}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":14,"column":0},"generated":{"line":1,"column":258}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":14,"column":0},"generated":{"line":1,"column":260}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":14,"column":0},"generated":{"line":1,"column":267}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":14,"column":0},"generated":{"line":1,"column":274}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":14,"column":0},"generated":{"line":1,"column":281}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":14,"column":0},"generated":{"line":1,"column":283}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":14,"column":0},"generated":{"line":1,"column":284}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":14,"column":0},"generated":{"line":1,"column":290}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":15,"column":0},"generated":{"line":1,"column":294}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":15,"column":0},"generated":{"line":1,"column":300}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":15,"column":0},"generated":{"line":1,"column":302}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":15,"column":0},"generated":{"line":1,"column":304}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":15,"column":0},"generated":{"line":1,"column":306}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":16,"column":0},"generated":{"line":1,"column":309}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":16,"column":0},"generated":{"line":1,"column":314}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":16,"column":0},"generated":{"line":1,"column":320}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":19,"column":0},"generated":{"line":1,"column":331}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":19,"column":0},"generated":{"line":1,"column":335}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":19,"column":0},"generated":{"line":1,"column":337}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":19,"column":0},"generated":{"line":1,"column":340}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":21,"column":0},"generated":{"line":1,"column":343}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":21,"column":0},"generated":{"line":1,"column":349}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":20,"column":0},"generated":{"line":1,"column":352}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":20,"column":0},"generated":{"line":1,"column":354}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":20,"column":0},"generated":{"line":1,"column":356}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":21,"column":0},"generated":{"line":1,"column":368}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":21,"column":0},"generated":{"line":1,"column":374}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":379}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":381}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":383}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":390}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":392}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":394}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":396}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":400}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":405}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":419}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":22,"column":0},"generated":{"line":1,"column":421}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":35,"column":0},"generated":{"line":1,"column":435}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":35,"column":0},"generated":{"line":1,"column":442}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":35,"column":0},"generated":{"line":1,"column":449}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":35,"column":0},"generated":{"line":1,"column":454}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":35,"column":0},"generated":{"line":1,"column":459}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":35,"column":0},"generated":{"line":1,"column":466}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":36,"column":0},"generated":{"line":1,"column":474}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":31,"column":0},"generated":{"line":1,"column":481}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":31,"column":0},"generated":{"line":1,"column":484}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":32,"column":0},"generated":{"line":1,"column":487}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":32,"column":0},"generated":{"line":1,"column":491}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":32,"column":0},"generated":{"line":1,"column":493}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":32,"column":0},"generated":{"line":1,"column":501}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":24,"column":0},"generated":{"line":1,"column":504}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":24,"column":0},"generated":{"line":1,"column":505}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":25,"column":0},"generated":{"line":1,"column":508}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":25,"column":0},"generated":{"line":1,"column":510}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":25,"column":0},"generated":{"line":1,"column":517}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":26,"column":0},"generated":{"line":1,"column":520}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":26,"column":0},"generated":{"line":1,"column":524}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":26,"column":0},"generated":{"line":1,"column":526}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":26,"column":0},"generated":{"line":1,"column":528}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":26,"column":0},"generated":{"line":1,"column":532}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":26,"column":0},"generated":{"line":1,"column":537}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":26,"column":0},"generated":{"line":1,"column":551}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":26,"column":0},"generated":{"line":1,"column":559}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":28,"column":0},"generated":{"line":1,"column":563}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":28,"column":0},"generated":{"line":1,"column":567}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":28,"column":0},"generated":{"line":1,"column":569}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":28,"column":0},"generated":{"line":1,"column":583}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":28,"column":0},"generated":{"line":1,"column":591}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":33,"column":0},"generated":{"line":1,"column":594}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":33,"column":0},"generated":{"line":1,"column":595}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":37,"column":0},"generated":{"line":1,"column":599}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":30,"column":0},"generated":{"line":1,"column":603}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":30,"column":0},"generated":{"line":1,"column":606}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":30,"column":0},"generated":{"line":1,"column":611}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":30,"column":0},"generated":{"line":1,"column":618}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":30,"column":0},"generated":{"line":1,"column":622}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":40,"column":0},"generated":{"line":1,"column":626}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":40,"column":0},"generated":{"line":1,"column":632}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":40,"column":0},"generated":{"line":1,"column":634}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":40,"column":0},"generated":{"line":1,"column":636}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":42,"column":0},"generated":{"line":1,"column":640}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":42,"column":0},"generated":{"line":1,"column":646}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":42,"column":0},"generated":{"line":1,"column":648}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":42,"column":0},"generated":{"line":1,"column":650}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":42,"column":0},"generated":{"line":1,"column":659}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":44,"column":0},"generated":{"line":1,"column":661}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":44,"column":0},"generated":{"line":1,"column":668}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":44,"column":0},"generated":{"line":1,"column":675}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":44,"column":0},"generated":{"line":1,"column":680}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":44,"column":0},"generated":{"line":1,"column":685}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":44,"column":0},"generated":{"line":1,"column":692}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":45,"column":0},"generated":{"line":1,"column":700}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":45,"column":0},"generated":{"line":1,"column":704}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":45,"column":0},"generated":{"line":1,"column":707}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":45,"column":0},"generated":{"line":1,"column":712}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":45,"column":0},"generated":{"line":1,"column":719}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":45,"column":0},"generated":{"line":1,"column":723}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":45,"column":0},"generated":{"line":1,"column":725}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":46,"column":0},"generated":{"line":1,"column":729}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":46,"column":0},"generated":{"line":1,"column":736}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":49,"column":0},"generated":{"line":1,"column":739}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":49,"column":0},"generated":{"line":1,"column":748}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":49,"column":0},"generated":{"line":1,"column":750}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":63,"column":0},"generated":{"line":1,"column":753}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":63,"column":0},"generated":{"line":1,"column":760}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":63,"column":0},"generated":{"line":1,"column":762}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":50,"column":0},"generated":{"line":1,"column":764}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":50,"column":0},"generated":{"line":1,"column":765}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":50,"column":0},"generated":{"line":1,"column":767}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":51,"column":0},"generated":{"line":1,"column":771}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":51,"column":0},"generated":{"line":1,"column":776}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":52,"column":0},"generated":{"line":1,"column":795}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":53,"column":0},"generated":{"line":1,"column":796}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":53,"column":0},"generated":{"line":1,"column":799}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":54,"column":0},"generated":{"line":1,"column":805}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":54,"column":0},"generated":{"line":1,"column":809}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":54,"column":0},"generated":{"line":1,"column":811}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":54,"column":0},"generated":{"line":1,"column":816}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":54,"column":0},"generated":{"line":1,"column":824}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":55,"column":0},"generated":{"line":1,"column":833}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":55,"column":0},"generated":{"line":1,"column":839}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":57,"column":0},"generated":{"line":1,"column":843}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":58,"column":0},"generated":{"line":1,"column":845}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":58,"column":0},"generated":{"line":1,"column":849}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":58,"column":0},"generated":{"line":1,"column":851}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":58,"column":0},"generated":{"line":1,"column":858}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":59,"column":0},"generated":{"line":1,"column":860}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":63,"column":0},"generated":{"line":1,"column":863}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":63,"column":0},"generated":{"line":1,"column":864}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":63,"column":0},"generated":{"line":1,"column":876}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":64,"column":0},"generated":{"line":1,"column":880}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":64,"column":0},"generated":{"line":1,"column":885}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":64,"column":0},"generated":{"line":1,"column":889}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":64,"column":0},"generated":{"line":1,"column":894}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":67,"column":0},"generated":{"line":1,"column":910}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":67,"column":0},"generated":{"line":1,"column":914}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":67,"column":0},"generated":{"line":1,"column":916}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":67,"column":0},"generated":{"line":1,"column":918}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":68,"column":0},"generated":{"line":1,"column":922}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":68,"column":0},"generated":{"line":1,"column":926}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":68,"column":0},"generated":{"line":1,"column":928}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":68,"column":0},"generated":{"line":1,"column":933}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":68,"column":0},"generated":{"line":1,"column":941}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":69,"column":0},"generated":{"line":1,"column":950}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":69,"column":0},"generated":{"line":1,"column":956}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":69,"column":0},"generated":{"line":1,"column":960}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1014}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1019}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":69,"column":0},"generated":{"line":1,"column":1027}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":71,"column":0},"generated":{"line":1,"column":1039}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":71,"column":0},"generated":{"line":1,"column":1046}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":71,"column":0},"generated":{"line":1,"column":1051}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":71,"column":0},"generated":{"line":1,"column":1065}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":72,"column":0},"generated":{"line":1,"column":1066}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":72,"column":0},"generated":{"line":1,"column":1069}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1075}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1079}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1081}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1086}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1094}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":74,"column":0},"generated":{"line":1,"column":1103}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":74,"column":0},"generated":{"line":1,"column":1109}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":75,"column":0},"generated":{"line":1,"column":1112}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":78,"column":0},"generated":{"line":1,"column":1115}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":78,"column":0},"generated":{"line":1,"column":1119}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":78,"column":0},"generated":{"line":1,"column":1121}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":78,"column":0},"generated":{"line":1,"column":1123}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1127}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1131}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1136}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1143}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1147}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1150}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1156}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1160}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":80,"column":0},"generated":{"line":1,"column":1188}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1210}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1217}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1222}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1236}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":83,"column":0},"generated":{"line":1,"column":1237}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":83,"column":0},"generated":{"line":1,"column":1240}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":84,"column":0},"generated":{"line":1,"column":1246}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":84,"column":0},"generated":{"line":1,"column":1250}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":85,"column":0},"generated":{"line":1,"column":1252}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":85,"column":0},"generated":{"line":1,"column":1258}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":86,"column":0},"generated":{"line":1,"column":1264}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1268}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1275}},{"source":"node_modules/orbit-db-docstore/src/DocumentStore.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1283}}],"sources":{"node_modules/orbit-db-docstore/src/DocumentStore.js":"'use strict'\n\nconst Store = require('orbit-db-store')\nconst DocumentIndex = require('./DocumentIndex')\nconst pMap = require('p-map')\nconst Readable = require('readable-stream')\n\nconst replaceAll = (str, search, replacement) => str.toString().split(search).join(replacement)\n\nclass DocumentStore extends Store {\n  constructor (ipfs, id, dbname, options) {\n    if (!options) options = {}\n    if (!options.indexBy) Object.assign(options, { indexBy: '_id' })\n    if (!options.Index) Object.assign(options, { Index: DocumentIndex })\n    super(ipfs, id, dbname, options)\n    this._type = 'docstore'\n  }\n\n  get (key, caseSensitive = false) {\n    key = key.toString()\n    const terms = key.split(' ')\n    key = terms.length > 1 ? replaceAll(key, '.', ' ').toLowerCase() : key.toLowerCase()\n\n    const search = (e) => {\n      if (terms.length > 1) {\n        return replaceAll(e, '.', ' ').toLowerCase().indexOf(key) !== -1\n      }\n      return e.toLowerCase().indexOf(key) !== -1\n    }\n    const mapper = e => this._index.get(e)\n    const filter = e => caseSensitive\n      ? e.indexOf(key) !== -1\n      : search(e)\n\n    return Object.keys(this._index._index)\n      .filter(filter)\n      .map(mapper)\n  }\n\n  query (mapper, options = {}) {\n    // Whether we return the full operation data or just the db value\n    const fullOp = options.fullOp || false\n\n    return Object.keys(this._index._index)\n      .map((e) => this._index.get(e, fullOp))\n      .filter(mapper)\n  }\n\n  batchPut (docs, onProgressCallback) {\n    const mapper = (doc, idx) => {\n      return this._addOperationBatch(\n        {\n          op: 'PUT',\n          key: doc[this.options.indexBy],\n          value: doc\n        },\n        true,\n        idx === docs.length - 1,\n        onProgressCallback\n      )\n    }\n\n    return pMap(docs, mapper, { concurrency: 1 })\n      .then(() => this.saveSnapshot())\n  }\n\n  put (doc, options = {}) {\n    if (!doc[this.options.indexBy])\n      throw new Error(`The provided document doesn't contain field '${this.options.indexBy}'`)\n\n    return this._addOperation({\n      op: 'PUT',\n      key: doc[this.options.indexBy],\n      value: doc\n    }, options)\n  }\n\n  del (key, options = {}) {\n    if (!this._index.get(key))\n      throw new Error(`No entry with key '${key}' in the database`)\n\n    return this._addOperation({\n      op: 'DEL',\n      key: key,\n      value: null\n    }, options)\n  }\n}\n\nmodule.exports = DocumentStore\n"},"lineCount":null}},"error":null,"hash":"0b8e05decf2c80b33ef87941a06b8529","cacheData":{"env":{}}}