{"id":"RpeO","dependencies":[{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/package.json","includedInParent":true,"mtime":1584306008866},{"name":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-kad-dht/package.json","includedInParent":true,"mtime":1582579780032},{"name":"async/queue","loc":{"line":3,"column":22},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/async/queue.js"},{"name":"promisify-es6","loc":{"line":4,"column":26},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/promisify-es6/index.js"},{"name":"promise-to-callback","loc":{"line":5,"column":34},"parent":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","resolved":"/Users/polluterofminds/Development/simpleid/ssa-sdk/node_modules/ipfs/node_modules/promise-to-callback/index.js"}],"generated":{"js":"\"use strict\";const e=require(\"async/queue\"),t=require(\"promisify-es6\"),s=require(\"promise-to-callback\");class i{constructor(e,t,s,i){this.dht=e,this.run=t,this.path=s,this.log=i,this.concurrency=this.dht.concurrency,this.queue=this.setupQueue(),this.execution=null}setupQueue(){const t=e((e,t)=>{s(this.processNext(e))(t)},this.concurrency);return t.error=(e=>{this.log.error(\"queue\",e),this.stop(e)}),t.drain=(()=>{this.log(\"queue:drain\"),this.stop()}),t.unsaturated=(()=>{this.running&&this.fill()}),t.buffer=0,t}stop(e){this.running&&(this.running=!1,this.queue.kill(),this.log(\"worker:stop, %d workers still running\",this.run.workers.filter(e=>e.running).length),e?this.execution.reject(e):this.execution.resolve())}async execute(){this.running=!0,this.execution={};const e=new Promise((e,t)=>Object.assign(this.execution,{resolve:e,reject:t}));this.fill(),await e}fill(){for(;this.queue.running()+this.queue.length()<this.concurrency&&this.path.peersToQuery.length>0;)this.queue.push(this.path.peersToQuery.dequeue())}async processNext(e){if(!this.running)return;if(this.run.peersSeen.has(e))return;let t,s,i,r;try{t=await this.run.continueQuerying(this)}catch(u){s=u}if(this.running){if(s)throw s;if(t){if(!this.run.peersSeen.has(e)){this.run.peersSeen.add(e),this.log(\"queue:work\");try{i=await this.execQuery(e)}catch(u){r=u}if(this.running){if(this.log(\"queue:work:done\",r,i),r)throw r;if(i&&i.queryComplete)return this.log(\"query:complete\"),void this.run.stop();i&&i.pathComplete&&this.stop()}}}else this.stop()}}async execQuery(e){let s,i;try{s=await this.path.queryFunc(e)}catch(r){i=r}if(this.running)if(i)this.run.errors.push(i);else{if(await t(t=>this.run.peersQueried.add(e,t))(),s.pathComplete||s.queryComplete)return this.path.res=s,{pathComplete:s.pathComplete,queryComplete:s.queryComplete};s.closerPeers&&s.closerPeers.length>0&&await Promise.all(s.closerPeers.map(async e=>{this.dht._isSelf(e.id)||(e=this.dht.peerBook.put(e),this.dht._peerDiscovered(e),await this.path.addPeerToQuery(e.id))}))}}}module.exports=i;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queue","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"require","original":{"line":3,"column":14},"generated":{"line":1,"column":21}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":3,"column":22},"generated":{"line":1,"column":29}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"promisify","original":{"line":4,"column":6},"generated":{"line":1,"column":44}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"require","original":{"line":4,"column":18},"generated":{"line":1,"column":46}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":4,"column":26},"generated":{"line":1,"column":54}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"promiseToCallback","original":{"line":5,"column":6},"generated":{"line":1,"column":71}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"require","original":{"line":5,"column":26},"generated":{"line":1,"column":73}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":5,"column":34},"generated":{"line":1,"column":81}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":7,"column":0},"generated":{"line":1,"column":104}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"WorkerQueue","original":{"line":7,"column":6},"generated":{"line":1,"column":110}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"constructor","original":{"line":16,"column":2},"generated":{"line":1,"column":112}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"dht","original":{"line":16,"column":15},"generated":{"line":1,"column":124}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":16,"column":20},"generated":{"line":1,"column":126}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"path","original":{"line":16,"column":25},"generated":{"line":1,"column":128}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":16,"column":31},"generated":{"line":1,"column":130}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"dht","original":{"line":17,"column":9},"generated":{"line":1,"column":133}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"dht","original":{"line":17,"column":9},"generated":{"line":1,"column":138}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"dht","original":{"line":17,"column":15},"generated":{"line":1,"column":142}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":18,"column":9},"generated":{"line":1,"column":144}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":18,"column":9},"generated":{"line":1,"column":149}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":18,"column":15},"generated":{"line":1,"column":153}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"path","original":{"line":19,"column":9},"generated":{"line":1,"column":155}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"path","original":{"line":19,"column":9},"generated":{"line":1,"column":160}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"path","original":{"line":19,"column":16},"generated":{"line":1,"column":165}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":20,"column":9},"generated":{"line":1,"column":167}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":20,"column":9},"generated":{"line":1,"column":172}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":20,"column":15},"generated":{"line":1,"column":176}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"concurrency","original":{"line":22,"column":9},"generated":{"line":1,"column":178}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"concurrency","original":{"line":22,"column":9},"generated":{"line":1,"column":183}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":22,"column":23},"generated":{"line":1,"column":195}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"dht","original":{"line":22,"column":28},"generated":{"line":1,"column":200}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"concurrency","original":{"line":22,"column":32},"generated":{"line":1,"column":204}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queue","original":{"line":23,"column":9},"generated":{"line":1,"column":216}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queue","original":{"line":23,"column":9},"generated":{"line":1,"column":221}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":23,"column":17},"generated":{"line":1,"column":227}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"setupQueue","original":{"line":23,"column":22},"generated":{"line":1,"column":232}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execution","original":{"line":26,"column":9},"generated":{"line":1,"column":245}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execution","original":{"line":26,"column":9},"generated":{"line":1,"column":250}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":26,"column":21},"generated":{"line":1,"column":260}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"setupQueue","original":{"line":34,"column":2},"generated":{"line":1,"column":265}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"q","original":{"line":35,"column":10},"generated":{"line":1,"column":278}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"q","original":{"line":35,"column":10},"generated":{"line":1,"column":284}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queue","original":{"line":35,"column":14},"generated":{"line":1,"column":286}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":35,"column":20},"generated":{"line":1,"column":288}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peer","original":{"line":35,"column":21},"generated":{"line":1,"column":289}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"cb","original":{"line":35,"column":27},"generated":{"line":1,"column":291}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"promiseToCallback","original":{"line":36,"column":6},"generated":{"line":1,"column":296}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":36,"column":24},"generated":{"line":1,"column":298}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"processNext","original":{"line":36,"column":29},"generated":{"line":1,"column":303}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peer","original":{"line":36,"column":41},"generated":{"line":1,"column":315}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"promiseToCallback","original":{"line":36,"column":6},"generated":{"line":1,"column":318}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"cb","original":{"line":36,"column":48},"generated":{"line":1,"column":319}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":37,"column":7},"generated":{"line":1,"column":323}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"concurrency","original":{"line":37,"column":12},"generated":{"line":1,"column":328}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"q","original":{"line":60,"column":11},"generated":{"line":1,"column":341}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"q","original":{"line":40,"column":4},"generated":{"line":1,"column":348}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"error","original":{"line":40,"column":6},"generated":{"line":1,"column":350}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":40,"column":15},"generated":{"line":1,"column":356}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":40,"column":15},"generated":{"line":1,"column":357}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":41,"column":11},"generated":{"line":1,"column":361}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":41,"column":11},"generated":{"line":1,"column":366}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"error","original":{"line":41,"column":15},"generated":{"line":1,"column":370}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":41,"column":21},"generated":{"line":1,"column":376}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":41,"column":30},"generated":{"line":1,"column":384}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"stop","original":{"line":42,"column":11},"generated":{"line":1,"column":387}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"stop","original":{"line":42,"column":11},"generated":{"line":1,"column":392}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":42,"column":16},"generated":{"line":1,"column":397}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"q","original":{"line":46,"column":4},"generated":{"line":1,"column":402}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"drain","original":{"line":46,"column":6},"generated":{"line":1,"column":404}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":46,"column":14},"generated":{"line":1,"column":410}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":47,"column":11},"generated":{"line":1,"column":416}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":47,"column":11},"generated":{"line":1,"column":421}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":47,"column":15},"generated":{"line":1,"column":425}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"stop","original":{"line":48,"column":11},"generated":{"line":1,"column":440}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"stop","original":{"line":48,"column":11},"generated":{"line":1,"column":445}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"q","original":{"line":52,"column":4},"generated":{"line":1,"column":454}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"unsaturated","original":{"line":52,"column":6},"generated":{"line":1,"column":456}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":52,"column":20},"generated":{"line":1,"column":468}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":53,"column":10},"generated":{"line":1,"column":474}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":53,"column":15},"generated":{"line":1,"column":479}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"fill","original":{"line":54,"column":13},"generated":{"line":1,"column":488}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"fill","original":{"line":54,"column":13},"generated":{"line":1,"column":493}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"q","original":{"line":58,"column":4},"generated":{"line":1,"column":502}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"buffer","original":{"line":58,"column":6},"generated":{"line":1,"column":504}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":58,"column":15},"generated":{"line":1,"column":511}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"q","original":{"line":60,"column":11},"generated":{"line":1,"column":513}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"stop","original":{"line":69,"column":2},"generated":{"line":1,"column":515}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":69,"column":8},"generated":{"line":1,"column":520}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":70,"column":9},"generated":{"line":1,"column":523}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":70,"column":14},"generated":{"line":1,"column":528}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":74,"column":9},"generated":{"line":1,"column":538}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":74,"column":9},"generated":{"line":1,"column":543}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":74,"column":19},"generated":{"line":1,"column":552}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queue","original":{"line":75,"column":9},"generated":{"line":1,"column":554}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queue","original":{"line":75,"column":9},"generated":{"line":1,"column":559}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"kill","original":{"line":75,"column":15},"generated":{"line":1,"column":565}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":76,"column":9},"generated":{"line":1,"column":572}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":76,"column":9},"generated":{"line":1,"column":577}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":76,"column":13},"generated":{"line":1,"column":581}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":76,"column":54},"generated":{"line":1,"column":621}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":76,"column":59},"generated":{"line":1,"column":626}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"workers","original":{"line":76,"column":63},"generated":{"line":1,"column":630}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"filter","original":{"line":76,"column":71},"generated":{"line":1,"column":638}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"w","original":{"line":76,"column":78},"generated":{"line":1,"column":645}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"w","original":{"line":76,"column":83},"generated":{"line":1,"column":648}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":76,"column":85},"generated":{"line":1,"column":650}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"length","original":{"line":76,"column":94},"generated":{"line":1,"column":659}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":77,"column":8},"generated":{"line":1,"column":667}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execution","original":{"line":78,"column":11},"generated":{"line":1,"column":669}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execution","original":{"line":78,"column":11},"generated":{"line":1,"column":674}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"reject","original":{"line":78,"column":21},"generated":{"line":1,"column":684}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":78,"column":28},"generated":{"line":1,"column":691}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execution","original":{"line":80,"column":11},"generated":{"line":1,"column":694}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execution","original":{"line":80,"column":11},"generated":{"line":1,"column":699}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"resolve","original":{"line":80,"column":21},"generated":{"line":1,"column":709}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execute","original":{"line":90,"column":8},"generated":{"line":1,"column":720}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":91,"column":9},"generated":{"line":1,"column":736}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":91,"column":9},"generated":{"line":1,"column":741}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":91,"column":19},"generated":{"line":1,"column":750}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execution","original":{"line":93,"column":9},"generated":{"line":1,"column":752}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execution","original":{"line":93,"column":9},"generated":{"line":1,"column":757}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":93,"column":21},"generated":{"line":1,"column":767}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execPromise","original":{"line":94,"column":10},"generated":{"line":1,"column":770}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execPromise","original":{"line":94,"column":10},"generated":{"line":1,"column":776}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":94,"column":24},"generated":{"line":1,"column":778}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"Promise","original":{"line":94,"column":28},"generated":{"line":1,"column":782}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":94,"column":36},"generated":{"line":1,"column":790}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"resolve","original":{"line":94,"column":37},"generated":{"line":1,"column":791}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"reject","original":{"line":94,"column":46},"generated":{"line":1,"column":793}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"Object","original":{"line":94,"column":57},"generated":{"line":1,"column":797}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"assign","original":{"line":94,"column":64},"generated":{"line":1,"column":804}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":94,"column":71},"generated":{"line":1,"column":811}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execution","original":{"line":94,"column":76},"generated":{"line":1,"column":816}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":94,"column":87},"generated":{"line":1,"column":826}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"resolve","original":{"line":94,"column":89},"generated":{"line":1,"column":827}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"resolve","original":{"line":94,"column":89},"generated":{"line":1,"column":835}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"reject","original":{"line":94,"column":98},"generated":{"line":1,"column":837}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"reject","original":{"line":94,"column":98},"generated":{"line":1,"column":844}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"fill","original":{"line":96,"column":9},"generated":{"line":1,"column":849}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"fill","original":{"line":96,"column":9},"generated":{"line":1,"column":854}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execPromise","original":{"line":98,"column":10},"generated":{"line":1,"column":867}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"fill","original":{"line":109,"column":2},"generated":{"line":1,"column":869}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":113,"column":11},"generated":{"line":1,"column":876}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":113,"column":11},"generated":{"line":1,"column":881}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queue","original":{"line":113,"column":16},"generated":{"line":1,"column":886}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":113,"column":22},"generated":{"line":1,"column":892}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":113,"column":34},"generated":{"line":1,"column":902}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queue","original":{"line":113,"column":39},"generated":{"line":1,"column":907}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"length","original":{"line":113,"column":45},"generated":{"line":1,"column":913}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":113,"column":56},"generated":{"line":1,"column":922}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"concurrency","original":{"line":113,"column":61},"generated":{"line":1,"column":927}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":114,"column":11},"generated":{"line":1,"column":940}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"path","original":{"line":114,"column":16},"generated":{"line":1,"column":945}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peersToQuery","original":{"line":114,"column":21},"generated":{"line":1,"column":950}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"length","original":{"line":114,"column":34},"generated":{"line":1,"column":963}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":114,"column":43},"generated":{"line":1,"column":970}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queue","original":{"line":115,"column":11},"generated":{"line":1,"column":973}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queue","original":{"line":115,"column":11},"generated":{"line":1,"column":978}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"push","original":{"line":115,"column":17},"generated":{"line":1,"column":984}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":115,"column":22},"generated":{"line":1,"column":989}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"path","original":{"line":115,"column":27},"generated":{"line":1,"column":994}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peersToQuery","original":{"line":115,"column":32},"generated":{"line":1,"column":999}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"dequeue","original":{"line":115,"column":45},"generated":{"line":1,"column":1012}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"processNext","original":{"line":125,"column":8},"generated":{"line":1,"column":1023}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peer","original":{"line":125,"column":21},"generated":{"line":1,"column":1041}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":126,"column":8},"generated":{"line":1,"column":1044}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":126,"column":9},"generated":{"line":1,"column":1048}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":126,"column":14},"generated":{"line":1,"column":1053}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":127,"column":6},"generated":{"line":1,"column":1061}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":132,"column":8},"generated":{"line":1,"column":1068}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":132,"column":8},"generated":{"line":1,"column":1071}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":132,"column":13},"generated":{"line":1,"column":1076}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peersSeen","original":{"line":132,"column":17},"generated":{"line":1,"column":1080}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"has","original":{"line":132,"column":27},"generated":{"line":1,"column":1090}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peer","original":{"line":132,"column":31},"generated":{"line":1,"column":1094}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":133,"column":6},"generated":{"line":1,"column":1097}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQuerying","original":{"line":137,"column":8},"generated":{"line":1,"column":1104}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQuerying","original":{"line":137,"column":8},"generated":{"line":1,"column":1108}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQueryingError","original":{"line":137,"column":26},"generated":{"line":1,"column":1110}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"state","original":{"line":169,"column":8},"generated":{"line":1,"column":1112}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execError","original":{"line":169,"column":15},"generated":{"line":1,"column":1114}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":138,"column":8},"generated":{"line":1,"column":1116}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQuerying","original":{"line":139,"column":6},"generated":{"line":1,"column":1120}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":139,"column":31},"generated":{"line":1,"column":1128}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":139,"column":36},"generated":{"line":1,"column":1133}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQuerying","original":{"line":139,"column":40},"generated":{"line":1,"column":1137}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":139,"column":57},"generated":{"line":1,"column":1154}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":140,"column":6},"generated":{"line":1,"column":1160}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":140,"column":13},"generated":{"line":1,"column":1166}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQueryingError","original":{"line":141,"column":6},"generated":{"line":1,"column":1169}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":141,"column":30},"generated":{"line":1,"column":1171}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":145,"column":8},"generated":{"line":1,"column":1173}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":145,"column":9},"generated":{"line":1,"column":1176}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":145,"column":14},"generated":{"line":1,"column":1181}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":145,"column":8},"generated":{"line":1,"column":1189}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQueryingError","original":{"line":149,"column":8},"generated":{"line":1,"column":1190}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQueryingError","original":{"line":149,"column":8},"generated":{"line":1,"column":1193}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQueryingError","original":{"line":150,"column":12},"generated":{"line":1,"column":1195}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQueryingError","original":{"line":150,"column":12},"generated":{"line":1,"column":1201}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":156,"column":8},"generated":{"line":1,"column":1203}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"continueQuerying","original":{"line":156,"column":9},"generated":{"line":1,"column":1206}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":162,"column":8},"generated":{"line":1,"column":1209}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":162,"column":8},"generated":{"line":1,"column":1213}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":162,"column":13},"generated":{"line":1,"column":1218}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peersSeen","original":{"line":162,"column":17},"generated":{"line":1,"column":1222}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"has","original":{"line":162,"column":27},"generated":{"line":1,"column":1232}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peer","original":{"line":162,"column":31},"generated":{"line":1,"column":1236}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":162,"column":8},"generated":{"line":1,"column":1239}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":165,"column":9},"generated":{"line":1,"column":1240}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":165,"column":9},"generated":{"line":1,"column":1245}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peersSeen","original":{"line":165,"column":13},"generated":{"line":1,"column":1249}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"add","original":{"line":165,"column":23},"generated":{"line":1,"column":1259}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peer","original":{"line":165,"column":27},"generated":{"line":1,"column":1263}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":168,"column":9},"generated":{"line":1,"column":1266}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":168,"column":9},"generated":{"line":1,"column":1271}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":168,"column":13},"generated":{"line":1,"column":1275}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":170,"column":8},"generated":{"line":1,"column":1289}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"state","original":{"line":171,"column":6},"generated":{"line":1,"column":1293}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":171,"column":20},"generated":{"line":1,"column":1301}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execQuery","original":{"line":171,"column":25},"generated":{"line":1,"column":1306}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peer","original":{"line":171,"column":35},"generated":{"line":1,"column":1316}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":172,"column":6},"generated":{"line":1,"column":1319}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":172,"column":13},"generated":{"line":1,"column":1325}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execError","original":{"line":173,"column":6},"generated":{"line":1,"column":1328}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":173,"column":18},"generated":{"line":1,"column":1330}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":177,"column":8},"generated":{"line":1,"column":1332}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":177,"column":9},"generated":{"line":1,"column":1335}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":177,"column":14},"generated":{"line":1,"column":1340}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":177,"column":8},"generated":{"line":1,"column":1348}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execError","original":{"line":183,"column":8},"generated":{"line":1,"column":1349}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":181,"column":9},"generated":{"line":1,"column":1352}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":181,"column":9},"generated":{"line":1,"column":1357}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":181,"column":13},"generated":{"line":1,"column":1361}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execError","original":{"line":181,"column":32},"generated":{"line":1,"column":1379}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"state","original":{"line":181,"column":43},"generated":{"line":1,"column":1381}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execError","original":{"line":183,"column":8},"generated":{"line":1,"column":1384}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execError","original":{"line":184,"column":12},"generated":{"line":1,"column":1386}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execError","original":{"line":184,"column":12},"generated":{"line":1,"column":1392}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"state","original":{"line":190,"column":8},"generated":{"line":1,"column":1394}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"state","original":{"line":190,"column":8},"generated":{"line":1,"column":1397}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"state","original":{"line":190,"column":17},"generated":{"line":1,"column":1400}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryComplete","original":{"line":190,"column":23},"generated":{"line":1,"column":1402}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":193,"column":6},"generated":{"line":1,"column":1416}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":191,"column":11},"generated":{"line":1,"column":1423}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"log","original":{"line":191,"column":11},"generated":{"line":1,"column":1428}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":191,"column":15},"generated":{"line":1,"column":1432}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":192,"column":11},"generated":{"line":1,"column":1455}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":192,"column":11},"generated":{"line":1,"column":1460}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"stop","original":{"line":192,"column":15},"generated":{"line":1,"column":1464}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"state","original":{"line":198,"column":8},"generated":{"line":1,"column":1471}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"state","original":{"line":198,"column":17},"generated":{"line":1,"column":1474}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"pathComplete","original":{"line":198,"column":23},"generated":{"line":1,"column":1476}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"stop","original":{"line":199,"column":11},"generated":{"line":1,"column":1490}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"stop","original":{"line":199,"column":11},"generated":{"line":1,"column":1495}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"stop","original":{"line":157,"column":11},"generated":{"line":1,"column":1509}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"stop","original":{"line":157,"column":11},"generated":{"line":1,"column":1514}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"execQuery","original":{"line":210,"column":8},"generated":{"line":1,"column":1522}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peer","original":{"line":210,"column":19},"generated":{"line":1,"column":1538}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":211,"column":8},"generated":{"line":1,"column":1541}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":211,"column":8},"generated":{"line":1,"column":1545}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryError","original":{"line":211,"column":13},"generated":{"line":1,"column":1547}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":212,"column":8},"generated":{"line":1,"column":1549}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":213,"column":6},"generated":{"line":1,"column":1553}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":213,"column":18},"generated":{"line":1,"column":1561}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"path","original":{"line":213,"column":23},"generated":{"line":1,"column":1566}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryFunc","original":{"line":213,"column":28},"generated":{"line":1,"column":1571}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peer","original":{"line":213,"column":38},"generated":{"line":1,"column":1581}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":214,"column":6},"generated":{"line":1,"column":1584}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":214,"column":13},"generated":{"line":1,"column":1590}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryError","original":{"line":215,"column":6},"generated":{"line":1,"column":1593}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"err","original":{"line":215,"column":19},"generated":{"line":1,"column":1595}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":219,"column":8},"generated":{"line":1,"column":1597}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":219,"column":9},"generated":{"line":1,"column":1600}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"running","original":{"line":219,"column":14},"generated":{"line":1,"column":1605}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryError","original":{"line":223,"column":8},"generated":{"line":1,"column":1613}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryError","original":{"line":223,"column":8},"generated":{"line":1,"column":1616}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":224,"column":11},"generated":{"line":1,"column":1618}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":224,"column":11},"generated":{"line":1,"column":1623}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"errors","original":{"line":224,"column":15},"generated":{"line":1,"column":1627}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"push","original":{"line":224,"column":22},"generated":{"line":1,"column":1634}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryError","original":{"line":224,"column":27},"generated":{"line":1,"column":1639}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryError","original":{"line":223,"column":8},"generated":{"line":1,"column":1646}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":233,"column":8},"generated":{"line":1,"column":1647}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"promisify","original":{"line":229,"column":10},"generated":{"line":1,"column":1656}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"cb","original":{"line":229,"column":20},"generated":{"line":1,"column":1658}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":229,"column":26},"generated":{"line":1,"column":1661}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"run","original":{"line":229,"column":31},"generated":{"line":1,"column":1666}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peersQueried","original":{"line":229,"column":35},"generated":{"line":1,"column":1670}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"add","original":{"line":229,"column":48},"generated":{"line":1,"column":1683}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peer","original":{"line":229,"column":52},"generated":{"line":1,"column":1687}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"cb","original":{"line":229,"column":58},"generated":{"line":1,"column":1689}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"promisify","original":{"line":229,"column":10},"generated":{"line":1,"column":1692}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":233,"column":8},"generated":{"line":1,"column":1695}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"pathComplete","original":{"line":233,"column":12},"generated":{"line":1,"column":1697}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":233,"column":28},"generated":{"line":1,"column":1711}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryComplete","original":{"line":233,"column":32},"generated":{"line":1,"column":1713}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":235,"column":13},"generated":{"line":1,"column":1727}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"path","original":{"line":234,"column":11},"generated":{"line":1,"column":1734}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"path","original":{"line":234,"column":11},"generated":{"line":1,"column":1739}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":234,"column":16},"generated":{"line":1,"column":1744}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":234,"column":22},"generated":{"line":1,"column":1748}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":235,"column":13},"generated":{"line":1,"column":1750}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"pathComplete","original":{"line":236,"column":8},"generated":{"line":1,"column":1751}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":236,"column":22},"generated":{"line":1,"column":1764}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"pathComplete","original":{"line":236,"column":26},"generated":{"line":1,"column":1766}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryComplete","original":{"line":237,"column":8},"generated":{"line":1,"column":1779}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":237,"column":23},"generated":{"line":1,"column":1793}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"queryComplete","original":{"line":237,"column":27},"generated":{"line":1,"column":1795}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":242,"column":8},"generated":{"line":1,"column":1810}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"closerPeers","original":{"line":242,"column":12},"generated":{"line":1,"column":1812}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":242,"column":27},"generated":{"line":1,"column":1825}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"closerPeers","original":{"line":242,"column":31},"generated":{"line":1,"column":1827}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"length","original":{"line":242,"column":43},"generated":{"line":1,"column":1839}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":242,"column":52},"generated":{"line":1,"column":1846}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"Promise","original":{"line":243,"column":12},"generated":{"line":1,"column":1855}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"all","original":{"line":243,"column":20},"generated":{"line":1,"column":1863}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"res","original":{"line":243,"column":24},"generated":{"line":1,"column":1867}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"closerPeers","original":{"line":243,"column":28},"generated":{"line":1,"column":1869}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"map","original":{"line":243,"column":40},"generated":{"line":1,"column":1881}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":243,"column":44},"generated":{"line":1,"column":1885}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":243,"column":44},"generated":{"line":1,"column":1891}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":245,"column":12},"generated":{"line":1,"column":1895}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"dht","original":{"line":245,"column":17},"generated":{"line":1,"column":1900}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"_isSelf","original":{"line":245,"column":21},"generated":{"line":1,"column":1904}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"closer","original":{"line":245,"column":29},"generated":{"line":1,"column":1912}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"id","original":{"line":245,"column":36},"generated":{"line":1,"column":1914}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"closer","original":{"line":248,"column":8},"generated":{"line":1,"column":1920}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":248,"column":17},"generated":{"line":1,"column":1922}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"dht","original":{"line":248,"column":22},"generated":{"line":1,"column":1927}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"peerBook","original":{"line":248,"column":26},"generated":{"line":1,"column":1931}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"put","original":{"line":248,"column":35},"generated":{"line":1,"column":1940}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"closer","original":{"line":248,"column":39},"generated":{"line":1,"column":1944}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"dht","original":{"line":249,"column":13},"generated":{"line":1,"column":1947}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"dht","original":{"line":249,"column":13},"generated":{"line":1,"column":1952}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"_peerDiscovered","original":{"line":249,"column":17},"generated":{"line":1,"column":1956}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"closer","original":{"line":249,"column":33},"generated":{"line":1,"column":1972}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","original":{"line":250,"column":14},"generated":{"line":1,"column":1981}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"path","original":{"line":250,"column":19},"generated":{"line":1,"column":1986}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"addPeerToQuery","original":{"line":250,"column":24},"generated":{"line":1,"column":1991}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"closer","original":{"line":250,"column":39},"generated":{"line":1,"column":2006}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"id","original":{"line":250,"column":46},"generated":{"line":1,"column":2008}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"module","original":{"line":256,"column":0},"generated":{"line":1,"column":2018}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"exports","original":{"line":256,"column":7},"generated":{"line":1,"column":2025}},{"source":"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js","name":"WorkerQueue","original":{"line":256,"column":17},"generated":{"line":1,"column":2033}}],"sources":{"node_modules/ipfs/node_modules/libp2p-kad-dht/src/query/workerQueue.js":"'use strict'\n\nconst queue = require('async/queue')\nconst promisify = require('promisify-es6')\nconst promiseToCallback = require('promise-to-callback')\n\nclass WorkerQueue {\n  /**\n   * Creates a new WorkerQueue.\n   *\n   * @param {DHT} dht\n   * @param {Run} run\n   * @param {Object} path\n   * @param {function} log\n   */\n  constructor (dht, run, path, log) {\n    this.dht = dht\n    this.run = run\n    this.path = path\n    this.log = log\n\n    this.concurrency = this.dht.concurrency\n    this.queue = this.setupQueue()\n    // a container for resolve/reject functions that will be populated\n    // when execute() is called\n    this.execution = null\n  }\n\n  /**\n   * Create the underlying async queue.\n   *\n   * @returns {Object}\n   */\n  setupQueue () {\n    const q = queue((peer, cb) => {\n      promiseToCallback(this.processNext(peer))(cb)\n    }, this.concurrency)\n\n    // If there's an error, stop the worker\n    q.error = (err) => {\n      this.log.error('queue', err)\n      this.stop(err)\n    }\n\n    // When all peers in the queue have been processed, stop the worker\n    q.drain = () => {\n      this.log('queue:drain')\n      this.stop()\n    }\n\n    // When a space opens up in the queue, add some more peers\n    q.unsaturated = () => {\n      if (this.running) {\n        this.fill()\n      }\n    }\n\n    q.buffer = 0\n\n    return q\n  }\n\n  /**\n   * Stop the worker, optionally providing an error to pass to the worker's\n   * callback.\n   *\n   * @param {Error} err\n   */\n  stop (err) {\n    if (!this.running) {\n      return\n    }\n\n    this.running = false\n    this.queue.kill()\n    this.log('worker:stop, %d workers still running', this.run.workers.filter(w => w.running).length)\n    if (err) {\n      this.execution.reject(err)\n    } else {\n      this.execution.resolve()\n    }\n  }\n\n  /**\n   * Use the queue from async to keep `concurrency` amount items running\n   * per path.\n   *\n   * @return {Promise<void>}\n   */\n  async execute () {\n    this.running = true\n    // store the promise resolution functions to be resolved at end of queue\n    this.execution = {}\n    const execPromise = new Promise((resolve, reject) => Object.assign(this.execution, { resolve, reject }))\n    // start queue\n    this.fill()\n    // await completion\n    await execPromise\n  }\n\n  /**\n   * Add peers to the worker queue until there are enough to satisfy the\n   * worker queue concurrency.\n   * Note that we don't want to take any more than those required to satisfy\n   * concurrency from the peers-to-query queue, because we always want to\n   * query the closest peers to the key first, and new peers are continously\n   * being added to the peers-to-query queue.\n   */\n  fill () {\n    // Note:\n    // - queue.running(): number of items that are currently running\n    // - queue.length(): the number of items that are waiting to be run\n    while (this.queue.running() + this.queue.length() < this.concurrency &&\n           this.path.peersToQuery.length > 0) {\n      this.queue.push(this.path.peersToQuery.dequeue())\n    }\n  }\n\n  /**\n   * Process the next peer in the queue\n   *\n   * @param {PeerId} peer\n   * @returns {Promise<void>}\n   */\n  async processNext (peer) {\n    if (!this.running) {\n      return\n    }\n\n    // The paths must be disjoint, meaning that no two paths in the Query may\n    // traverse the same peer\n    if (this.run.peersSeen.has(peer)) {\n      return\n    }\n\n    // Check if we've queried enough peers already\n    let continueQuerying, continueQueryingError\n    try {\n      continueQuerying = await this.run.continueQuerying(this)\n    } catch (err) {\n      continueQueryingError = err\n    }\n\n    // Abort and ignore any error if we're no longer running\n    if (!this.running) {\n      return\n    }\n\n    if (continueQueryingError) {\n      throw continueQueryingError\n    }\n\n    // No peer we're querying is closer, stop the queue\n    // This will cause queries that may potentially result in\n    // closer nodes to be ended, but it reduces overall query time\n    if (!continueQuerying) {\n      this.stop()\n      return\n    }\n\n    // Check if another path has queried this peer in the mean time\n    if (this.run.peersSeen.has(peer)) {\n      return\n    }\n    this.run.peersSeen.add(peer)\n\n    // Execute the query on the next peer\n    this.log('queue:work')\n    let state, execError\n    try {\n      state = await this.execQuery(peer)\n    } catch (err) {\n      execError = err\n    }\n\n    // Abort and ignore any error if we're no longer running\n    if (!this.running) {\n      return\n    }\n\n    this.log('queue:work:done', execError, state)\n\n    if (execError) {\n      throw execError\n    }\n\n    // If query is complete, stop all workers.\n    // Note: run.stop() calls stop() on all the workers, which kills the\n    // queue and resolves execution\n    if (state && state.queryComplete) {\n      this.log('query:complete')\n      this.run.stop()\n      return\n    }\n\n    // If path is complete, just stop this worker.\n    // Note: this.stop() kills the queue and resolves execution\n    if (state && state.pathComplete) {\n      this.stop()\n    }\n  }\n\n  /**\n   * Execute a query on the next peer.\n   *\n   * @param {PeerId} peer\n   * @returns {Promise<void>}\n   * @private\n   */\n  async execQuery (peer) {\n    let res, queryError\n    try {\n      res = await this.path.queryFunc(peer)\n    } catch (err) {\n      queryError = err\n    }\n\n    // Abort and ignore any error if we're no longer running\n    if (!this.running) {\n      return\n    }\n\n    if (queryError) {\n      this.run.errors.push(queryError)\n      return\n    }\n\n    // Add the peer to the closest peers we have successfully queried\n    await promisify(cb => this.run.peersQueried.add(peer, cb))()\n\n    // If the query indicates that this path or the whole query is complete\n    // set the path result and bail out\n    if (res.pathComplete || res.queryComplete) {\n      this.path.res = res\n      return {\n        pathComplete: res.pathComplete,\n        queryComplete: res.queryComplete\n      }\n    }\n\n    // If there are closer peers to query, add them to the queue\n    if (res.closerPeers && res.closerPeers.length > 0) {\n      await Promise.all(res.closerPeers.map(async (closer) => {\n        // don't add ourselves\n        if (this.dht._isSelf(closer.id)) {\n          return\n        }\n        closer = this.dht.peerBook.put(closer)\n        this.dht._peerDiscovered(closer)\n        await this.path.addPeerToQuery(closer.id)\n      }))\n    }\n  }\n}\n\nmodule.exports = WorkerQueue\n"},"lineCount":null}},"error":null,"hash":"4db8a1cbd2df07a837dd18c8af317fcc","cacheData":{"env":{}}}